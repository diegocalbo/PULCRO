import{a as Mc,b as Lc,R as Xe,r as l,c as Kt,d as Fc,N as Ut,L as vr,e as zc,u as $c,B as Bc,f as Ns,g as Oe}from"./vendor-BZL5ahCd.js";import{X as $r,W as et,C as Wc,s as ye,e as Br,a as Cs,b as Uc,c as Fe,d as Vt,i as Wr,f as po,g as he,h as ge,j as Yn,k as qe,l as Vc,m as gr,n as qc,o as ht,p as br,q as Hc,r as Gc,t as Yc,u as Kc,v as Kn,w as Ss,x as Xc,y as ho,z as xo,A as Ur,B as Vr,D as Zc,E as Jc,F as vo,G as Qc,H as el,U as Je,I as yr,J as Cn,K as qt,L as Es,M as tl,T as go,N as bo,P as Xt,S as Zt,O as nl,Q as Ct,R as Sn,V as St,Y as yo,Z as wo,_ as jo,$ as No,a0 as rl,a1 as sl,a2 as ol,a3 as Co,a4 as al,a5 as Is,a6 as Xn,a7 as Ts,a8 as Ds,a9 as il,aa as cl,ab as ll,ac as dl,ad as ul,ae as fl,af as ml}from"./ui-hDWnPstx.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var Zn={exports:{}},Ft={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs;function pl(){if(Rs)return Ft;Rs=1;var e=Mc(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(c,f,u){var d,m={},h=null,v=null;u!==void 0&&(h=""+u),f.key!==void 0&&(h=""+f.key),f.ref!==void 0&&(v=f.ref);for(d in f)s.call(f,d)&&!a.hasOwnProperty(d)&&(m[d]=f[d]);if(c&&c.defaultProps)for(d in f=c.defaultProps,f)m[d]===void 0&&(m[d]=f[d]);return{$$typeof:n,type:c,key:h,ref:v,props:m,_owner:o.current}}return Ft.Fragment=r,Ft.jsx=i,Ft.jsxs=i,Ft}var Ps;function hl(){return Ps||(Ps=1,Zn.exports=pl()),Zn.exports}var t=hl(),on={},As;function xl(){if(As)return on;As=1;var e=Lc();return on.createRoot=e.createRoot,on.hydrateRoot=e.hydrateRoot,on}var vl=xl();const gl=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);class So extends Xe.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}render(){return this.state.hasError?t.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[t.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),t.jsx("pre",{className:"mt-2 text-sm",children:gl(this.state.error)})]}):this.props.children}}const ie={USERS:"pulcro_users",CLIENTES:"pulcro_clientes",TIPOS_SERVICIO:"pulcro_tipos_servicio",EQUIPOS:"pulcro_equipos",SERVICIOS:"pulcro_servicios",CURRENT_USER:"pulcro_current_user",INITIALIZED:"pulcro_initialized"};class bl{getItem(n,r){try{const s=localStorage.getItem(n);return s?JSON.parse(s):r}catch(s){return console.error(`Error getting item ${n}:`,s),r}}setItem(n,r){try{localStorage.setItem(n,JSON.stringify(r))}catch(s){console.error(`Error setting item ${n}:`,s)}}initializeData(){if(this.getItem(ie.INITIALIZED,!1))return;const n=[{id:"1",username:"admin",password:"admin",nivel:"admin",nombre:"Administrador",email:"admin@pulcro.com",fechaCreacion:new Date().toISOString()},{id:"2",username:"operador",password:"operador",nivel:"user",nombre:"Operador",email:"operador@pulcro.com",fechaCreacion:new Date().toISOString()}],r=[{id:"1",nombre:"Hotel Palermo Plaza",empresa:"Hotelería Palermo SA",telefono:"+5411-4832-1234",email:"info@palermohotel.com.ar",direccion:"Av. Santa Fe 1234, Palermo, Buenos Aires",cuit:"30-12345678-9",contacto:"María Fernanda García",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()},{id:"2",nombre:"Parrilla El Asador",empresa:"El Asador Parrilla SRL",telefono:"+5411-4567-8901",email:"contacto@elasador.com.ar",direccion:"Av. Corrientes 2456, San Telmo, Buenos Aires",cuit:"30-87654321-0",contacto:"Carlos Alberto Martínez",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()},{id:"3",nombre:"Café Tortoni",empresa:"Café Tortoni SA",telefono:"+5411-4342-4328",email:"admin@cafetortoni.com.ar",direccion:"Av. de Mayo 825, Monserrat, Buenos Aires",cuit:"30-11223344-5",contacto:"Ana María López",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()},{id:"4",nombre:"Panadería La Baguette",empresa:"La Baguette Panadería LTDA",telefono:"+5411-4801-2345",email:"info@labaguette.com.ar",direccion:"Av. Cabildo 1567, Belgrano, Buenos Aires",cuit:"30-55667788-1",contacto:"Luis Miguel Rodríguez",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()},{id:"5",nombre:"Pizzería Napolitana",empresa:"Napolitana Pizzas SRL",telefono:"+5411-4963-7890",email:"pedidos@napolitana.com.ar",direccion:"Av. Rivadavia 5432, Caballito, Buenos Aires",cuit:"30-99887766-3",contacto:"Giuseppe Romano",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()}],s=[{id:"1",nombre:"Limpieza Básica de Campana",precio:15e3,descripcion:"Limpieza básica de campana extractora incluyendo filtros y desengrasado superficial",tiempoEstimado:120,frecuencia:"Mensual",categoria:"Básico",fechaCreacion:new Date().toISOString()},{id:"2",nombre:"Limpieza Completa de Campana",precio:25e3,descripcion:"Limpieza completa de campana, ductos y sistema de extracción con desengrasado profundo",tiempoEstimado:180,frecuencia:"Mensual",categoria:"Completo",fechaCreacion:new Date().toISOString()},{id:"3",nombre:"Mantenimiento de Ductos",precio:18e3,descripcion:"Limpieza y mantenimiento preventivo de ductos de ventilación",tiempoEstimado:150,frecuencia:"Trimestral",categoria:"Mantenimiento",fechaCreacion:new Date().toISOString()},{id:"4",nombre:"Inspección Técnica",precio:8e3,descripcion:"Inspección técnica completa del sistema de extracción y ventilación",tiempoEstimado:60,frecuencia:"Semestral",categoria:"Inspección",fechaCreacion:new Date().toISOString()},{id:"5",nombre:"Desengrase Profundo",precio:35e3,descripcion:"Desengrase profundo de campanas industriales con productos especializados",tiempoEstimado:240,frecuencia:"Bajo demanda",categoria:"Especializado",fechaCreacion:new Date().toISOString()}],o=[{id:"1",nombre:"Equipo Alpha",lider:"Daniel Martínez",telefono:"+5411-4567-1111",email:"daniel@pulcro.com.ar",especialidad:"Limpieza de Campanas",activo:!0,fechaCreacion:new Date().toISOString()},{id:"2",nombre:"Equipo Beta",lider:"Carmen Ruiz",telefono:"+5411-4567-2222",email:"carmen@pulcro.com.ar",especialidad:"Mantenimiento de Ductos",activo:!0,fechaCreacion:new Date().toISOString()},{id:"3",nombre:"Equipo Gamma",lider:"Roberto Fernández",telefono:"+5411-4567-3333",email:"roberto@pulcro.com.ar",especialidad:"Inspección y Desengrase",activo:!0,fechaCreacion:new Date().toISOString()},{id:"4",nombre:"Equipo Delta",lider:"María José Pérez",telefono:"+5411-4567-4444",email:"maria@pulcro.com.ar",especialidad:"Emergencias",activo:!0,fechaCreacion:new Date().toISOString()}],a=new Date,i=[{id:"1",clienteId:"1",tipoServicioId:"1",equipoId:"1",fecha:this.addDays(a,1).toISOString().split("T")[0],hora:"09:00",estado:"Programado",direccion:"Av. Santa Fe 1234, Palermo, Buenos Aires",observaciones:"Limpieza programada mensual - Cocina principal",prioridad:"Media",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()},{id:"2",clienteId:"2",tipoServicioId:"2",equipoId:"2",fecha:this.addDays(a,2).toISOString().split("T")[0],hora:"14:00",estado:"Programado",direccion:"Av. Corrientes 2456, San Telmo, Buenos Aires",observaciones:"Limpieza completa después de renovación de parrilla",prioridad:"Alta",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()},{id:"3",clienteId:"3",tipoServicioId:"3",equipoId:"3",fecha:this.addDays(a,3).toISOString().split("T")[0],hora:"10:30",estado:"Programado",direccion:"Av. de Mayo 825, Monserrat, Buenos Aires",observaciones:"Mantenimiento trimestral de ductos históricos",prioridad:"Media",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()},{id:"4",clienteId:"4",tipoServicioId:"4",equipoId:"1",fecha:this.addDays(a,5).toISOString().split("T")[0],hora:"16:00",estado:"Programado",direccion:"Av. Cabildo 1567, Belgrano, Buenos Aires",observaciones:"Inspección semestral - Verificar cumplimiento normativo",prioridad:"Baja",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()},{id:"5",clienteId:"5",tipoServicioId:"5",equipoId:"4",fecha:this.addDays(a,7).toISOString().split("T")[0],hora:"11:00",estado:"Programado",direccion:"Av. Rivadavia 5432, Caballito, Buenos Aires",observaciones:"Desengrase profundo horno industrial",prioridad:"Alta",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()},{id:"6",clienteId:"1",tipoServicioId:"1",equipoId:"2",fecha:this.addDays(a,14).toISOString().split("T")[0],hora:"08:30",estado:"Programado",direccion:"Av. Santa Fe 1234, Palermo, Buenos Aires",observaciones:"Limpieza mensual recurrente - Cocina secundaria",prioridad:"Media",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()}];this.setItem(ie.USERS,n),this.setItem(ie.CLIENTES,r),this.setItem(ie.TIPOS_SERVICIO,s),this.setItem(ie.EQUIPOS,o),this.setItem(ie.SERVICIOS,i),this.setItem(ie.INITIALIZED,!0)}addDays(n,r){const s=new Date(n);return s.setDate(s.getDate()+r),s}getUsers(){return this.getItem(ie.USERS,[])}saveUsers(n){this.setItem(ie.USERS,n)}getCurrentUser(){return this.getItem(ie.CURRENT_USER,null)}setCurrentUser(n){this.setItem(ie.CURRENT_USER,n)}getClientes(){return this.getItem(ie.CLIENTES,[])}saveClientes(n){this.setItem(ie.CLIENTES,n)}getTiposServicio(){return this.getItem(ie.TIPOS_SERVICIO,[])}saveTiposServicio(n){this.setItem(ie.TIPOS_SERVICIO,n)}getEquipos(){return this.getItem(ie.EQUIPOS,[])}saveEquipos(n){this.setItem(ie.EQUIPOS,n)}getServicios(){return this.getItem(ie.SERVICIOS,[])}saveServicios(n){this.setItem(ie.SERVICIOS,n)}getDashboardMetrics(){const n=this.getClientes(),r=this.getServicios(),s=this.getEquipos(),o=this.getTiposServicio(),a=new Date().getMonth(),i=new Date().getFullYear(),c=new Date().toISOString().split("T")[0],f=r.filter(h=>{const v=new Date(h.fecha);return v.getMonth()===a&&v.getFullYear()===i}),u=r.filter(h=>h.fecha===c),d=f.reduce((h,v)=>{const g=o.find(p=>p.id===v.tipoServicioId);return h+((g==null?void 0:g.precio)||0)},0),m=r.reduce((h,v)=>{const g=o.find(p=>p.id===v.tipoServicioId);return h+((g==null?void 0:g.precio)||0)},0);return{totalClientes:n.length,totalServicios:r.length,serviciosPendientes:r.filter(h=>h.estado==="Pendiente").length,serviciosCompletados:r.filter(h=>h.estado==="Realizado").length,ingresosMes:d,ingresosTotal:m,serviciosHoy:u.length,equiposActivos:s.filter(h=>h.activo).length}}clearAllData(){Object.values(ie).forEach(n=>{localStorage.removeItem(n)})}}const z=new bl,Eo=l.createContext(void 0),yl=({children:e})=>{const[n,r]=l.useState(null);l.useEffect(()=>{z.initializeData();const c=z.getCurrentUser();c&&r({id:c.id,username:c.username,nivel:c.nivel,nombre:c.nombre})},[]);const i={user:n,isAuthenticated:!!n,login:async(c,f)=>{try{const d=z.getUsers().find(m=>m.username===c&&m.password===f);if(d){const m={id:d.id,username:d.username,nivel:d.nivel,nombre:d.nombre};return r(m),z.setCurrentUser(d),!0}return!1}catch(u){return console.error("Login error:",u),!1}},logout:()=>{r(null),z.setCurrentUser(null)},isAdmin:()=>(n==null?void 0:n.nivel)==="admin"};return t.jsx(Eo.Provider,{value:i,children:e})},Dt=()=>{const e=l.useContext(Eo);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},wl=1,jl=1e6;let Jn=0;function Nl(){return Jn=(Jn+1)%Number.MAX_SAFE_INTEGER,Jn.toString()}const Qn=new Map,_s=e=>{if(Qn.has(e))return;const n=setTimeout(()=>{Qn.delete(e),Wt({type:"REMOVE_TOAST",toastId:e})},jl);Qn.set(e,n)},Cl=(e,n)=>{switch(n.type){case"ADD_TOAST":return{...e,toasts:[n.toast,...e.toasts].slice(0,wl)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===n.toast.id?{...r,...n.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=n;return r?_s(r):e.toasts.forEach(s=>{_s(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==n.toastId)}}},hn=[];let xn={toasts:[]};function Wt(e){xn=Cl(xn,e),hn.forEach(n=>{n(xn)})}function Sl({...e}){const n=Nl(),r=o=>Wt({type:"UPDATE_TOAST",toast:{...o,id:n}}),s=()=>Wt({type:"DISMISS_TOAST",toastId:n});return Wt({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:o=>{o||s()}}}),{id:n,dismiss:s,update:r}}function st(){const[e,n]=l.useState(xn);return l.useEffect(()=>(hn.push(n),()=>{const r=hn.indexOf(n);r>-1&&hn.splice(r,1)}),[e]),{...e,toast:Sl,dismiss:r=>Wt({type:"DISMISS_TOAST",toastId:r})}}function W(e,n,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function Os(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Io(...e){return n=>{let r=!1;const s=e.map(o=>{const a=Os(o,n);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():Os(e[o],null)}}}}function se(...e){return l.useCallback(Io(...e),e)}function El(e,n){const r=l.createContext(n),s=a=>{const{children:i,...c}=a,f=l.useMemo(()=>c,Object.values(c));return t.jsx(r.Provider,{value:f,children:i})};s.displayName=e+"Provider";function o(a){const i=l.useContext(r);if(i)return i;if(n!==void 0)return n;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,o]}function ot(e,n=[]){let r=[];function s(a,i){const c=l.createContext(i),f=r.length;r=[...r,i];const u=m=>{var w;const{scope:h,children:v,...g}=m,p=((w=h==null?void 0:h[e])==null?void 0:w[f])||c,x=l.useMemo(()=>g,Object.values(g));return t.jsx(p.Provider,{value:x,children:v})};u.displayName=a+"Provider";function d(m,h){var p;const v=((p=h==null?void 0:h[e])==null?void 0:p[f])||c,g=l.useContext(v);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[u,d]}const o=()=>{const a=r.map(i=>l.createContext(i));return function(c){const f=(c==null?void 0:c[e])||a;return l.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return o.scopeName=e,[s,Il(o,...n)]}function Il(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=s.reduce((c,{useScope:f,scopeName:u})=>{const m=f(a)[`__scope${u}`];return{...c,...m}},{});return l.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return r.scopeName=n.scopeName,r}function Et(e){const n=Dl(e),r=l.forwardRef((s,o)=>{const{children:a,...i}=s,c=l.Children.toArray(a),f=c.find(Pl);if(f){const u=f.props.children,d=c.map(m=>m===f?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:m);return t.jsx(n,{...i,ref:o,children:l.isValidElement(u)?l.cloneElement(u,void 0,d):null})}return t.jsx(n,{...i,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}var Tl=Et("Slot");function Dl(e){const n=l.forwardRef((r,s)=>{const{children:o,...a}=r;if(l.isValidElement(o)){const i=_l(o),c=Al(a,o.props);return o.type!==l.Fragment&&(c.ref=s?Io(s,i):i),l.cloneElement(o,c)}return l.Children.count(o)>1?l.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var Rl=Symbol("radix.slottable");function Pl(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rl}function Al(e,n){const r={...n};for(const s in n){const o=e[s],a=n[s];/^on[A-Z]/.test(s)?o&&a?r[s]=(...c)=>{a(...c),o(...c)}:o&&(r[s]=o):s==="style"?r[s]={...o,...a}:s==="className"&&(r[s]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function _l(e){var s,o;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qr(e){const n=e+"CollectionProvider",[r,s]=ot(n),[o,a]=r(n,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:x,children:w}=p,y=Xe.useRef(null),b=Xe.useRef(new Map).current;return t.jsx(o,{scope:x,itemMap:b,collectionRef:y,children:w})};i.displayName=n;const c=e+"CollectionSlot",f=Et(c),u=Xe.forwardRef((p,x)=>{const{scope:w,children:y}=p,b=a(c,w),T=se(x,b.collectionRef);return t.jsx(f,{ref:T,children:y})});u.displayName=c;const d=e+"CollectionItemSlot",m="data-radix-collection-item",h=Et(d),v=Xe.forwardRef((p,x)=>{const{scope:w,children:y,...b}=p,T=Xe.useRef(null),O=se(x,T),M=a(d,w);return Xe.useEffect(()=>(M.itemMap.set(T,{ref:T,...b}),()=>void M.itemMap.delete(T))),t.jsx(h,{[m]:"",ref:O,children:y})});v.displayName=d;function g(p){const x=a(e+"CollectionConsumer",p);return Xe.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(x.itemMap.values()).sort((M,_)=>b.indexOf(M.ref.current)-b.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:v},g,s]}var Ol=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],K=Ol.reduce((e,n)=>{const r=Et(`Primitive.${n}`),s=l.forwardRef((o,a)=>{const{asChild:i,...c}=o,f=i?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:a})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{});function To(e,n){e&&Kt.flushSync(()=>e.dispatchEvent(n))}function xe(e){const n=l.useRef(e);return l.useEffect(()=>{n.current=e}),l.useMemo(()=>(...r)=>{var s;return(s=n.current)==null?void 0:s.call(n,...r)},[])}function kl(e,n=globalThis==null?void 0:globalThis.document){const r=xe(e);l.useEffect(()=>{const s=o=>{o.key==="Escape"&&r(o)};return n.addEventListener("keydown",s,{capture:!0}),()=>n.removeEventListener("keydown",s,{capture:!0})},[r,n])}var Ml="DismissableLayer",wr="dismissableLayer.update",Ll="dismissableLayer.pointerDownOutside",Fl="dismissableLayer.focusOutside",ks,Do=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_n=l.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:i,onDismiss:c,...f}=e,u=l.useContext(Do),[d,m]=l.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=l.useState({}),g=se(n,_=>m(_)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=p.indexOf(x),y=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,T=y>=w,O=$l(_=>{const S=_.target,D=[...u.branches].some(k=>k.contains(S));!T||D||(o==null||o(_),i==null||i(_),_.defaultPrevented||c==null||c())},h),M=Bl(_=>{const S=_.target;[...u.branches].some(k=>k.contains(S))||(a==null||a(_),i==null||i(_),_.defaultPrevented||c==null||c())},h);return kl(_=>{y===u.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},h),l.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ks=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ms(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ks)}},[d,h,r,u]),l.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ms())},[d,u]),l.useEffect(()=>{const _=()=>v({});return document.addEventListener(wr,_),()=>document.removeEventListener(wr,_)},[]),t.jsx(K.div,{...f,ref:g,style:{pointerEvents:b?T?"auto":"none":void 0,...e.style},onFocusCapture:W(e.onFocusCapture,M.onFocusCapture),onBlurCapture:W(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:W(e.onPointerDownCapture,O.onPointerDownCapture)})});_n.displayName=Ml;var zl="DismissableLayerBranch",Ro=l.forwardRef((e,n)=>{const r=l.useContext(Do),s=l.useRef(null),o=se(n,s);return l.useEffect(()=>{const a=s.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),t.jsx(K.div,{...e,ref:o})});Ro.displayName=zl;function $l(e,n=globalThis==null?void 0:globalThis.document){const r=xe(e),s=l.useRef(!1),o=l.useRef(()=>{});return l.useEffect(()=>{const a=c=>{if(c.target&&!s.current){let f=function(){Po(Ll,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",o.current),o.current=f,n.addEventListener("click",o.current,{once:!0})):f()}else n.removeEventListener("click",o.current);s.current=!1},i=window.setTimeout(()=>{n.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),n.removeEventListener("pointerdown",a),n.removeEventListener("click",o.current)}},[n,r]),{onPointerDownCapture:()=>s.current=!0}}function Bl(e,n=globalThis==null?void 0:globalThis.document){const r=xe(e),s=l.useRef(!1);return l.useEffect(()=>{const o=a=>{a.target&&!s.current&&Po(Fl,r,{originalEvent:a},{discrete:!1})};return n.addEventListener("focusin",o),()=>n.removeEventListener("focusin",o)},[n,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ms(){const e=new CustomEvent(wr);document.dispatchEvent(e)}function Po(e,n,r,{discrete:s}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&o.addEventListener(e,n,{once:!0}),s?To(o,a):o.dispatchEvent(a)}var Wl=_n,Ul=Ro,pe=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},Vl="Portal",On=l.forwardRef((e,n)=>{var c;const{container:r,...s}=e,[o,a]=l.useState(!1);pe(()=>a(!0),[]);const i=r||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?Fc.createPortal(t.jsx(K.div,{...s,ref:n}),i):null});On.displayName=Vl;function ql(e,n){return l.useReducer((r,s)=>n[r][s]??r,e)}var Rt=e=>{const{present:n,children:r}=e,s=Hl(n),o=typeof r=="function"?r({present:s.isPresent}):l.Children.only(r),a=se(s.ref,Gl(o));return typeof r=="function"||s.isPresent?l.cloneElement(o,{ref:a}):null};Rt.displayName="Presence";function Hl(e){const[n,r]=l.useState(),s=l.useRef({}),o=l.useRef(e),a=l.useRef("none"),i=e?"mounted":"unmounted",[c,f]=ql(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=an(s.current);a.current=c==="mounted"?u:"none"},[c]),pe(()=>{const u=s.current,d=o.current;if(d!==e){const h=a.current,v=an(u);e?f("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?f("UNMOUNT"):f(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),pe(()=>{if(n){let u;const d=n.ownerDocument.defaultView??window,m=v=>{const p=an(s.current).includes(v.animationName);if(v.target===n&&p&&(f("ANIMATION_END"),!o.current)){const x=n.style.animationFillMode;n.style.animationFillMode="forwards",u=d.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=x)})}},h=v=>{v.target===n&&(a.current=an(s.current))};return n.addEventListener("animationstart",h),n.addEventListener("animationcancel",m),n.addEventListener("animationend",m),()=>{d.clearTimeout(u),n.removeEventListener("animationstart",h),n.removeEventListener("animationcancel",m),n.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[n,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:l.useCallback(u=>{u&&(s.current=getComputedStyle(u)),r(u)},[])}}function an(e){return(e==null?void 0:e.animationName)||"none"}function Gl(e){var s,o;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ut({prop:e,defaultProp:n,onChange:r=()=>{}}){const[s,o]=Yl({defaultProp:n,onChange:r}),a=e!==void 0,i=a?e:s,c=xe(r),f=l.useCallback(u=>{if(a){const m=typeof u=="function"?u(e):u;m!==e&&c(m)}else o(u)},[a,e,o,c]);return[i,f]}function Yl({defaultProp:e,onChange:n}){const r=l.useState(e),[s]=r,o=l.useRef(s),a=xe(n);return l.useEffect(()=>{o.current!==s&&(a(s),o.current=s)},[s,o,a]),r}var Kl="VisuallyHidden",kn=l.forwardRef((e,n)=>t.jsx(K.span,{...e,ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));kn.displayName=Kl;var Hr="ToastProvider",[Gr,Xl,Zl]=qr("Toast"),[Ao,wx]=ot("Toast",[Zl]),[Jl,Mn]=Ao(Hr),_o=e=>{const{__scopeToast:n,label:r="Notification",duration:s=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:i}=e,[c,f]=l.useState(null),[u,d]=l.useState(0),m=l.useRef(!1),h=l.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hr}\`. Expected non-empty \`string\`.`),t.jsx(Gr.Provider,{scope:n,children:t.jsx(Jl,{scope:n,label:r,duration:s,swipeDirection:o,swipeThreshold:a,toastCount:u,viewport:c,onViewportChange:f,onToastAdd:l.useCallback(()=>d(v=>v+1),[]),onToastRemove:l.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:i})})};_o.displayName=Hr;var Oo="ToastViewport",Ql=["F8"],jr="toast.viewportPause",Nr="toast.viewportResume",ko=l.forwardRef((e,n)=>{const{__scopeToast:r,hotkey:s=Ql,label:o="Notifications ({hotkey})",...a}=e,i=Mn(Oo,r),c=Xl(r),f=l.useRef(null),u=l.useRef(null),d=l.useRef(null),m=l.useRef(null),h=se(n,m,i.onViewportChange),v=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;l.useEffect(()=>{const x=w=>{var b;s.length!==0&&s.every(T=>w[T]||w.code===T)&&((b=m.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[s]),l.useEffect(()=>{const x=f.current,w=m.current;if(g&&x&&w){const y=()=>{if(!i.isClosePausedRef.current){const M=new CustomEvent(jr);w.dispatchEvent(M),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const M=new CustomEvent(Nr);w.dispatchEvent(M),i.isClosePausedRef.current=!1}},T=M=>{!x.contains(M.relatedTarget)&&b()},O=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",y),x.addEventListener("focusout",T),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",T),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[g,i.isClosePausedRef]);const p=l.useCallback(({tabbingDirection:x})=>{const y=c().map(b=>{const T=b.ref.current,O=[T,...fd(T)];return x==="forwards"?O:O.reverse()});return(x==="forwards"?y.reverse():y).flat()},[c]);return l.useEffect(()=>{const x=m.current;if(x){const w=y=>{var O,M,_;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const S=document.activeElement,D=y.shiftKey;if(y.target===x&&D){(O=u.current)==null||O.focus();return}const C=p({tabbingDirection:D?"backwards":"forwards"}),I=C.findIndex(R=>R===S);er(C.slice(I+1))?y.preventDefault():D?(M=u.current)==null||M.focus():(_=d.current)==null||_.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[c,p]),t.jsxs(Ul,{ref:f,role:"region","aria-label":o.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&t.jsx(Cr,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});er(x)}}),t.jsx(Gr.Slot,{scope:r,children:t.jsx(K.ol,{tabIndex:-1,...a,ref:h})}),g&&t.jsx(Cr,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});er(x)}})]})});ko.displayName=Oo;var Mo="ToastFocusProxy",Cr=l.forwardRef((e,n)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...o}=e,a=Mn(Mo,r);return t.jsx(kn,{"aria-hidden":!0,tabIndex:0,...o,ref:n,style:{position:"fixed"},onFocus:i=>{var u;const c=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(c))&&s()}})});Cr.displayName=Mo;var Ln="Toast",ed="toast.swipeStart",td="toast.swipeMove",nd="toast.swipeCancel",rd="toast.swipeEnd",Lo=l.forwardRef((e,n)=>{const{forceMount:r,open:s,defaultOpen:o,onOpenChange:a,...i}=e,[c=!0,f]=ut({prop:s,defaultProp:o,onChange:a});return t.jsx(Rt,{present:r||c,children:t.jsx(ad,{open:c,...i,ref:n,onClose:()=>f(!1),onPause:xe(e.onPause),onResume:xe(e.onResume),onSwipeStart:W(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:W(e.onSwipeMove,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:W(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:W(e.onSwipeEnd,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),f(!1)})})})});Lo.displayName=Ln;var[sd,od]=Ao(Ln,{onClose(){}}),ad=l.forwardRef((e,n)=>{const{__scopeToast:r,type:s="foreground",duration:o,open:a,onClose:i,onEscapeKeyDown:c,onPause:f,onResume:u,onSwipeStart:d,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:v,...g}=e,p=Mn(Ln,r),[x,w]=l.useState(null),y=se(n,R=>w(R)),b=l.useRef(null),T=l.useRef(null),O=o||p.duration,M=l.useRef(0),_=l.useRef(O),S=l.useRef(0),{onToastAdd:D,onToastRemove:k}=p,N=xe(()=>{var j;(x==null?void 0:x.contains(document.activeElement))&&((j=p.viewport)==null||j.focus()),i()}),C=l.useCallback(R=>{!R||R===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(N,R))},[N]);l.useEffect(()=>{const R=p.viewport;if(R){const j=()=>{C(_.current),u==null||u()},A=()=>{const P=new Date().getTime()-M.current;_.current=_.current-P,window.clearTimeout(S.current),f==null||f()};return R.addEventListener(jr,A),R.addEventListener(Nr,j),()=>{R.removeEventListener(jr,A),R.removeEventListener(Nr,j)}}},[p.viewport,O,f,u,C]),l.useEffect(()=>{a&&!p.isClosePausedRef.current&&C(O)},[a,O,p.isClosePausedRef,C]),l.useEffect(()=>(D(),()=>k()),[D,k]);const I=l.useMemo(()=>x?Vo(x):null,[x]);return p.viewport?t.jsxs(t.Fragment,{children:[I&&t.jsx(id,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),t.jsx(sd,{scope:r,onClose:N,children:Kt.createPortal(t.jsx(Gr.ItemSlot,{scope:r,children:t.jsx(Wl,{asChild:!0,onEscapeKeyDown:W(c,()=>{p.isFocusedToastEscapeKeyDownRef.current||N(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(K.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:W(e.onKeyDown,R=>{R.key==="Escape"&&(c==null||c(R.nativeEvent),R.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:W(e.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:W(e.onPointerMove,R=>{if(!b.current)return;const j=R.clientX-b.current.x,A=R.clientY-b.current.y,P=!!T.current,E=["left","right"].includes(p.swipeDirection),L=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,J=E?L(0,j):0,te=E?0:L(0,A),We=R.pointerType==="touch"?10:2,Ae={x:J,y:te},Ne={originalEvent:R,delta:Ae};P?(T.current=Ae,cn(td,m,Ne,{discrete:!1})):Ls(Ae,p.swipeDirection,We)?(T.current=Ae,cn(ed,d,Ne,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(j)>We||Math.abs(A)>We)&&(b.current=null)}),onPointerUp:W(e.onPointerUp,R=>{const j=T.current,A=R.target;if(A.hasPointerCapture(R.pointerId)&&A.releasePointerCapture(R.pointerId),T.current=null,b.current=null,j){const P=R.currentTarget,E={originalEvent:R,delta:j};Ls(j,p.swipeDirection,p.swipeThreshold)?cn(rd,v,E,{discrete:!0}):cn(nd,h,E,{discrete:!0}),P.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),id=e=>{const{__scopeToast:n,children:r,...s}=e,o=Mn(Ln,n),[a,i]=l.useState(!1),[c,f]=l.useState(!1);return dd(()=>i(!0)),l.useEffect(()=>{const u=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(u)},[]),c?null:t.jsx(On,{asChild:!0,children:t.jsx(kn,{...s,children:a&&t.jsxs(t.Fragment,{children:[o.label," ",r]})})})},cd="ToastTitle",Fo=l.forwardRef((e,n)=>{const{__scopeToast:r,...s}=e;return t.jsx(K.div,{...s,ref:n})});Fo.displayName=cd;var ld="ToastDescription",zo=l.forwardRef((e,n)=>{const{__scopeToast:r,...s}=e;return t.jsx(K.div,{...s,ref:n})});zo.displayName=ld;var $o="ToastAction",Bo=l.forwardRef((e,n)=>{const{altText:r,...s}=e;return r.trim()?t.jsx(Uo,{altText:r,asChild:!0,children:t.jsx(Yr,{...s,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${$o}\`. Expected non-empty \`string\`.`),null)});Bo.displayName=$o;var Wo="ToastClose",Yr=l.forwardRef((e,n)=>{const{__scopeToast:r,...s}=e,o=od(Wo,r);return t.jsx(Uo,{asChild:!0,children:t.jsx(K.button,{type:"button",...s,ref:n,onClick:W(e.onClick,o.onClose)})})});Yr.displayName=Wo;var Uo=l.forwardRef((e,n)=>{const{__scopeToast:r,altText:s,...o}=e;return t.jsx(K.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...o,ref:n})});function Vo(e){const n=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&n.push(s.textContent),ud(s)){const o=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const i=s.dataset.radixToastAnnounceAlt;i&&n.push(i)}else n.push(...Vo(s))}}),n}function cn(e,n,r,{discrete:s}){const o=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});n&&o.addEventListener(e,n,{once:!0}),s?To(o,a):o.dispatchEvent(a)}var Ls=(e,n,r=0)=>{const s=Math.abs(e.x),o=Math.abs(e.y),a=s>o;return n==="left"||n==="right"?a&&s>r:!a&&o>r};function dd(e=()=>{}){const n=xe(e);pe(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[n])}function ud(e){return e.nodeType===e.ELEMENT_NODE}function fd(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function er(e){const n=document.activeElement;return e.some(r=>r===n?!0:(r.focus(),document.activeElement!==n))}var md=_o,qo=ko,Ho=Lo,Go=Fo,Yo=zo,Ko=Bo,Xo=Yr;function Zo(e){var n,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(r=Zo(e[n]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Jo(){for(var e,n,r=0,s="",o=arguments.length;r<o;r++)(e=arguments[r])&&(n=Zo(e))&&(s&&(s+=" "),s+=n);return s}const Fs=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zs=Jo,Fn=(e,n)=>r=>{var s;if((n==null?void 0:n.variants)==null)return zs(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=n,i=Object.keys(o).map(u=>{const d=r==null?void 0:r[u],m=a==null?void 0:a[u];if(d===null)return null;const h=Fs(d)||Fs(m);return o[u][h]}),c=r&&Object.entries(r).reduce((u,d)=>{let[m,h]=d;return h===void 0||(u[m]=h),u},{}),f=n==null||(s=n.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:m,className:h,...v}=d;return Object.entries(v).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...a,...c}[p]):{...a,...c}[p]===x})?[...u,m,h]:u},[]);return zs(e,i,f,r==null?void 0:r.class,r==null?void 0:r.className)},Kr="-",pd=e=>{const n=xd(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:i=>{const c=i.split(Kr);return c[0]===""&&c.length!==1&&c.shift(),Qo(c,n)||hd(i)},getConflictingClassGroupIds:(i,c)=>{const f=r[i]||[];return c&&s[i]?[...f,...s[i]]:f}}},Qo=(e,n)=>{var i;if(e.length===0)return n.classGroupId;const r=e[0],s=n.nextPart.get(r),o=s?Qo(e.slice(1),s):void 0;if(o)return o;if(n.validators.length===0)return;const a=e.join(Kr);return(i=n.validators.find(({validator:c})=>c(a)))==null?void 0:i.classGroupId},$s=/^\[(.+)\]$/,hd=e=>{if($s.test(e)){const n=$s.exec(e)[1],r=n==null?void 0:n.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}},xd=e=>{const{theme:n,prefix:r}=e,s={nextPart:new Map,validators:[]};return gd(Object.entries(e.classGroups),r).forEach(([a,i])=>{Sr(i,s,a,n)}),s},Sr=(e,n,r,s)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?n:Bs(n,o);a.classGroupId=r;return}if(typeof o=="function"){if(vd(o)){Sr(o(s),n,r,s);return}n.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,i])=>{Sr(i,Bs(n,a),r,s)})})},Bs=(e,n)=>{let r=e;return n.split(Kr).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},vd=e=>e.isThemeGetter,gd=(e,n)=>n?e.map(([r,s])=>{const o=s.map(a=>typeof a=="string"?n+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,c])=>[n+i,c])):a);return[r,o]}):e,bd=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,r=new Map,s=new Map;const o=(a,i)=>{r.set(a,i),n++,n>e&&(n=0,s=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=s.get(a))!==void 0)return o(a,i),i},set(a,i){r.has(a)?r.set(a,i):o(a,i)}}},ea="!",yd=e=>{const{separator:n,experimentalParseClassName:r}=e,s=n.length===1,o=n[0],a=n.length,i=c=>{const f=[];let u=0,d=0,m;for(let x=0;x<c.length;x++){let w=c[x];if(u===0){if(w===o&&(s||c.slice(x,x+a)===n)){f.push(c.slice(d,x)),d=x+a;continue}if(w==="/"){m=x;continue}}w==="["?u++:w==="]"&&u--}const h=f.length===0?c:c.substring(d),v=h.startsWith(ea),g=v?h.substring(1):h,p=m&&m>d?m-d:void 0;return{modifiers:f,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:p}};return r?c=>r({className:c,parseClassName:i}):i},wd=e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(s=>{s[0]==="["?(n.push(...r.sort(),s),r=[]):r.push(s)}),n.push(...r.sort()),n},jd=e=>({cache:bd(e.cacheSize),parseClassName:yd(e),...pd(e)}),Nd=/\s+/,Cd=(e,n)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:o}=n,a=[],i=e.trim().split(Nd);let c="";for(let f=i.length-1;f>=0;f-=1){const u=i[f],{modifiers:d,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:v}=r(u);let g=!!v,p=s(g?h.substring(0,v):h);if(!p){if(!g){c=u+(c.length>0?" "+c:c);continue}if(p=s(h),!p){c=u+(c.length>0?" "+c:c);continue}g=!1}const x=wd(d).join(":"),w=m?x+ea:x,y=w+p;if(a.includes(y))continue;a.push(y);const b=o(p,g);for(let T=0;T<b.length;++T){const O=b[T];a.push(w+O)}c=u+(c.length>0?" "+c:c)}return c};function Sd(){let e=0,n,r,s="";for(;e<arguments.length;)(n=arguments[e++])&&(r=ta(n))&&(s&&(s+=" "),s+=r);return s}const ta=e=>{if(typeof e=="string")return e;let n,r="";for(let s=0;s<e.length;s++)e[s]&&(n=ta(e[s]))&&(r&&(r+=" "),r+=n);return r};function Ed(e,...n){let r,s,o,a=i;function i(f){const u=n.reduce((d,m)=>m(d),e());return r=jd(u),s=r.cache.get,o=r.cache.set,a=c,c(f)}function c(f){const u=s(f);if(u)return u;const d=Cd(f,r);return o(f,d),d}return function(){return a(Sd.apply(null,arguments))}}const re=e=>{const n=r=>r[e]||[];return n.isThemeGetter=!0,n},na=/^\[(?:([a-z-]+):)?(.+)\]$/i,Id=/^\d+\/\d+$/,Td=new Set(["px","full","screen"]),Dd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ad=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_d=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ue=e=>yt(e)||Td.has(e)||Id.test(e),Ye=e=>Pt(e,"length",Bd),yt=e=>!!e&&!Number.isNaN(Number(e)),tr=e=>Pt(e,"number",yt),zt=e=>!!e&&Number.isInteger(Number(e)),Od=e=>e.endsWith("%")&&yt(e.slice(0,-1)),G=e=>na.test(e),Ke=e=>Dd.test(e),kd=new Set(["length","size","percentage"]),Md=e=>Pt(e,kd,ra),Ld=e=>Pt(e,"position",ra),Fd=new Set(["image","url"]),zd=e=>Pt(e,Fd,Ud),$d=e=>Pt(e,"",Wd),$t=()=>!0,Pt=(e,n,r)=>{const s=na.exec(e);return s?s[1]?typeof n=="string"?s[1]===n:n.has(s[1]):r(s[2]):!1},Bd=e=>Rd.test(e)&&!Pd.test(e),ra=()=>!1,Wd=e=>Ad.test(e),Ud=e=>_d.test(e),Vd=()=>{const e=re("colors"),n=re("spacing"),r=re("blur"),s=re("brightness"),o=re("borderColor"),a=re("borderRadius"),i=re("borderSpacing"),c=re("borderWidth"),f=re("contrast"),u=re("grayscale"),d=re("hueRotate"),m=re("invert"),h=re("gap"),v=re("gradientColorStops"),g=re("gradientColorStopPositions"),p=re("inset"),x=re("margin"),w=re("opacity"),y=re("padding"),b=re("saturate"),T=re("scale"),O=re("sepia"),M=re("skew"),_=re("space"),S=re("translate"),D=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",G,n],C=()=>[G,n],I=()=>["",Ue,Ye],R=()=>["auto",yt,G],j=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",G],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[yt,G];return{cacheSize:500,separator:":",theme:{colors:[$t],spacing:[Ue,Ye],blur:["none","",Ke,G],brightness:te(),borderColor:[e],borderRadius:["none","","full",Ke,G],borderSpacing:C(),borderWidth:I(),contrast:te(),grayscale:L(),hueRotate:te(),invert:L(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[Od,Ye],inset:N(),margin:N(),opacity:te(),padding:C(),saturate:te(),scale:te(),sepia:L(),skew:te(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[Ke]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...j(),G]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zt,G]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",zt,G]}],"grid-cols":[{"grid-cols":[$t]}],"col-start-end":[{col:["auto",{span:["full",zt,G]},G]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[$t]}],"row-start-end":[{row:["auto",{span:[zt,G]},G]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,n]}],"min-w":[{"min-w":[G,n,"min","max","fit"]}],"max-w":[{"max-w":[G,n,"none","full","min","max","fit","prose",{screen:[Ke]},Ke]}],h:[{h:[G,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,n,"auto","min","max","fit"]}],"font-size":[{text:["base",Ke,Ye]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tr]}],"font-family":[{font:[$t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",yt,tr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ue,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ue,Ye]}],"underline-offset":[{"underline-offset":["auto",Ue,G]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...j(),Ld]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Md]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zd]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:A()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Ue,G]}],"outline-w":[{outline:[Ue,Ye]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ue,Ye]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ke,$d]}],"shadow-color":[{shadow:[$t]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Ke,G]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[m]}],saturate:[{saturate:[b]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[zt,G]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ue,Ye,tr]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qd=Ed(Vd);function $(...e){return qd(Jo(e))}const Hd=md,sa=l.forwardRef(({className:e,...n},r)=>t.jsx(qo,{ref:r,className:$("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...n}));sa.displayName=qo.displayName;const Gd=Fn("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),oa=l.forwardRef(({className:e,variant:n,...r},s)=>t.jsx(Ho,{ref:s,className:$(Gd({variant:n}),e),...r}));oa.displayName=Ho.displayName;const Yd=l.forwardRef(({className:e,...n},r)=>t.jsx(Ko,{ref:r,className:$("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",e),...n}));Yd.displayName=Ko.displayName;const aa=l.forwardRef(({className:e,...n},r)=>t.jsx(Xo,{ref:r,className:$("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",e),"toast-close":"",...n,children:t.jsx($r,{className:"h-4 w-4"})}));aa.displayName=Xo.displayName;const ia=l.forwardRef(({className:e,...n},r)=>t.jsx(Go,{ref:r,className:$("text-sm font-semibold [&+div]:text-xs",e),...n}));ia.displayName=Go.displayName;const ca=l.forwardRef(({className:e,...n},r)=>t.jsx(Yo,{ref:r,className:$("text-sm opacity-90",e),...n}));ca.displayName=Yo.displayName;function Kd(){const{toasts:e}=st();return t.jsxs(Hd,{children:[e.map(function({id:n,title:r,description:s,action:o,...a}){return t.jsxs(oa,{...a,children:[t.jsxs("div",{className:"grid gap-1",children:[r&&t.jsx(ia,{children:r}),s&&t.jsx(ca,{children:s})]}),o,t.jsx(aa,{})]},n)}),t.jsx(sa,{})]})}const Er=Fn("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=l.forwardRef(({className:e,variant:n,size:r,asChild:s=!1,...o},a)=>{const i=s?Tl:"button";return t.jsx(i,{className:$(Er({variant:n,size:r,className:e})),ref:a,...o})});F.displayName="Button";const q=l.forwardRef(({className:e,type:n,...r},s)=>t.jsx("input",{type:n,className:$("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",e),ref:s,...r}));q.displayName="Input";var Xd="Label",la=l.forwardRef((e,n)=>t.jsx(K.label,{...e,ref:n,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));la.displayName=Xd;var da=la;const Zd=Fn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ke=l.forwardRef(({className:e,...n},r)=>t.jsx(da,{ref:r,className:$(Zd(),e),...n}));ke.displayName=da.displayName;const H=l.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:$("rounded-lg border bg-card text-card-foreground shadow-sm",e),...n}));H.displayName="Card";const ue=l.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:$("flex flex-col space-y-1.5 p-6",e),...n}));ue.displayName="CardHeader";const fe=l.forwardRef(({className:e,...n},r)=>t.jsx("h3",{ref:r,className:$("text-2xl font-semibold leading-none tracking-tight",e),...n}));fe.displayName="CardTitle";const Ht=l.forwardRef(({className:e,...n},r)=>t.jsx("p",{ref:r,className:$("text-sm text-muted-foreground",e),...n}));Ht.displayName="CardDescription";const Y=l.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:$("p-6 pt-0",e),...n}));Y.displayName="CardContent";const Jd=l.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:$("flex items-center p-6 pt-0",e),...n}));Jd.displayName="CardFooter";const Qd=()=>{const[e,n]=l.useState(""),[r,s]=l.useState(""),[o,a]=l.useState(!1),[i,c]=l.useState(""),{login:f,isAuthenticated:u}=Dt(),{toast:d}=st();if(u)return t.jsx(Ut,{to:"/dashboard",replace:!0});const m=async v=>{v.preventDefault(),a(!0),c("");try{await f(e,r)?d({title:"Inicio de sesión exitoso",description:"Bienvenido a PULCRO"}):(c("Usuario o contraseña incorrectos"),d({title:"Error de autenticación",description:"Las credenciales proporcionadas no son válidas",variant:"destructive"}))}catch{c("Error al iniciar sesión. Inténtalo de nuevo."),d({title:"Error del sistema",description:"Ocurrió un error inesperado. Inténtalo de nuevo.",variant:"destructive"})}finally{a(!1)}},h=v=>{v==="admin"?(n("admin"),s("admin")):(n("operador"),s("operador"))};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:t.jsxs("div",{className:"w-full max-w-md space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mb-4",children:t.jsx(et,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"PULCRO"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema de Gestión de Servicios de Limpieza"})]}),t.jsxs(H,{className:"shadow-xl",children:[t.jsxs(ue,{className:"space-y-1",children:[t.jsx(fe,{className:"text-2xl text-center",children:"Iniciar Sesión"}),t.jsx(Ht,{className:"text-center",children:"Ingresa tus credenciales para acceder al sistema"})]}),t.jsxs(Y,{children:[t.jsxs("form",{onSubmit:m,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ke,{htmlFor:"username",children:"Usuario"}),t.jsx(q,{id:"username",type:"text",placeholder:"Ingresa tu usuario",value:e,onChange:v=>n(v.target.value),required:!0,className:"w-full"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ke,{htmlFor:"password",children:"Contraseña"}),t.jsx(q,{id:"password",type:"password",placeholder:"Ingresa tu contraseña",value:r,onChange:v=>s(v.target.value),required:!0,className:"w-full"})]}),i&&t.jsxs("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[t.jsx(Wc,{className:"w-4 h-4"}),t.jsx("span",{children:i})]}),t.jsx(F,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Iniciando sesión...":"Iniciar Sesión"})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[t.jsx("p",{className:"text-sm text-gray-600 text-center mb-3",children:"Credenciales de demostración:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(F,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>h("admin"),children:"Administrador (admin/admin)"}),t.jsx(F,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>h("user"),children:"Operador (operador/operador)"})]})]})]})]}),t.jsxs("div",{className:"text-center text-sm text-gray-500",children:[t.jsx("p",{children:"© 2025 PULCRO - Sistema de Gestión de Limpieza"}),t.jsx("p",{className:"mt-1",children:"Versión 2.0 - Aplicación Standalone"})]})]})})},eu=Fn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200"}},defaultVariants:{variant:"default"}});function je({className:e,variant:n,...r}){return t.jsx("div",{className:$(eu({variant:n}),e),...r})}var B=function(){return B=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},B.apply(this,arguments)};function tu(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function ua(e,n,r){for(var s=0,o=n.length,a;s<o;s++)(a||!(s in n))&&(a||(a=Array.prototype.slice.call(n,0,s)),a[s]=n[s]);return e.concat(a||Array.prototype.slice.call(n))}function Jt(e){return e.mode==="multiple"}function Qt(e){return e.mode==="range"}function zn(e){return e.mode==="single"}var nu={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ru(e,n){return ht(e,"LLLL y",n)}function su(e,n){return ht(e,"d",n)}function ou(e,n){return ht(e,"LLLL",n)}function au(e){return"".concat(e)}function iu(e,n){return ht(e,"cccccc",n)}function cu(e,n){return ht(e,"yyyy",n)}var lu=Object.freeze({__proto__:null,formatCaption:ru,formatDay:su,formatMonthCaption:ou,formatWeekNumber:au,formatWeekdayName:iu,formatYearCaption:cu}),du=function(e,n,r){return ht(e,"do MMMM (EEEE)",r)},uu=function(){return"Month: "},fu=function(){return"Go to next month"},mu=function(){return"Go to previous month"},pu=function(e,n){return ht(e,"cccc",n)},hu=function(e){return"Week n. ".concat(e)},xu=function(){return"Year: "},vu=Object.freeze({__proto__:null,labelDay:du,labelMonthDropdown:uu,labelNext:fu,labelPrevious:mu,labelWeekNumber:hu,labelWeekday:pu,labelYearDropdown:xu});function gu(){var e="buttons",n=nu,r=Uc,s={},o={},a=1,i={},c=new Date;return{captionLayout:e,classNames:n,formatters:lu,labels:vu,locale:r,modifiersClassNames:s,modifiers:o,numberOfMonths:a,styles:i,today:c,mode:"default"}}function bu(e){var n=e.fromYear,r=e.toYear,s=e.fromMonth,o=e.toMonth,a=e.fromDate,i=e.toDate;return s?a=ye(s):n&&(a=new Date(n,0,1)),o?i=Br(o):r&&(i=new Date(r,11,31)),{fromDate:a?Cs(a):void 0,toDate:i?Cs(i):void 0}}var fa=l.createContext(void 0);function yu(e){var n,r=e.initialProps,s=gu(),o=bu(r),a=o.fromDate,i=o.toDate,c=(n=r.captionLayout)!==null&&n!==void 0?n:s.captionLayout;c!=="buttons"&&(!a||!i)&&(c="buttons");var f;(zn(r)||Jt(r)||Qt(r))&&(f=r.onSelect);var u=B(B(B({},s),r),{captionLayout:c,classNames:B(B({},s.classNames),r.classNames),components:B({},r.components),formatters:B(B({},s.formatters),r.formatters),fromDate:a,labels:B(B({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:B(B({},s.modifiers),r.modifiers),modifiersClassNames:B(B({},s.modifiersClassNames),r.modifiersClassNames),onSelect:f,styles:B(B({},s.styles),r.styles),toDate:i});return t.jsx(fa.Provider,{value:u,children:e.children})}function ee(){var e=l.useContext(fa);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function ma(e){var n=ee(),r=n.locale,s=n.classNames,o=n.styles,a=n.formatters.formatCaption;return t.jsx("div",{className:s.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function wu(e){return t.jsx("svg",B({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:t.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function pa(e){var n,r,s=e.onChange,o=e.value,a=e.children,i=e.caption,c=e.className,f=e.style,u=ee(),d=(r=(n=u.components)===null||n===void 0?void 0:n.IconDropdown)!==null&&r!==void 0?r:wu;return t.jsxs("div",{className:c,style:f,children:[t.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),t.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:o,onChange:s,children:a}),t.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,t.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function ju(e){var n,r=ee(),s=r.fromDate,o=r.toDate,a=r.styles,i=r.locale,c=r.formatters.formatMonthCaption,f=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!s)return t.jsx(t.Fragment,{});if(!o)return t.jsx(t.Fragment,{});var m=[];if(Kc(s,o))for(var h=ye(s),v=s.getMonth();v<=o.getMonth();v++)m.push(Kn(h,v));else for(var h=ye(new Date),v=0;v<=11;v++)m.push(Kn(h,v));var g=function(x){var w=Number(x.target.value),y=Kn(ye(e.displayMonth),w);e.onChange(y)},p=(n=u==null?void 0:u.Dropdown)!==null&&n!==void 0?n:pa;return t.jsx(p,{name:"months","aria-label":d(),className:f.dropdown_month,style:a.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:i}),children:m.map(function(x){return t.jsx("option",{value:x.getMonth(),children:c(x,{locale:i})},x.getMonth())})})}function Nu(e){var n,r=e.displayMonth,s=ee(),o=s.fromDate,a=s.toDate,i=s.locale,c=s.styles,f=s.classNames,u=s.components,d=s.formatters.formatYearCaption,m=s.labels.labelYearDropdown,h=[];if(!o)return t.jsx(t.Fragment,{});if(!a)return t.jsx(t.Fragment,{});for(var v=o.getFullYear(),g=a.getFullYear(),p=v;p<=g;p++)h.push(Ss(Xc(new Date),p));var x=function(y){var b=Ss(ye(r),Number(y.target.value));e.onChange(b)},w=(n=u==null?void 0:u.Dropdown)!==null&&n!==void 0?n:pa;return t.jsx(w,{name:"years","aria-label":m(),className:f.dropdown_year,style:c.dropdown_year,onChange:x,value:r.getFullYear(),caption:d(r,{locale:i}),children:h.map(function(y){return t.jsx("option",{value:y.getFullYear(),children:d(y,{locale:i})},y.getFullYear())})})}function Cu(e,n){var r=l.useState(e),s=r[0],o=r[1],a=n===void 0?s:n;return[a,o]}function Su(e){var n=e.month,r=e.defaultMonth,s=e.today,o=n||r||s||new Date,a=e.toDate,i=e.fromDate,c=e.numberOfMonths,f=c===void 0?1:c;if(a&&Vt(a,o)<0){var u=-1*(f-1);o=Fe(a,u)}return i&&Vt(o,i)<0&&(o=i),ye(o)}function Eu(){var e=ee(),n=Su(e),r=Cu(n,e.month),s=r[0],o=r[1],a=function(i){var c;if(!e.disableNavigation){var f=ye(i);o(f),(c=e.onMonthChange)===null||c===void 0||c.call(e,f)}};return[s,a]}function Iu(e,n){for(var r=n.reverseMonths,s=n.numberOfMonths,o=ye(e),a=ye(Fe(o,s)),i=Vt(a,o),c=[],f=0;f<i;f++){var u=Fe(o,f);c.push(u)}return r&&(c=c.reverse()),c}function Tu(e,n){if(!n.disableNavigation){var r=n.toDate,s=n.pagedNavigation,o=n.numberOfMonths,a=o===void 0?1:o,i=s?a:1,c=ye(e);if(!r)return Fe(c,i);var f=Vt(r,e);if(!(f<a))return Fe(c,i)}}function Du(e,n){if(!n.disableNavigation){var r=n.fromDate,s=n.pagedNavigation,o=n.numberOfMonths,a=o===void 0?1:o,i=s?a:1,c=ye(e);if(!r)return Fe(c,-i);var f=Vt(c,r);if(!(f<=0))return Fe(c,-i)}}var ha=l.createContext(void 0);function Ru(e){var n=ee(),r=Eu(),s=r[0],o=r[1],a=Iu(s,n),i=Tu(s,n),c=Du(s,n),f=function(m){return a.some(function(h){return Wr(m,h)})},u=function(m,h){f(m)||(h&&po(m,h)?o(Fe(m,1+n.numberOfMonths*-1)):o(m))},d={currentMonth:s,displayMonths:a,goToMonth:o,goToDate:u,previousMonth:c,nextMonth:i,isDateDisplayed:f};return t.jsx(ha.Provider,{value:d,children:e.children})}function en(){var e=l.useContext(ha);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Ws(e){var n,r=ee(),s=r.classNames,o=r.styles,a=r.components,i=en().goToMonth,c=function(d){i(Fe(d,e.displayIndex?-e.displayIndex:0))},f=(n=a==null?void 0:a.CaptionLabel)!==null&&n!==void 0?n:ma,u=t.jsx(f,{id:e.id,displayMonth:e.displayMonth});return t.jsxs("div",{className:s.caption_dropdowns,style:o.caption_dropdowns,children:[t.jsx("div",{className:s.vhidden,children:u}),t.jsx(ju,{onChange:c,displayMonth:e.displayMonth}),t.jsx(Nu,{onChange:c,displayMonth:e.displayMonth})]})}function Pu(e){return t.jsx("svg",B({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Au(e){return t.jsx("svg",B({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var En=l.forwardRef(function(e,n){var r=ee(),s=r.classNames,o=r.styles,a=[s.button_reset,s.button];e.className&&a.push(e.className);var i=a.join(" "),c=B(B({},o.button_reset),o.button);return e.style&&Object.assign(c,e.style),t.jsx("button",B({},e,{ref:n,type:"button",className:i,style:c}))});function _u(e){var n,r,s=ee(),o=s.dir,a=s.locale,i=s.classNames,c=s.styles,f=s.labels,u=f.labelPrevious,d=f.labelNext,m=s.components;if(!e.nextMonth&&!e.previousMonth)return t.jsx(t.Fragment,{});var h=u(e.previousMonth,{locale:a}),v=[i.nav_button,i.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:a}),p=[i.nav_button,i.nav_button_next].join(" "),x=(n=m==null?void 0:m.IconRight)!==null&&n!==void 0?n:Au,w=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:Pu;return t.jsxs("div",{className:i.nav,style:c.nav,children:[!e.hidePrevious&&t.jsx(En,{name:"previous-month","aria-label":h,className:v,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?t.jsx(x,{className:i.nav_icon,style:c.nav_icon}):t.jsx(w,{className:i.nav_icon,style:c.nav_icon})}),!e.hideNext&&t.jsx(En,{name:"next-month","aria-label":g,className:p,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?t.jsx(w,{className:i.nav_icon,style:c.nav_icon}):t.jsx(x,{className:i.nav_icon,style:c.nav_icon})})]})}function Us(e){var n=ee().numberOfMonths,r=en(),s=r.previousMonth,o=r.nextMonth,a=r.goToMonth,i=r.displayMonths,c=i.findIndex(function(g){return Wr(e.displayMonth,g)}),f=c===0,u=c===i.length-1,d=n>1&&(f||!u),m=n>1&&(u||!f),h=function(){s&&a(s)},v=function(){o&&a(o)};return t.jsx(_u,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:m,nextMonth:o,previousMonth:s,onPreviousClick:h,onNextClick:v})}function Ou(e){var n,r=ee(),s=r.classNames,o=r.disableNavigation,a=r.styles,i=r.captionLayout,c=r.components,f=(n=c==null?void 0:c.CaptionLabel)!==null&&n!==void 0?n:ma,u;return o?u=t.jsx(f,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=t.jsx(Ws,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=t.jsxs(t.Fragment,{children:[t.jsx(Ws,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),t.jsx(Us,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=t.jsxs(t.Fragment,{children:[t.jsx(f,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(Us,{displayMonth:e.displayMonth,id:e.id})]}),t.jsx("div",{className:s.caption,style:a.caption,children:u})}function ku(e){var n=ee(),r=n.footer,s=n.styles,o=n.classNames.tfoot;return r?t.jsx("tfoot",{className:o,style:s.tfoot,children:t.jsx("tr",{children:t.jsx("td",{colSpan:8,children:r})})}):t.jsx(t.Fragment,{})}function Mu(e,n,r){for(var s=r?Ur(new Date):Vr(new Date,{locale:e,weekStartsOn:n}),o=[],a=0;a<7;a++){var i=ge(s,a);o.push(i)}return o}function Lu(){var e=ee(),n=e.classNames,r=e.styles,s=e.showWeekNumber,o=e.locale,a=e.weekStartsOn,i=e.ISOWeek,c=e.formatters.formatWeekdayName,f=e.labels.labelWeekday,u=Mu(o,a,i);return t.jsxs("tr",{style:r.head_row,className:n.head_row,children:[s&&t.jsx("td",{style:r.head_cell,className:n.head_cell}),u.map(function(d,m){return t.jsx("th",{scope:"col",className:n.head_cell,style:r.head_cell,"aria-label":f(d,{locale:o}),children:c(d,{locale:o})},m)})]})}function Fu(){var e,n=ee(),r=n.classNames,s=n.styles,o=n.components,a=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:Lu;return t.jsx("thead",{style:s.head,className:r.head,children:t.jsx(a,{})})}function zu(e){var n=ee(),r=n.locale,s=n.formatters.formatDay;return t.jsx(t.Fragment,{children:s(e.date,{locale:r})})}var Xr=l.createContext(void 0);function $u(e){if(!Jt(e.initialProps)){var n={selected:void 0,modifiers:{disabled:[]}};return t.jsx(Xr.Provider,{value:n,children:e.children})}return t.jsx(Bu,{initialProps:e.initialProps,children:e.children})}function Bu(e){var n=e.initialProps,r=e.children,s=n.selected,o=n.min,a=n.max,i=function(u,d,m){var h,v;(h=n.onDayClick)===null||h===void 0||h.call(n,u,d,m);var g=!!(d.selected&&o&&(s==null?void 0:s.length)===o);if(!g){var p=!!(!d.selected&&a&&(s==null?void 0:s.length)===a);if(!p){var x=s?ua([],s):[];if(d.selected){var w=x.findIndex(function(y){return he(u,y)});x.splice(w,1)}else x.push(u);(v=n.onSelect)===null||v===void 0||v.call(n,x,u,d,m)}}},c={disabled:[]};s&&c.disabled.push(function(u){var d=a&&s.length>a-1,m=s.some(function(h){return he(h,u)});return!!(d&&!m)});var f={selected:s,onDayClick:i,modifiers:c};return t.jsx(Xr.Provider,{value:f,children:r})}function Zr(){var e=l.useContext(Xr);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Wu(e,n){var r=n||{},s=r.from,o=r.to;return s&&o?he(o,e)&&he(s,e)?void 0:he(o,e)?{from:o,to:void 0}:he(s,e)?void 0:br(s,e)?{from:e,to:o}:{from:s,to:e}:o?br(e,o)?{from:o,to:e}:{from:e,to:o}:s?po(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var Jr=l.createContext(void 0);function Uu(e){if(!Qt(e.initialProps)){var n={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return t.jsx(Jr.Provider,{value:n,children:e.children})}return t.jsx(Vu,{initialProps:e.initialProps,children:e.children})}function Vu(e){var n=e.initialProps,r=e.children,s=n.selected,o=s||{},a=o.from,i=o.to,c=n.min,f=n.max,u=function(v,g,p){var x,w;(x=n.onDayClick)===null||x===void 0||x.call(n,v,g,p);var y=Wu(v,s);(w=n.onSelect)===null||w===void 0||w.call(n,y,v,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],i?(d.range_end=[i],he(a,i)||(d.range_middle=[{after:a,before:i}])):d.range_end=[a]):i&&(d.range_start=[i],d.range_end=[i]),c&&(a&&!i&&d.disabled.push({after:Yn(a,c-1),before:ge(a,c-1)}),a&&i&&d.disabled.push({after:a,before:ge(a,c-1)}),!a&&i&&d.disabled.push({after:Yn(i,c-1),before:ge(i,c-1)})),f){if(a&&!i&&(d.disabled.push({before:ge(a,-f+1)}),d.disabled.push({after:ge(a,f-1)})),a&&i){var m=qe(i,a)+1,h=f-m;d.disabled.push({before:Yn(a,h)}),d.disabled.push({after:ge(i,h)})}!a&&i&&(d.disabled.push({before:ge(i,-f+1)}),d.disabled.push({after:ge(i,f-1)}))}return t.jsx(Jr.Provider,{value:{selected:s,onDayClick:u,modifiers:d},children:r})}function Qr(){var e=l.useContext(Jr);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function vn(e){return Array.isArray(e)?ua([],e):e!==void 0?[e]:[]}function qu(e){var n={};return Object.entries(e).forEach(function(r){var s=r[0],o=r[1];n[s]=vn(o)}),n}var Se;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Se||(Se={}));var Hu=Se.Selected,Ve=Se.Disabled,Gu=Se.Hidden,Yu=Se.Today,nr=Se.RangeEnd,rr=Se.RangeMiddle,sr=Se.RangeStart,Ku=Se.Outside;function Xu(e,n,r){var s,o=(s={},s[Hu]=vn(e.selected),s[Ve]=vn(e.disabled),s[Gu]=vn(e.hidden),s[Yu]=[e.today],s[nr]=[],s[rr]=[],s[sr]=[],s[Ku]=[],s);return e.fromDate&&o[Ve].push({before:e.fromDate}),e.toDate&&o[Ve].push({after:e.toDate}),Jt(e)?o[Ve]=o[Ve].concat(n.modifiers[Ve]):Qt(e)&&(o[Ve]=o[Ve].concat(r.modifiers[Ve]),o[sr]=r.modifiers[sr],o[rr]=r.modifiers[rr],o[nr]=r.modifiers[nr]),o}var xa=l.createContext(void 0);function Zu(e){var n=ee(),r=Zr(),s=Qr(),o=Xu(n,r,s),a=qu(n.modifiers),i=B(B({},o),a);return t.jsx(xa.Provider,{value:i,children:e.children})}function va(){var e=l.useContext(xa);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Ju(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Qu(e){return!!(e&&typeof e=="object"&&"from"in e)}function ef(e){return!!(e&&typeof e=="object"&&"after"in e)}function tf(e){return!!(e&&typeof e=="object"&&"before"in e)}function nf(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function rf(e,n){var r,s=n.from,o=n.to;if(s&&o){var a=qe(o,s)<0;a&&(r=[o,s],s=r[0],o=r[1]);var i=qe(e,s)>=0&&qe(o,e)>=0;return i}return o?he(o,e):s?he(s,e):!1}function sf(e){return vo(e)}function of(e){return Array.isArray(e)&&e.every(vo)}function af(e,n){return n.some(function(r){if(typeof r=="boolean")return r;if(sf(r))return he(e,r);if(of(r))return r.includes(e);if(Qu(r))return rf(e,r);if(nf(r))return r.dayOfWeek.includes(e.getDay());if(Ju(r)){var s=qe(r.before,e),o=qe(r.after,e),a=s>0,i=o<0,c=br(r.before,r.after);return c?i&&a:a||i}return ef(r)?qe(e,r.after)>0:tf(r)?qe(r.before,e)>0:typeof r=="function"?r(e):!1})}function es(e,n,r){var s=Object.keys(n).reduce(function(a,i){var c=n[i];return af(e,c)&&a.push(i),a},[]),o={};return s.forEach(function(a){return o[a]=!0}),r&&!Wr(e,r)&&(o.outside=!0),o}function cf(e,n){for(var r=ye(e[0]),s=Br(e[e.length-1]),o,a,i=r;i<=s;){var c=es(i,n),f=!c.disabled&&!c.hidden;if(!f){i=ge(i,1);continue}if(c.selected)return i;c.today&&!a&&(a=i),o||(o=i),i=ge(i,1)}return a||o}var lf=365;function ga(e,n){var r=n.moveBy,s=n.direction,o=n.context,a=n.modifiers,i=n.retry,c=i===void 0?{count:0,lastFocused:e}:i,f=o.weekStartsOn,u=o.fromDate,d=o.toDate,m=o.locale,h={day:ge,week:gr,month:Fe,year:Hc,startOfWeek:function(x){return o.ISOWeek?Ur(x):Vr(x,{locale:m,weekStartsOn:f})},endOfWeek:function(x){return o.ISOWeek?ho(x):xo(x,{locale:m,weekStartsOn:f})}},v=h[r](e,s==="after"?1:-1);s==="before"&&u?v=Gc([u,v]):s==="after"&&d&&(v=Yc([d,v]));var g=!0;if(a){var p=es(v,a);g=!p.disabled&&!p.hidden}return g?v:c.count>lf?c.lastFocused:ga(v,{moveBy:r,direction:s,context:o,modifiers:a,retry:B(B({},c),{count:c.count+1})})}var ba=l.createContext(void 0);function df(e){var n=en(),r=va(),s=l.useState(),o=s[0],a=s[1],i=l.useState(),c=i[0],f=i[1],u=cf(n.displayMonths,r),d=o??(c&&n.isDateDisplayed(c))?c:u,m=function(){f(o),a(void 0)},h=function(x){a(x)},v=ee(),g=function(x,w){if(o){var y=ga(o,{moveBy:x,direction:w,context:v,modifiers:r});he(o,y)||(n.goToDate(y,o),h(y))}},p={focusedDay:o,focusTarget:d,blur:m,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return t.jsx(ba.Provider,{value:p,children:e.children})}function ts(){var e=l.useContext(ba);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function uf(e,n){var r=va(),s=es(e,r,n);return s}var ns=l.createContext(void 0);function ff(e){if(!zn(e.initialProps)){var n={selected:void 0};return t.jsx(ns.Provider,{value:n,children:e.children})}return t.jsx(mf,{initialProps:e.initialProps,children:e.children})}function mf(e){var n=e.initialProps,r=e.children,s=function(a,i,c){var f,u,d;if((f=n.onDayClick)===null||f===void 0||f.call(n,a,i,c),i.selected&&!n.required){(u=n.onSelect)===null||u===void 0||u.call(n,void 0,a,i,c);return}(d=n.onSelect)===null||d===void 0||d.call(n,a,a,i,c)},o={selected:n.selected,onDayClick:s};return t.jsx(ns.Provider,{value:o,children:r})}function ya(){var e=l.useContext(ns);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function pf(e,n){var r=ee(),s=ya(),o=Zr(),a=Qr(),i=ts(),c=i.focusDayAfter,f=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,m=i.blur,h=i.focus,v=i.focusMonthBefore,g=i.focusMonthAfter,p=i.focusYearBefore,x=i.focusYearAfter,w=i.focusStartOfWeek,y=i.focusEndOfWeek,b=function(P){var E,L,J,te;zn(r)?(E=s.onDayClick)===null||E===void 0||E.call(s,e,n,P):Jt(r)?(L=o.onDayClick)===null||L===void 0||L.call(o,e,n,P):Qt(r)?(J=a.onDayClick)===null||J===void 0||J.call(a,e,n,P):(te=r.onDayClick)===null||te===void 0||te.call(r,e,n,P)},T=function(P){var E;h(e),(E=r.onDayFocus)===null||E===void 0||E.call(r,e,n,P)},O=function(P){var E;m(),(E=r.onDayBlur)===null||E===void 0||E.call(r,e,n,P)},M=function(P){var E;(E=r.onDayMouseEnter)===null||E===void 0||E.call(r,e,n,P)},_=function(P){var E;(E=r.onDayMouseLeave)===null||E===void 0||E.call(r,e,n,P)},S=function(P){var E;(E=r.onDayPointerEnter)===null||E===void 0||E.call(r,e,n,P)},D=function(P){var E;(E=r.onDayPointerLeave)===null||E===void 0||E.call(r,e,n,P)},k=function(P){var E;(E=r.onDayTouchCancel)===null||E===void 0||E.call(r,e,n,P)},N=function(P){var E;(E=r.onDayTouchEnd)===null||E===void 0||E.call(r,e,n,P)},C=function(P){var E;(E=r.onDayTouchMove)===null||E===void 0||E.call(r,e,n,P)},I=function(P){var E;(E=r.onDayTouchStart)===null||E===void 0||E.call(r,e,n,P)},R=function(P){var E;(E=r.onDayKeyUp)===null||E===void 0||E.call(r,e,n,P)},j=function(P){var E;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?c():f();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?f():c();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),u();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),d();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?p():v();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?x():g();break;case"Home":P.preventDefault(),P.stopPropagation(),w();break;case"End":P.preventDefault(),P.stopPropagation(),y();break}(E=r.onDayKeyDown)===null||E===void 0||E.call(r,e,n,P)},A={onClick:b,onFocus:T,onBlur:O,onKeyDown:j,onKeyUp:R,onMouseEnter:M,onMouseLeave:_,onPointerEnter:S,onPointerLeave:D,onTouchCancel:k,onTouchEnd:N,onTouchMove:C,onTouchStart:I};return A}function hf(){var e=ee(),n=ya(),r=Zr(),s=Qr(),o=zn(e)?n.selected:Jt(e)?r.selected:Qt(e)?s.selected:void 0;return o}function xf(e){return Object.values(Se).includes(e)}function vf(e,n){var r=[e.classNames.day];return Object.keys(n).forEach(function(s){var o=e.modifiersClassNames[s];if(o)r.push(o);else if(xf(s)){var a=e.classNames["day_".concat(s)];a&&r.push(a)}}),r}function gf(e,n){var r=B({},e.styles.day);return Object.keys(n).forEach(function(s){var o;r=B(B({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[s])}),r}function bf(e,n,r){var s,o,a,i=ee(),c=ts(),f=uf(e,n),u=pf(e,f),d=hf(),m=!!(i.onDayClick||i.mode!=="default");l.useEffect(function(){var M;f.outside||c.focusedDay&&m&&he(c.focusedDay,e)&&((M=r.current)===null||M===void 0||M.focus())},[c.focusedDay,e,r,m,f.outside]);var h=vf(i,f).join(" "),v=gf(i,f),g=!!(f.outside&&!i.showOutsideDays||f.hidden),p=(a=(o=i.components)===null||o===void 0?void 0:o.DayContent)!==null&&a!==void 0?a:zu,x=t.jsx(p,{date:e,displayMonth:n,activeModifiers:f}),w={style:v,className:h,children:x,role:"gridcell"},y=c.focusTarget&&he(c.focusTarget,e)&&!f.outside,b=c.focusedDay&&he(c.focusedDay,e),T=B(B(B({},w),(s={disabled:f.disabled,role:"gridcell"},s["aria-selected"]=f.selected,s.tabIndex=b||y?0:-1,s)),u),O={isButton:m,isHidden:g,activeModifiers:f,selectedDays:d,buttonProps:T,divProps:w};return O}function yf(e){var n=l.useRef(null),r=bf(e.date,e.displayMonth,n);return r.isHidden?t.jsx("div",{role:"gridcell"}):r.isButton?t.jsx(En,B({name:"day",ref:n},r.buttonProps)):t.jsx("div",B({},r.divProps))}function wf(e){var n=e.number,r=e.dates,s=ee(),o=s.onWeekNumberClick,a=s.styles,i=s.classNames,c=s.locale,f=s.labels.labelWeekNumber,u=s.formatters.formatWeekNumber,d=u(Number(n),{locale:c});if(!o)return t.jsx("span",{className:i.weeknumber,style:a.weeknumber,children:d});var m=f(Number(n),{locale:c}),h=function(v){o(n,r,v)};return t.jsx(En,{name:"week-number","aria-label":m,className:i.weeknumber,style:a.weeknumber,onClick:h,children:d})}function jf(e){var n,r,s=ee(),o=s.styles,a=s.classNames,i=s.showWeekNumber,c=s.components,f=(n=c==null?void 0:c.Day)!==null&&n!==void 0?n:yf,u=(r=c==null?void 0:c.WeekNumber)!==null&&r!==void 0?r:wf,d;return i&&(d=t.jsx("td",{className:a.cell,style:o.cell,children:t.jsx(u,{number:e.weekNumber,dates:e.dates})})),t.jsxs("tr",{className:a.row,style:o.row,children:[d,e.dates.map(function(m){return t.jsx("td",{className:a.cell,style:o.cell,role:"presentation",children:t.jsx(f,{displayMonth:e.displayMonth,date:m})},qc(m))})]})}function Vs(e,n,r){for(var s=r!=null&&r.ISOWeek?ho(n):xo(n,r),o=r!=null&&r.ISOWeek?Ur(e):Vr(e,r),a=qe(s,o),i=[],c=0;c<=a;c++)i.push(ge(o,c));var f=i.reduce(function(u,d){var m=r!=null&&r.ISOWeek?Zc(d):Jc(d,r),h=u.find(function(v){return v.weekNumber===m});return h?(h.dates.push(d),u):(u.push({weekNumber:m,dates:[d]}),u)},[]);return f}function Nf(e,n){var r=Vs(ye(e),Br(e),n);if(n!=null&&n.useFixedWeeks){var s=Vc(e,n);if(s<6){var o=r[r.length-1],a=o.dates[o.dates.length-1],i=gr(a,6-s),c=Vs(gr(a,1),i,n);r.push.apply(r,c)}}return r}function Cf(e){var n,r,s,o=ee(),a=o.locale,i=o.classNames,c=o.styles,f=o.hideHead,u=o.fixedWeeks,d=o.components,m=o.weekStartsOn,h=o.firstWeekContainsDate,v=o.ISOWeek,g=Nf(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:v,locale:a,weekStartsOn:m,firstWeekContainsDate:h}),p=(n=d==null?void 0:d.Head)!==null&&n!==void 0?n:Fu,x=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:jf,w=(s=d==null?void 0:d.Footer)!==null&&s!==void 0?s:ku;return t.jsxs("table",{id:e.id,className:i.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!f&&t.jsx(p,{}),t.jsx("tbody",{className:i.tbody,style:c.tbody,children:g.map(function(y){return t.jsx(x,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),t.jsx(w,{displayMonth:e.displayMonth})]})}function Sf(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ef=Sf()?l.useLayoutEffect:l.useEffect,or=!1,If=0;function qs(){return"react-day-picker-".concat(++If)}function Tf(e){var n,r=e??(or?qs():null),s=l.useState(r),o=s[0],a=s[1];return Ef(function(){o===null&&a(qs())},[]),l.useEffect(function(){or===!1&&(or=!0)},[]),(n=e??o)!==null&&n!==void 0?n:void 0}function Df(e){var n,r,s=ee(),o=s.dir,a=s.classNames,i=s.styles,c=s.components,f=en().displayMonths,u=Tf(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),d=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,m=[a.month],h=i.month,v=e.displayIndex===0,g=e.displayIndex===f.length-1,p=!v&&!g;o==="rtl"&&(n=[v,g],g=n[0],v=n[1]),v&&(m.push(a.caption_start),h=B(B({},h),i.caption_start)),g&&(m.push(a.caption_end),h=B(B({},h),i.caption_end)),p&&(m.push(a.caption_between),h=B(B({},h),i.caption_between));var x=(r=c==null?void 0:c.Caption)!==null&&r!==void 0?r:Ou;return t.jsxs("div",{className:m.join(" "),style:h,children:[t.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(Cf,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Rf(e){var n=ee(),r=n.classNames,s=n.styles;return t.jsx("div",{className:r.months,style:s.months,children:e.children})}function Pf(e){var n,r,s=e.initialProps,o=ee(),a=ts(),i=en(),c=l.useState(!1),f=c[0],u=c[1];l.useEffect(function(){o.initialFocus&&a.focusTarget&&(f||(a.focus(a.focusTarget),u(!0)))},[o.initialFocus,f,a.focus,a.focusTarget,a]);var d=[o.classNames.root,o.className];o.numberOfMonths>1&&d.push(o.classNames.multiple_months),o.showWeekNumber&&d.push(o.classNames.with_weeknumber);var m=B(B({},o.styles.root),o.style),h=Object.keys(s).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var x;return B(B({},g),(x={},x[p]=s[p],x))},{}),v=(r=(n=s.components)===null||n===void 0?void 0:n.Months)!==null&&r!==void 0?r:Rf;return t.jsx("div",B({className:d.join(" "),style:m,dir:o.dir,id:o.id,nonce:s.nonce,title:s.title,lang:s.lang},h,{children:t.jsx(v,{children:i.displayMonths.map(function(g,p){return t.jsx(Df,{displayIndex:p,displayMonth:g},p)})})}))}function Af(e){var n=e.children,r=tu(e,["children"]);return t.jsx(yu,{initialProps:r,children:t.jsx(Ru,{children:t.jsx(ff,{initialProps:r,children:t.jsx($u,{initialProps:r,children:t.jsx(Uu,{initialProps:r,children:t.jsx(Zu,{children:t.jsx(df,{children:n})})})})})})})}function _f(e){return t.jsx(Af,B({},e,{children:t.jsx(Pf,{initialProps:e})}))}function wa({className:e,classNames:n,showOutsideDays:r=!0,...s}){return t.jsx(_f,{showOutsideDays:r,className:$("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:$(Er({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-zinc-500 rounded-md w-8 font-normal text-[0.8rem] dark:text-zinc-400",row:"flex w-full mt-2",cell:$("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-zinc-100 [&:has([aria-selected].day-outside)]:bg-zinc-100/50 [&:has([aria-selected].day-range-end)]:rounded-r-md dark:[&:has([aria-selected])]:bg-zinc-800 dark:[&:has([aria-selected].day-outside)]:bg-zinc-800/50",s.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:$(Er({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-zinc-900 text-zinc-50 hover:bg-zinc-900 hover:text-zinc-50 focus:bg-zinc-900 focus:text-zinc-50 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50 dark:hover:text-zinc-900 dark:focus:bg-zinc-50 dark:focus:text-zinc-900",day_today:"bg-zinc-100 text-zinc-900 dark:bg-zinc-800 dark:text-zinc-50",day_outside:"day-outside text-zinc-500 aria-selected:bg-zinc-100/50 aria-selected:text-zinc-500 dark:text-zinc-400 dark:aria-selected:bg-zinc-800/50 dark:aria-selected:text-zinc-400",day_disabled:"text-zinc-500 opacity-50 dark:text-zinc-400",day_range_middle:"aria-selected:bg-zinc-100 aria-selected:text-zinc-900 dark:aria-selected:bg-zinc-800 dark:aria-selected:text-zinc-50",day_hidden:"invisible",...n},components:{IconLeft:({className:o,...a})=>t.jsx(el,{className:$("h-4 w-4",o),...a}),IconRight:({className:o,...a})=>t.jsx(Qc,{className:$("h-4 w-4",o),...a})},...s})}wa.displayName="Calendar";function ja(e,n){const[r,s]=l.useState([]),[o,a]=l.useState(!1),i=l.useCallback(()=>{a(!0);try{const m=e();s(m)}catch(m){console.error("Error loading entities:",m)}finally{a(!1)}},[e]),c=l.useCallback(m=>{const h={...m,id:Date.now().toString()+Math.random().toString(36).substr(2,9)},v=[...r,h];return s(v),n(v),h},[r,n]),f=l.useCallback((m,h)=>{const v=r.map(g=>g.id===m?{...g,...h}:g);s(v),n(v)},[r,n]),u=l.useCallback(m=>{const h=r.filter(v=>v.id!==m);s(h),n(h)},[r,n]),d=l.useCallback(m=>r.find(h=>h.id===m),[r]);return l.useEffect(()=>{i()},[i]),{entities:r,loading:o,createEntity:c,updateEntity:f,deleteEntity:u,getEntityById:d,refreshEntities:i}}const Of=()=>{const e=ja(z.getClientes.bind(z),z.saveClientes.bind(z)),n=l.useCallback(s=>{const o=new Date().toISOString();return e.createEntity({...s,fechaCreacion:o,fechaActualizacion:o})},[e]),r=l.useCallback((s,o)=>{e.updateEntity(s,{...o,fechaActualizacion:new Date().toISOString()})},[e]);return{...e,clientes:e.entities,createCliente:n,updateCliente:r,deleteCliente:e.deleteEntity,getClienteById:e.getEntityById}},kf=()=>{const[e,n]=l.useState([]),[r,s]=l.useState([]),[o,a]=l.useState([]),i=ja(z.getServicios.bind(z),z.saveServicios.bind(z));l.useEffect(()=>{n(z.getClientes()),s(z.getTiposServicio()),a(z.getEquipos())},[]);const c=l.useCallback(h=>{const v=new Date().toISOString();return i.createEntity({...h,fechaCreacion:v,fechaActualizacion:v})},[i]),f=l.useCallback((h,v)=>{i.updateEntity(h,{...v,fechaActualizacion:new Date().toISOString()})},[i]),u=l.useCallback(()=>i.entities.map(h=>{const v=e.find(x=>x.id===h.clienteId),g=r.find(x=>x.id===h.tipoServicioId),p=o.find(x=>x.id===h.equipoId);return{...h,clienteNombre:(v==null?void 0:v.nombre)||"Cliente no encontrado",tipoServicioNombre:(g==null?void 0:g.nombre)||"Tipo no encontrado",equipoNombre:(p==null?void 0:p.nombre)||"Equipo no encontrado",precio:(g==null?void 0:g.precio)||0}}),[i.entities,e,r,o]),d=l.useCallback((h,v)=>u().filter(g=>g.fecha>=h&&g.fecha<=v),[u]),m=l.useCallback(h=>u().filter(v=>v.fecha===h),[u]);return{...i,servicios:i.entities,serviciosWithDetails:u(),createServicio:c,updateServicio:f,deleteServicio:i.deleteEntity,getServicioById:i.getEntityById,getServiciosByDateRange:d,getServiciosByDate:m,clientes:e,tiposServicio:r,equipos:o}},Mf=()=>{const[e,n]=l.useState(null),[r,s]=l.useState(!1),o=l.useCallback(()=>{s(!0);try{const a=z.getDashboardMetrics();n(a)}catch(a){console.error("Error loading dashboard metrics:",a)}finally{s(!1)}},[]);return l.useEffect(()=>{o();const a=setInterval(o,3e4);return()=>clearInterval(a)},[o]),{metrics:e,loading:r,refreshMetrics:o}};function de(e){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function Ir(e){const n=e.replace(/\D/g,"");if(n.startsWith("54")&&n.length>=10){const r=n.substring(2);if(r.startsWith("11"))return`+54${r.substring(0,2)}-${r.substring(2,6)}-${r.substring(6)}`}return n.startsWith("11")&&n.length>=10?`+54${n.substring(0,2)}-${n.substring(2,6)}-${n.substring(6)}`:e}function wt(e){return(typeof e=="string"?new Date(e):e).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric"})}function Lf(e){const n=e.replace(/\D/g,"");return n.length===11?`${n.substring(0,2)}-${n.substring(2,10)}-${n.substring(10)}`:e}function Ff(e){switch(e.toLowerCase()){case"programado":return"bg-blue-100 text-blue-800";case"en curso":return"bg-yellow-100 text-yellow-800";case"realizado":case"completado":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800";case"pendiente":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function zf(e){switch(e.toLowerCase()){case"alta":return"bg-red-100 text-red-800";case"media":return"bg-yellow-100 text-yellow-800";case"baja":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}function $f(e){const n=Math.floor(e/60),r=e%60;return n===0?`${r} min`:r===0?`${n} h`:`${n}h ${r}m`}function Bf(e,n,r,s){return`🧽 *PULCRO - Servicio Programado*

📅 *Fecha:* ${wt(e.fecha)} a las ${e.hora}
🏢 *Cliente:* ${n.nombre}
📍 *Dirección:* ${e.direccion}
🔧 *Servicio:* ${r.nombre}
👥 *Equipo:* ${(s==null?void 0:s.nombre)||"Equipo no asignado"}

📞 *Contacto:* ${n.contacto}
📱 *Teléfono:* ${n.telefono}

📝 *Observaciones:* ${e.observaciones||"Sin observaciones especiales"}`}const ln=de,Wf=e=>new Date(e).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),ar=e=>{switch(e){case"Completado":return"success";case"En Progreso":return"info";case"Pendiente":return"warning";case"Cancelado":return"destructive";case"Reprogramado":return"secondary";default:return"default"}},Uf=e=>{switch(e){case"Urgente":return"destructive";case"Alta":return"warning";case"Media":return"info";case"Baja":return"secondary";default:return"default"}},Vf=()=>{const[e,n]=l.useState(new Date),{metrics:r,loading:s}=Mf(),{serviciosWithDetails:o}=kf(),a=l.useMemo(()=>o.map(d=>({id:d.id,title:`${d.clienteNombre} - ${d.tipoServicioNombre}`,date:d.fecha,time:d.hora,clienteNombre:d.clienteNombre||"",equipoNombre:d.equipoNombre||"",estado:d.estado,prioridad:d.prioridad})),[o]),i=l.useMemo(()=>{const d=new Date().toISOString().split("T")[0];return o.filter(m=>m.fecha===d)},[o]),c=l.useMemo(()=>{const d=new Date,m=new Date;return m.setDate(d.getDate()+7),o.filter(h=>{const v=new Date(h.fecha);return v>=d&&v<=m}).sort((h,v)=>h.fecha.localeCompare(v.fecha)||h.hora.localeCompare(v.hora))},[o]),f=l.useMemo(()=>{const d=e.toISOString().split("T")[0];return o.filter(m=>m.fecha===d)},[o,e]),u=d=>{const m=d.toISOString().split("T")[0];return a.some(h=>h.date===m)};return s?t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((d,m)=>t.jsx(H,{className:"animate-pulse",children:t.jsx(Y,{className:"p-6",children:t.jsx("div",{className:"h-20 bg-gray-200 rounded"})})},m))})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),t.jsx("p",{className:"text-gray-600",children:"Panel de control y resumen de actividades"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(H,{children:t.jsx(Y,{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(Je,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Clientes"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.totalClientes)||0})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(et,{className:"h-6 w-6 text-green-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Servicios"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.totalServicios)||0})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:t.jsx(yr,{className:"h-6 w-6 text-orange-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendientes"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.serviciosPendientes)||0})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(Cn,{className:"h-6 w-6 text-purple-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Mes"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ln((r==null?void 0:r.ingresosMes)||0)})]})]})})})]}),i.length>0&&t.jsxs(H,{className:"border-l-4 border-l-blue-500",children:[t.jsx(ue,{children:t.jsxs(fe,{className:"flex items-center",children:[t.jsx(qt,{className:"h-5 w-5 mr-2"}),"Servicios de Hoy (",i.length,")"]})}),t.jsx(Y,{children:t.jsxs("div",{className:"space-y-3",children:[i.slice(0,3).map(d=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:d.hora}),t.jsx("span",{className:"text-gray-600",children:d.clienteNombre}),t.jsx(je,{variant:ar(d.estado),children:d.estado})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:d.tipoServicioNombre})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium",children:ln(d.precio||0)}),t.jsx("p",{className:"text-xs text-gray-500",children:d.equipoNombre})]})]},d.id)),i.length>3&&t.jsx("div",{className:"text-center",children:t.jsx(vr,{to:"/servicios",children:t.jsxs(F,{variant:"outline",size:"sm",children:["Ver todos los servicios de hoy",t.jsx(Es,{className:"h-4 w-4 ml-2"})]})})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs(H,{className:"lg:col-span-2",children:[t.jsxs(ue,{children:[t.jsx(fe,{children:"Calendario de Servicios"}),t.jsx(Ht,{children:"Haz clic en una fecha para ver los servicios programados"})]}),t.jsx(Y,{children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[t.jsx("div",{className:"flex-1",children:t.jsx(wa,{mode:"single",selected:e,onSelect:d=>d&&n(d),className:"rounded-md border w-full",modifiers:{hasServices:u},modifiersStyles:{hasServices:{backgroundColor:"#3b82f6",color:"white",fontWeight:"bold"}}})}),t.jsxs("div",{className:"lg:w-80",children:[t.jsx("h3",{className:"font-medium mb-3",children:Wf(e.toISOString())}),f.length>0?t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.map(d=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"font-medium",children:d.hora}),t.jsx(je,{variant:ar(d.estado),className:"text-xs",children:d.estado})]}),t.jsx("p",{className:"font-medium text-gray-900",children:d.clienteNombre}),t.jsx("p",{className:"text-gray-600",children:d.tipoServicioNombre}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsx("span",{className:"text-gray-500",children:d.equipoNombre}),t.jsx("span",{className:"font-medium",children:ln(d.precio||0)})]})]},d.id))}):t.jsx("p",{className:"text-gray-500 text-sm",children:"No hay servicios programados para esta fecha."})]})]})})]}),t.jsxs(H,{children:[t.jsxs(ue,{children:[t.jsx(fe,{children:"Próximos Servicios"}),t.jsx(Ht,{children:"Servicios programados para los próximos 7 días"})]}),t.jsxs(Y,{children:[t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:c.length>0?c.slice(0,10).map(d=>t.jsxs("div",{className:"p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"text-sm font-medium",children:[new Date(d.fecha).toLocaleDateString("es-ES")," - ",d.hora]}),t.jsx(je,{variant:Uf(d.prioridad),className:"text-xs",children:d.prioridad})]}),t.jsx("p",{className:"font-medium text-sm",children:d.clienteNombre}),t.jsx("p",{className:"text-gray-600 text-xs",children:d.tipoServicioNombre}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsx("span",{className:"text-gray-500 text-xs",children:d.equipoNombre}),t.jsx(je,{variant:ar(d.estado),className:"text-xs",children:d.estado})]})]},d.id)):t.jsx("p",{className:"text-gray-500 text-sm",children:"No hay servicios programados para los próximos días."})}),c.length>0&&t.jsx("div",{className:"mt-4 pt-4 border-t",children:t.jsx(vr,{to:"/servicios",children:t.jsxs(F,{variant:"outline",size:"sm",className:"w-full",children:["Ver todos los servicios",t.jsx(Es,{className:"h-4 w-4 ml-2"})]})})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(H,{children:t.jsx(Y,{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(tl,{className:"h-6 w-6 text-green-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completados"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.serviciosCompletados)||0})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(go,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Equipos Activos"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.equiposActivos)||0})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(Cn,{className:"h-6 w-6 text-purple-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Total"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ln((r==null?void 0:r.ingresosTotal)||0)})]})]})})})]})]})};var qf=zc[" useId ".trim().toString()]||(()=>{}),Hf=0;function Qe(e){const[n,r]=l.useState(qf());return pe(()=>{r(s=>s??String(Hf++))},[e]),n?`radix-${n}`:""}var ir="focusScope.autoFocusOnMount",cr="focusScope.autoFocusOnUnmount",Hs={bubbles:!1,cancelable:!0},Gf="FocusScope",rs=l.forwardRef((e,n)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[c,f]=l.useState(null),u=xe(o),d=xe(a),m=l.useRef(null),h=se(n,p=>f(p)),v=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(s){let p=function(b){if(v.paused||!c)return;const T=b.target;c.contains(T)?m.current=T:Ze(m.current,{select:!0})},x=function(b){if(v.paused||!c)return;const T=b.relatedTarget;T!==null&&(c.contains(T)||Ze(m.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const O of b)O.removedNodes.length>0&&Ze(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(w);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[s,c,v.paused]),l.useEffect(()=>{if(c){Ys.add(v);const p=document.activeElement;if(!c.contains(p)){const w=new CustomEvent(ir,Hs);c.addEventListener(ir,u),c.dispatchEvent(w),w.defaultPrevented||(Yf(Qf(Na(c)),{select:!0}),document.activeElement===p&&Ze(c))}return()=>{c.removeEventListener(ir,u),setTimeout(()=>{const w=new CustomEvent(cr,Hs);c.addEventListener(cr,d),c.dispatchEvent(w),w.defaultPrevented||Ze(p??document.body,{select:!0}),c.removeEventListener(cr,d),Ys.remove(v)},0)}}},[c,u,d,v]);const g=l.useCallback(p=>{if(!r&&!s||v.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,w=document.activeElement;if(x&&w){const y=p.currentTarget,[b,T]=Kf(y);b&&T?!p.shiftKey&&w===T?(p.preventDefault(),r&&Ze(b,{select:!0})):p.shiftKey&&w===b&&(p.preventDefault(),r&&Ze(T,{select:!0})):w===y&&p.preventDefault()}},[r,s,v.paused]);return t.jsx(K.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});rs.displayName=Gf;function Yf(e,{select:n=!1}={}){const r=document.activeElement;for(const s of e)if(Ze(s,{select:n}),document.activeElement!==r)return}function Kf(e){const n=Na(e),r=Gs(n,e),s=Gs(n.reverse(),e);return[r,s]}function Na(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function Gs(e,n){for(const r of e)if(!Xf(r,{upTo:n}))return r}function Xf(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Zf(e){return e instanceof HTMLInputElement&&"select"in e}function Ze(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Zf(e)&&n&&e.select()}}var Ys=Jf();function Jf(){let e=[];return{add(n){const r=e[0];n!==r&&(r==null||r.pause()),e=Ks(e,n),e.unshift(n)},remove(n){var r;e=Ks(e,n),(r=e[0])==null||r.resume()}}}function Ks(e,n){const r=[...e],s=r.indexOf(n);return s!==-1&&r.splice(s,1),r}function Qf(e){return e.filter(n=>n.tagName!=="A")}var lr=0;function Ca(){l.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xs()),document.body.insertAdjacentElement("beforeend",e[1]??Xs()),lr++,()=>{lr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),lr--}},[])}function Xs(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Me=function(){return Me=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Me.apply(this,arguments)};function Sa(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function em(e,n,r){if(r||arguments.length===2)for(var s=0,o=n.length,a;s<o;s++)(a||!(s in n))&&(a||(a=Array.prototype.slice.call(n,0,s)),a[s]=n[s]);return e.concat(a||Array.prototype.slice.call(n))}var gn="right-scroll-bar-position",bn="width-before-scroll-bar",tm="with-scroll-bars-hidden",nm="--removed-body-scroll-bar-size";function dr(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function rm(e,n){var r=l.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(s){var o=r.value;o!==s&&(r.value=s,r.callback(s,o))}}}})[0];return r.callback=n,r.facade}var sm=typeof window<"u"?l.useLayoutEffect:l.useEffect,Zs=new WeakMap;function om(e,n){var r=rm(null,function(s){return e.forEach(function(o){return dr(o,s)})});return sm(function(){var s=Zs.get(r);if(s){var o=new Set(s),a=new Set(e),i=r.current;o.forEach(function(c){a.has(c)||dr(c,null)}),a.forEach(function(c){o.has(c)||dr(c,i)})}Zs.set(r,e)},[e]),r}function am(e){return e}function im(e,n){n===void 0&&(n=am);var r=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=n(a,s);return r.push(i),function(){r=r.filter(function(c){return c!==i})}},assignSyncMedium:function(a){for(s=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(c){return a(c)},filter:function(){return r}}},assignMedium:function(a){s=!0;var i=[];if(r.length){var c=r;r=[],c.forEach(a),i=r}var f=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(f)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return o}function cm(e){e===void 0&&(e={});var n=im(null);return n.options=Me({async:!0,ssr:!1},e),n}var Ea=function(e){var n=e.sideCar,r=Sa(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=n.read();if(!s)throw new Error("Sidecar medium not found");return l.createElement(s,Me({},r))};Ea.isSideCarExport=!0;function lm(e,n){return e.useMedium(n),Ea}var Ia=cm(),ur=function(){},$n=l.forwardRef(function(e,n){var r=l.useRef(null),s=l.useState({onScrollCapture:ur,onWheelCapture:ur,onTouchMoveCapture:ur}),o=s[0],a=s[1],i=e.forwardProps,c=e.children,f=e.className,u=e.removeScrollBar,d=e.enabled,m=e.shards,h=e.sideCar,v=e.noIsolation,g=e.inert,p=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,y=e.gapMode,b=Sa(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=h,O=om([r,n]),M=Me(Me({},b),o);return l.createElement(l.Fragment,null,d&&l.createElement(T,{sideCar:Ia,removeScrollBar:u,shards:m,noIsolation:v,inert:g,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:y}),i?l.cloneElement(l.Children.only(c),Me(Me({},M),{ref:O})):l.createElement(w,Me({},M,{className:f,ref:O}),c))});$n.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$n.classNames={fullWidth:bn,zeroRight:gn};var dm=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function um(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=dm();return n&&e.setAttribute("nonce",n),e}function fm(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function mm(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var pm=function(){var e=0,n=null;return{add:function(r){e==0&&(n=um())&&(fm(n,r),mm(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},hm=function(){var e=pm();return function(n,r){l.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},Ta=function(){var e=hm(),n=function(r){var s=r.styles,o=r.dynamic;return e(s,o),null};return n},xm={left:0,top:0,right:0,gap:0},fr=function(e){return parseInt(e||"",10)||0},vm=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],s=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[fr(r),fr(s),fr(o)]},gm=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xm;var n=vm(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,s-r+n[2]-n[0])}},bm=Ta(),jt="data-scroll-locked",ym=function(e,n,r,s){var o=e.left,a=e.top,i=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(tm,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(jt,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gn,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(bn,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(gn," .").concat(gn,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(bn," .").concat(bn,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(jt,`] {
    `).concat(nm,": ").concat(c,`px;
  }
`)},Js=function(){var e=parseInt(document.body.getAttribute(jt)||"0",10);return isFinite(e)?e:0},wm=function(){l.useEffect(function(){return document.body.setAttribute(jt,(Js()+1).toString()),function(){var e=Js()-1;e<=0?document.body.removeAttribute(jt):document.body.setAttribute(jt,e.toString())}},[])},jm=function(e){var n=e.noRelative,r=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;wm();var a=l.useMemo(function(){return gm(o)},[o]);return l.createElement(bm,{styles:ym(a,!n,o,r?"":"!important")})},Tr=!1;if(typeof window<"u")try{var dn=Object.defineProperty({},"passive",{get:function(){return Tr=!0,!0}});window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Tr=!1}var vt=Tr?{passive:!1}:!1,Nm=function(e){return e.tagName==="TEXTAREA"},Da=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!Nm(e)&&r[n]==="visible")},Cm=function(e){return Da(e,"overflowY")},Sm=function(e){return Da(e,"overflowX")},Qs=function(e,n){var r=n.ownerDocument,s=n;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=Ra(e,s);if(o){var a=Pa(e,s),i=a[1],c=a[2];if(i>c)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},Em=function(e){var n=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[n,r,s]},Im=function(e){var n=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[n,r,s]},Ra=function(e,n){return e==="v"?Cm(n):Sm(n)},Pa=function(e,n){return e==="v"?Em(n):Im(n)},Tm=function(e,n){return e==="h"&&n==="rtl"?-1:1},Dm=function(e,n,r,s,o){var a=Tm(e,window.getComputedStyle(n).direction),i=a*s,c=r.target,f=n.contains(c),u=!1,d=i>0,m=0,h=0;do{var v=Pa(e,c),g=v[0],p=v[1],x=v[2],w=p-x-a*g;(g||w)&&Ra(e,c)&&(m+=w,h+=g),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(n.contains(c)||n===c));return(d&&Math.abs(m)<1||!d&&Math.abs(h)<1)&&(u=!0),u},un=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eo=function(e){return[e.deltaX,e.deltaY]},to=function(e){return e&&"current"in e?e.current:e},Rm=function(e,n){return e[0]===n[0]&&e[1]===n[1]},Pm=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Am=0,gt=[];function _m(e){var n=l.useRef([]),r=l.useRef([0,0]),s=l.useRef(),o=l.useState(Am++)[0],a=l.useState(Ta)[0],i=l.useRef(e);l.useEffect(function(){i.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=em([e.lockRef.current],(e.shards||[]).map(to),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=l.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var w=un(p),y=r.current,b="deltaX"in p?p.deltaX:y[0]-w[0],T="deltaY"in p?p.deltaY:y[1]-w[1],O,M=p.target,_=Math.abs(b)>Math.abs(T)?"h":"v";if("touches"in p&&_==="h"&&M.type==="range")return!1;var S=Qs(_,M);if(!S)return!0;if(S?O=_:(O=_==="v"?"h":"v",S=Qs(_,M)),!S)return!1;if(!s.current&&"changedTouches"in p&&(b||T)&&(s.current=O),!O)return!0;var D=s.current||O;return Dm(D,x,p,D==="h"?b:T)},[]),f=l.useCallback(function(p){var x=p;if(!(!gt.length||gt[gt.length-1]!==a)){var w="deltaY"in x?eo(x):un(x),y=n.current.filter(function(O){return O.name===x.type&&(O.target===x.target||x.target===O.shadowParent)&&Rm(O.delta,w)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(i.current.shards||[]).map(to).filter(Boolean).filter(function(O){return O.contains(x.target)}),T=b.length>0?c(x,b[0]):!i.current.noIsolation;T&&x.cancelable&&x.preventDefault()}}},[]),u=l.useCallback(function(p,x,w,y){var b={name:p,delta:x,target:w,should:y,shadowParent:Om(w)};n.current.push(b),setTimeout(function(){n.current=n.current.filter(function(T){return T!==b})},1)},[]),d=l.useCallback(function(p){r.current=un(p),s.current=void 0},[]),m=l.useCallback(function(p){u(p.type,eo(p),p.target,c(p,e.lockRef.current))},[]),h=l.useCallback(function(p){u(p.type,un(p),p.target,c(p,e.lockRef.current))},[]);l.useEffect(function(){return gt.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",f,vt),document.addEventListener("touchmove",f,vt),document.addEventListener("touchstart",d,vt),function(){gt=gt.filter(function(p){return p!==a}),document.removeEventListener("wheel",f,vt),document.removeEventListener("touchmove",f,vt),document.removeEventListener("touchstart",d,vt)}},[]);var v=e.removeScrollBar,g=e.inert;return l.createElement(l.Fragment,null,g?l.createElement(a,{styles:Pm(o)}):null,v?l.createElement(jm,{gapMode:e.gapMode}):null)}function Om(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const km=lm(Ia,_m);var ss=l.forwardRef(function(e,n){return l.createElement($n,Me({},e,{ref:n,sideCar:km}))});ss.classNames=$n.classNames;var Mm=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},bt=new WeakMap,fn=new WeakMap,mn={},mr=0,Aa=function(e){return e&&(e.host||Aa(e.parentNode))},Lm=function(e,n){return n.map(function(r){if(e.contains(r))return r;var s=Aa(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Fm=function(e,n,r,s){var o=Lm(n,Array.isArray(e)?e:[e]);mn[r]||(mn[r]=new WeakMap);var a=mn[r],i=[],c=new Set,f=new Set(o),u=function(m){!m||c.has(m)||(c.add(m),u(m.parentNode))};o.forEach(u);var d=function(m){!m||f.has(m)||Array.prototype.forEach.call(m.children,function(h){if(c.has(h))d(h);else try{var v=h.getAttribute(s),g=v!==null&&v!=="false",p=(bt.get(h)||0)+1,x=(a.get(h)||0)+1;bt.set(h,p),a.set(h,x),i.push(h),p===1&&g&&fn.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(n),c.clear(),mr++,function(){i.forEach(function(m){var h=bt.get(m)-1,v=a.get(m)-1;bt.set(m,h),a.set(m,v),h||(fn.has(m)||m.removeAttribute(s),fn.delete(m)),v||m.removeAttribute(r)}),mr--,mr||(bt=new WeakMap,bt=new WeakMap,fn=new WeakMap,mn={})}},_a=function(e,n,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=Mm(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live]"))),Fm(s,o,r,"aria-hidden")):function(){return null}},os="Dialog",[Oa,jx]=ot(os),[zm,Pe]=Oa(os),ka=e=>{const{__scopeDialog:n,children:r,open:s,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,c=l.useRef(null),f=l.useRef(null),[u=!1,d]=ut({prop:s,defaultProp:o,onChange:a});return t.jsx(zm,{scope:n,triggerRef:c,contentRef:f,contentId:Qe(),titleId:Qe(),descriptionId:Qe(),open:u,onOpenChange:d,onOpenToggle:l.useCallback(()=>d(m=>!m),[d]),modal:i,children:r})};ka.displayName=os;var Ma="DialogTrigger",La=l.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,o=Pe(Ma,r),a=se(n,o.triggerRef);return t.jsx(K.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":cs(o.open),...s,ref:a,onClick:W(e.onClick,o.onOpenToggle)})});La.displayName=Ma;var as="DialogPortal",[$m,Fa]=Oa(as,{forceMount:void 0}),za=e=>{const{__scopeDialog:n,forceMount:r,children:s,container:o}=e,a=Pe(as,n);return t.jsx($m,{scope:n,forceMount:r,children:l.Children.map(s,i=>t.jsx(Rt,{present:r||a.open,children:t.jsx(On,{asChild:!0,container:o,children:i})}))})};za.displayName=as;var In="DialogOverlay",$a=l.forwardRef((e,n)=>{const r=Fa(In,e.__scopeDialog),{forceMount:s=r.forceMount,...o}=e,a=Pe(In,e.__scopeDialog);return a.modal?t.jsx(Rt,{present:s||a.open,children:t.jsx(Wm,{...o,ref:n})}):null});$a.displayName=In;var Bm=Et("DialogOverlay.RemoveScroll"),Wm=l.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,o=Pe(In,r);return t.jsx(ss,{as:Bm,allowPinchZoom:!0,shards:[o.contentRef],children:t.jsx(K.div,{"data-state":cs(o.open),...s,ref:n,style:{pointerEvents:"auto",...s.style}})})}),ft="DialogContent",Ba=l.forwardRef((e,n)=>{const r=Fa(ft,e.__scopeDialog),{forceMount:s=r.forceMount,...o}=e,a=Pe(ft,e.__scopeDialog);return t.jsx(Rt,{present:s||a.open,children:a.modal?t.jsx(Um,{...o,ref:n}):t.jsx(Vm,{...o,ref:n})})});Ba.displayName=ft;var Um=l.forwardRef((e,n)=>{const r=Pe(ft,e.__scopeDialog),s=l.useRef(null),o=se(n,r.contentRef,s);return l.useEffect(()=>{const a=s.current;if(a)return _a(a)},[]),t.jsx(Wa,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:W(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:W(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&a.preventDefault()}),onFocusOutside:W(e.onFocusOutside,a=>a.preventDefault())})}),Vm=l.forwardRef((e,n)=>{const r=Pe(ft,e.__scopeDialog),s=l.useRef(!1),o=l.useRef(!1);return t.jsx(Wa,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,c;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(s.current||(c=r.triggerRef.current)==null||c.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{var f,u;(f=e.onInteractOutside)==null||f.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Wa=l.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,c=Pe(ft,r),f=l.useRef(null),u=se(n,f);return Ca(),t.jsxs(t.Fragment,{children:[t.jsx(rs,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:t.jsx(_n,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":cs(c.open),...i,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(qm,{titleId:c.titleId}),t.jsx(Gm,{contentRef:f,descriptionId:c.descriptionId})]})]})}),is="DialogTitle",Ua=l.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,o=Pe(is,r);return t.jsx(K.h2,{id:o.titleId,...s,ref:n})});Ua.displayName=is;var Va="DialogDescription",qa=l.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,o=Pe(Va,r);return t.jsx(K.p,{id:o.descriptionId,...s,ref:n})});qa.displayName=Va;var Ha="DialogClose",Ga=l.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,o=Pe(Ha,r);return t.jsx(K.button,{type:"button",...s,ref:n,onClick:W(e.onClick,()=>o.onOpenChange(!1))})});Ga.displayName=Ha;function cs(e){return e?"open":"closed"}var Ya="DialogTitleWarning",[Nx,Ka]=El(Ya,{contentName:ft,titleName:is,docsSlug:"dialog"}),qm=({titleId:e})=>{const n=Ka(Ya),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return l.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Hm="DialogDescriptionWarning",Gm=({contentRef:e,descriptionId:n})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ka(Hm).contentName}}.`;return l.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");n&&o&&(document.getElementById(n)||console.warn(s))},[s,e,n]),null},Ym=ka,Km=La,Xm=za,Xa=$a,Za=Ba,Ja=Ua,Qa=qa,Zm=Ga;const ze=Ym,tn=Km,Jm=Xm,ei=l.forwardRef(({className:e,...n},r)=>t.jsx(Xa,{ref:r,className:$("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));ei.displayName=Xa.displayName;const Ee=l.forwardRef(({className:e,children:n,...r},s)=>t.jsxs(Jm,{children:[t.jsx(ei,{}),t.jsxs(Za,{ref:s,className:$("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",e),...r,children:[n,t.jsxs(Zm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[t.jsx($r,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ee.displayName=Za.displayName;const Ie=({className:e,...n})=>t.jsx("div",{className:$("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});Ie.displayName="DialogHeader";const Te=l.forwardRef(({className:e,...n},r)=>t.jsx(Ja,{ref:r,className:$("text-lg font-semibold leading-none tracking-tight",e),...n}));Te.displayName=Ja.displayName;const Dr=l.forwardRef(({className:e,...n},r)=>t.jsx(Qa,{ref:r,className:$("text-sm text-zinc-500 dark:text-zinc-400",e),...n}));Dr.displayName=Qa.displayName;const ti=l.forwardRef(({className:e,...n},r)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:r,className:$("w-full caption-bottom text-sm",e),...n})}));ti.displayName="Table";const ni=l.forwardRef(({className:e,...n},r)=>t.jsx("thead",{ref:r,className:$("[&_tr]:border-b",e),...n}));ni.displayName="TableHeader";const ri=l.forwardRef(({className:e,...n},r)=>t.jsx("tbody",{ref:r,className:$("[&_tr:last-child]:border-0",e),...n}));ri.displayName="TableBody";const Qm=l.forwardRef(({className:e,...n},r)=>t.jsx("tfoot",{ref:r,className:$("border-t bg-zinc-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-zinc-800/50",e),...n}));Qm.displayName="TableFooter";const Rr=l.forwardRef(({className:e,...n},r)=>t.jsx("tr",{ref:r,className:$("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",e),...n}));Rr.displayName="TableRow";const lt=l.forwardRef(({className:e,...n},r)=>t.jsx("th",{ref:r,className:$("h-10 px-2 text-left align-middle font-medium text-zinc-500 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] dark:text-zinc-400",e),...n}));lt.displayName="TableHead";const dt=l.forwardRef(({className:e,...n},r)=>t.jsx("td",{ref:r,className:$("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...n}));dt.displayName="TableCell";const ep=l.forwardRef(({className:e,...n},r)=>t.jsx("caption",{ref:r,className:$("mt-4 text-sm text-zinc-500 dark:text-zinc-400",e),...n}));ep.displayName="TableCaption";const It=l.forwardRef(({className:e,...n},r)=>t.jsx("textarea",{className:$("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",e),ref:r,...n}));It.displayName="Textarea";const no={nombre:"",empresa:"",telefono:"",email:"",direccion:"",cuit:"",contacto:""},tp=()=>{const[e,n]=l.useState(""),[r,s]=l.useState(no),[o,a]=l.useState(null),[i,c]=l.useState(!1),[f,u]=l.useState(!1),[d,m]=l.useState(null),{clientes:h,loading:v,createCliente:g,updateCliente:p,deleteCliente:x}=Of(),{toast:w}=st(),{user:y}=Dt(),b=h.filter(C=>{var I,R;return C.nombre.toLowerCase().includes(e.toLowerCase())||((I=C.empresa)==null?void 0:I.toLowerCase().includes(e.toLowerCase()))||((R=C.email)==null?void 0:R.toLowerCase().includes(e.toLowerCase()))}),T=async C=>{C.preventDefault();try{o?(p(o.id,r),w({title:"Cliente actualizado",description:"Los datos del cliente se han actualizado correctamente."})):(g(r),w({title:"Cliente creado",description:"El nuevo cliente se ha registrado correctamente."})),D()}catch{w({title:"Error",description:"Ocurrió un error al guardar el cliente.",variant:"destructive"})}},O=C=>{s({nombre:C.nombre,empresa:C.empresa||"",telefono:C.telefono||"",email:C.email||"",direccion:C.direccion||"",cuit:C.cuit||"",contacto:C.contacto||""}),a(C),c(!0)},M=C=>{m(C),u(!0)},_=C=>{if(!y||y.nivel!=="admin"){w({title:"Acceso denegado",description:"Solo los administradores pueden duplicar clientes.",variant:"destructive"});return}const I={...C,id:"",nombre:`${C.nombre} (Copia)`,fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()},{id:R,fechaCreacion:j,fechaActualizacion:A,...P}=I;try{g(P),w({title:"Cliente duplicado",description:`Se ha creado una copia de ${C.nombre}`})}catch{w({title:"Error al duplicar",description:"No se pudo duplicar el cliente. Intenta nuevamente.",variant:"destructive"})}},S=()=>{d&&(x(d.id),w({title:"Cliente eliminado",description:"El cliente ha sido eliminado correctamente."}),u(!1),m(null))},D=()=>{c(!1),a(null),s(no)},k=(C,I)=>{s(R=>({...R,[C]:I}))},N=()=>{if(!y||y.nivel!=="admin"){w({title:"Acceso denegado",description:"Solo los administradores pueden exportar datos.",variant:"destructive"});return}try{const I=[["Nombre","Empresa","Contacto","Teléfono","Email","Dirección","CUIT"].join(","),...h.map(E=>[`"${E.nombre||""}"`,`"${E.empresa||""}"`,`"${E.contacto||""}"`,`"${Ir(E.telefono||"")}"`,`"${E.email||""}"`,`"${E.direccion||""}"`,`"${Lf(E.cuit||"")}"`].join(","))].join(`
`),R=new Blob(["\uFEFF"+I],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a"),A=URL.createObjectURL(R);j.setAttribute("href",A);const P=new Date().toISOString().split("T")[0];j.setAttribute("download",`PULCRO_Clientes_${P}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j),w({title:"Exportación exitosa",description:`Se han exportado ${h.length} clientes a Excel.`})}catch{w({title:"Error en exportación",description:"No se pudo exportar el archivo. Intenta nuevamente.",variant:"destructive"})}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Clientes"}),t.jsx("p",{className:"text-gray-600",children:"Administra la información de tus clientes"})]}),t.jsxs("div",{className:"flex space-x-2",children:[(y==null?void 0:y.nivel)==="admin"&&t.jsxs(F,{onClick:N,variant:"outline",className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",children:[t.jsx(bo,{className:"h-4 w-4 mr-2"}),"Exportar Excel"]}),t.jsxs(ze,{open:i,onOpenChange:c,children:[t.jsx(tn,{asChild:!0,children:t.jsxs(F,{onClick:()=>c(!0),children:[t.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Nuevo Cliente"]})}),t.jsxs(Ee,{className:"max-w-2xl",children:[t.jsxs(Ie,{children:[t.jsx(Te,{children:o?"Editar Cliente":"Nuevo Cliente"}),t.jsx(Dr,{children:o?"Modifica los datos del cliente":"Ingresa los datos del nuevo cliente"})]}),t.jsxs("form",{onSubmit:T,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ke,{htmlFor:"nombre",children:"Nombre *"}),t.jsx(q,{id:"nombre",value:r.nombre,onChange:C=>k("nombre",C.target.value),placeholder:"Nombre del cliente",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ke,{htmlFor:"empresa",children:"Empresa"}),t.jsx(q,{id:"empresa",value:r.empresa,onChange:C=>k("empresa",C.target.value),placeholder:"Nombre de la empresa"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ke,{htmlFor:"contacto",children:"Persona de Contacto"}),t.jsx(q,{id:"contacto",value:r.contacto,onChange:C=>k("contacto",C.target.value),placeholder:"Persona de contacto"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ke,{htmlFor:"telefono",children:"Teléfono"}),t.jsx(q,{id:"telefono",value:r.telefono,onChange:C=>k("telefono",C.target.value),placeholder:"+5411-XXXX-XXXX"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ke,{htmlFor:"email",children:"Email"}),t.jsx(q,{id:"email",type:"email",value:r.email,onChange:C=>k("email",C.target.value),placeholder:"email@ejemplo.com"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ke,{htmlFor:"cuit",children:"CUIT/NIF"}),t.jsx(q,{id:"cuit",value:r.cuit,onChange:C=>k("cuit",C.target.value),placeholder:"XX-XXXXXXXX-X"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ke,{htmlFor:"direccion",children:"Dirección"}),t.jsx(It,{id:"direccion",value:r.direccion,onChange:C=>k("direccion",C.target.value),placeholder:"Dirección completa del cliente",rows:3})]}),t.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[t.jsx(F,{type:"button",variant:"outline",onClick:D,children:"Cancelar"}),t.jsxs(F,{type:"submit",children:[o?"Actualizar":"Crear"," Cliente"]})]})]})]})]})]})]}),t.jsx(H,{children:t.jsx(Y,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Zt,{className:"h-4 w-4 text-gray-400"}),t.jsx(q,{placeholder:"Buscar por nombre, empresa o email...",value:e,onChange:C=>n(C.target.value),className:"max-w-sm"})]})})}),t.jsxs(H,{children:[t.jsxs(ue,{children:[t.jsxs(fe,{children:["Lista de Clientes (",b.length,")"]}),t.jsx(Ht,{children:"Información detallada de todos tus clientes"})]}),t.jsx(Y,{children:v?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-500",children:"Cargando clientes..."})}):b.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-500",children:e?"No se encontraron clientes que coincidan con tu búsqueda.":"No hay clientes registrados."})}):t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"md:hidden space-y-4",children:b.map(C=>t.jsx(H,{className:"p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg",children:C.nombre}),C.empresa&&t.jsxs("p",{className:"text-gray-600 flex items-center",children:[t.jsx(nl,{className:"h-4 w-4 mr-1"}),C.empresa]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>O(C),children:t.jsx(Ct,{className:"h-4 w-4"})}),(y==null?void 0:y.nivel)==="admin"&&t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>_(C),className:"text-blue-600 hover:text-blue-700",title:"Duplicar cliente",children:t.jsx(Sn,{className:"h-4 w-4"})}),t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>M(C),className:"text-red-600 hover:text-red-700",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),C.contacto&&t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("strong",{children:"Contacto:"})," ",C.contacto]}),t.jsxs("div",{className:"space-y-1",children:[C.telefono&&t.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[t.jsx(yo,{className:"h-4 w-4 mr-2"}),C.telefono]}),C.email&&t.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[t.jsx(wo,{className:"h-4 w-4 mr-2"}),C.email]}),C.direccion&&t.jsxs("p",{className:"text-sm text-gray-600 flex items-start",children:[t.jsx(jo,{className:"h-4 w-4 mr-2 mt-0.5"}),C.direccion]})]})]})},C.id))}),t.jsx("div",{className:"hidden md:block",children:t.jsxs(ti,{children:[t.jsx(ni,{children:t.jsxs(Rr,{children:[t.jsx(lt,{children:"Cliente"}),t.jsx(lt,{children:"Empresa"}),t.jsx(lt,{children:"Contacto"}),t.jsx(lt,{children:"Teléfono"}),t.jsx(lt,{children:"Email"}),t.jsx(lt,{children:"Acciones"})]})}),t.jsx(ri,{children:b.map(C=>t.jsxs(Rr,{children:[t.jsx(dt,{className:"font-medium",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:C.nombre}),C.direccion&&t.jsx("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:C.direccion})]})}),t.jsx(dt,{children:C.empresa||"-"}),t.jsx(dt,{children:C.contacto||"-"}),t.jsx(dt,{children:C.telefono||"-"}),t.jsx(dt,{children:C.email||"-"}),t.jsx(dt,{children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>O(C),children:t.jsx(Ct,{className:"h-4 w-4"})}),(y==null?void 0:y.nivel)==="admin"&&t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>_(C),className:"text-blue-600 hover:text-blue-700",title:"Duplicar cliente",children:t.jsx(Sn,{className:"h-4 w-4"})}),t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>M(C),className:"text-red-600 hover:text-red-700",children:t.jsx(St,{className:"h-4 w-4"})})]})})]},C.id))})]})})]})})]}),t.jsx(ze,{open:f,onOpenChange:u,children:t.jsxs(Ee,{children:[t.jsxs(Ie,{children:[t.jsx(Te,{children:"Confirmar Eliminación"}),t.jsxs(Dr,{children:['¿Estás seguro de que quieres eliminar al cliente "',d==null?void 0:d.nombre,'"? Esta acción no se puede deshacer.']})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(F,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),t.jsx(F,{variant:"destructive",onClick:S,children:"Eliminar"})]})]})})]})};function ro(e,[n,r]){return Math.min(r,Math.max(n,e))}var np=l.createContext(void 0);function ls(e){const n=l.useContext(np);return e||n||"ltr"}const rp=["top","right","bottom","left"],tt=Math.min,be=Math.max,Tn=Math.round,pn=Math.floor,Le=e=>({x:e,y:e}),sp={left:"right",right:"left",bottom:"top",top:"bottom"},op={start:"end",end:"start"};function Pr(e,n,r){return be(e,tt(n,r))}function He(e,n){return typeof e=="function"?e(n):e}function Ge(e){return e.split("-")[0]}function At(e){return e.split("-")[1]}function ds(e){return e==="x"?"y":"x"}function us(e){return e==="y"?"height":"width"}function nt(e){return["top","bottom"].includes(Ge(e))?"y":"x"}function fs(e){return ds(nt(e))}function ap(e,n,r){r===void 0&&(r=!1);const s=At(e),o=fs(e),a=us(o);let i=o==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(i=Dn(i)),[i,Dn(i)]}function ip(e){const n=Dn(e);return[Ar(e),n,Ar(n)]}function Ar(e){return e.replace(/start|end/g,n=>op[n])}function cp(e,n,r){const s=["left","right"],o=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?n?o:s:n?s:o;case"left":case"right":return n?a:i;default:return[]}}function lp(e,n,r,s){const o=At(e);let a=cp(Ge(e),r==="start",s);return o&&(a=a.map(i=>i+"-"+o),n&&(a=a.concat(a.map(Ar)))),a}function Dn(e){return e.replace(/left|right|bottom|top/g,n=>sp[n])}function dp(e){return{top:0,right:0,bottom:0,left:0,...e}}function si(e){return typeof e!="number"?dp(e):{top:e,right:e,bottom:e,left:e}}function Rn(e){const{x:n,y:r,width:s,height:o}=e;return{width:s,height:o,top:r,left:n,right:n+s,bottom:r+o,x:n,y:r}}function so(e,n,r){let{reference:s,floating:o}=e;const a=nt(n),i=fs(n),c=us(i),f=Ge(n),u=a==="y",d=s.x+s.width/2-o.width/2,m=s.y+s.height/2-o.height/2,h=s[c]/2-o[c]/2;let v;switch(f){case"top":v={x:d,y:s.y-o.height};break;case"bottom":v={x:d,y:s.y+s.height};break;case"right":v={x:s.x+s.width,y:m};break;case"left":v={x:s.x-o.width,y:m};break;default:v={x:s.x,y:s.y}}switch(At(n)){case"start":v[i]-=h*(r&&u?-1:1);break;case"end":v[i]+=h*(r&&u?-1:1);break}return v}const up=async(e,n,r)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:i}=r,c=a.filter(Boolean),f=await(i.isRTL==null?void 0:i.isRTL(n));let u=await i.getElementRects({reference:e,floating:n,strategy:o}),{x:d,y:m}=so(u,s,f),h=s,v={},g=0;for(let p=0;p<c.length;p++){const{name:x,fn:w}=c[p],{x:y,y:b,data:T,reset:O}=await w({x:d,y:m,initialPlacement:s,placement:h,strategy:o,middlewareData:v,rects:u,platform:i,elements:{reference:e,floating:n}});d=y??d,m=b??m,v={...v,[x]:{...v[x],...T}},O&&g<=50&&(g++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(u=O.rects===!0?await i.getElementRects({reference:e,floating:n,strategy:o}):O.rects),{x:d,y:m}=so(u,h,f)),p=-1)}return{x:d,y:m,placement:h,strategy:o,middlewareData:v}};async function Gt(e,n){var r;n===void 0&&(n={});const{x:s,y:o,platform:a,rects:i,elements:c,strategy:f}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:h=!1,padding:v=0}=He(n,e),g=si(v),x=c[h?m==="floating"?"reference":"floating":m],w=Rn(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:f})),y=m==="floating"?{x:s,y:o,width:i.floating.width,height:i.floating.height}:i.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),T=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},O=Rn(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:b,strategy:f}):y);return{top:(w.top-O.top+g.top)/T.y,bottom:(O.bottom-w.bottom+g.bottom)/T.y,left:(w.left-O.left+g.left)/T.x,right:(O.right-w.right+g.right)/T.x}}const fp=e=>({name:"arrow",options:e,async fn(n){const{x:r,y:s,placement:o,rects:a,platform:i,elements:c,middlewareData:f}=n,{element:u,padding:d=0}=He(e,n)||{};if(u==null)return{};const m=si(d),h={x:r,y:s},v=fs(o),g=us(v),p=await i.getDimensions(u),x=v==="y",w=x?"top":"left",y=x?"bottom":"right",b=x?"clientHeight":"clientWidth",T=a.reference[g]+a.reference[v]-h[v]-a.floating[g],O=h[v]-a.reference[v],M=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=M?M[b]:0;(!_||!await(i.isElement==null?void 0:i.isElement(M)))&&(_=c.floating[b]||a.floating[g]);const S=T/2-O/2,D=_/2-p[g]/2-1,k=tt(m[w],D),N=tt(m[y],D),C=k,I=_-p[g]-N,R=_/2-p[g]/2+S,j=Pr(C,R,I),A=!f.arrow&&At(o)!=null&&R!==j&&a.reference[g]/2-(R<C?k:N)-p[g]/2<0,P=A?R<C?R-C:R-I:0;return{[v]:h[v]+P,data:{[v]:j,centerOffset:R-j-P,...A&&{alignmentOffset:P}},reset:A}}}),mp=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,s;const{placement:o,middlewareData:a,rects:i,initialPlacement:c,platform:f,elements:u}=n,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=He(e,n);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=Ge(o),y=nt(c),b=Ge(c)===c,T=await(f.isRTL==null?void 0:f.isRTL(u.floating)),O=h||(b||!p?[Dn(c)]:ip(c)),M=g!=="none";!h&&M&&O.push(...lp(c,p,g,T));const _=[c,...O],S=await Gt(n,x),D=[];let k=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&D.push(S[w]),m){const R=ap(o,i,T);D.push(S[R[0]],S[R[1]])}if(k=[...k,{placement:o,overflows:D}],!D.every(R=>R<=0)){var N,C;const R=(((N=a.flip)==null?void 0:N.index)||0)+1,j=_[R];if(j)return{data:{index:R,overflows:k},reset:{placement:j}};let A=(C=k.filter(P=>P.overflows[0]<=0).sort((P,E)=>P.overflows[1]-E.overflows[1])[0])==null?void 0:C.placement;if(!A)switch(v){case"bestFit":{var I;const P=(I=k.filter(E=>{if(M){const L=nt(E.placement);return L===y||L==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(L=>L>0).reduce((L,J)=>L+J,0)]).sort((E,L)=>E[1]-L[1])[0])==null?void 0:I[0];P&&(A=P);break}case"initialPlacement":A=c;break}if(o!==A)return{reset:{placement:A}}}return{}}}};function oo(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function ao(e){return rp.some(n=>e[n]>=0)}const pp=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:r}=n,{strategy:s="referenceHidden",...o}=He(e,n);switch(s){case"referenceHidden":{const a=await Gt(n,{...o,elementContext:"reference"}),i=oo(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ao(i)}}}case"escaped":{const a=await Gt(n,{...o,altBoundary:!0}),i=oo(a,r.floating);return{data:{escapedOffsets:i,escaped:ao(i)}}}default:return{}}}}};async function hp(e,n){const{placement:r,platform:s,elements:o}=e,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),i=Ge(r),c=At(r),f=nt(r)==="y",u=["left","top"].includes(i)?-1:1,d=a&&f?-1:1,m=He(n,e);let{mainAxis:h,crossAxis:v,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof g=="number"&&(v=c==="end"?g*-1:g),f?{x:v*d,y:h*u}:{x:h*u,y:v*d}}const xp=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var r,s;const{x:o,y:a,placement:i,middlewareData:c}=n,f=await hp(n,e);return i===((r=c.offset)==null?void 0:r.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:i}}}}},vp=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:s,placement:o}=n,{mainAxis:a=!0,crossAxis:i=!1,limiter:c={fn:x=>{let{x:w,y}=x;return{x:w,y}}},...f}=He(e,n),u={x:r,y:s},d=await Gt(n,f),m=nt(Ge(o)),h=ds(m);let v=u[h],g=u[m];if(a){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=v+d[x],b=v-d[w];v=Pr(y,v,b)}if(i){const x=m==="y"?"top":"left",w=m==="y"?"bottom":"right",y=g+d[x],b=g-d[w];g=Pr(y,g,b)}const p=c.fn({...n,[h]:v,[m]:g});return{...p,data:{x:p.x-r,y:p.y-s,enabled:{[h]:a,[m]:i}}}}}},gp=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:s,placement:o,rects:a,middlewareData:i}=n,{offset:c=0,mainAxis:f=!0,crossAxis:u=!0}=He(e,n),d={x:r,y:s},m=nt(o),h=ds(m);let v=d[h],g=d[m];const p=He(c,n),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(f){const b=h==="y"?"height":"width",T=a.reference[h]-a.floating[b]+x.mainAxis,O=a.reference[h]+a.reference[b]-x.mainAxis;v<T?v=T:v>O&&(v=O)}if(u){var w,y;const b=h==="y"?"width":"height",T=["top","left"].includes(Ge(o)),O=a.reference[m]-a.floating[b]+(T&&((w=i.offset)==null?void 0:w[m])||0)+(T?0:x.crossAxis),M=a.reference[m]+a.reference[b]+(T?0:((y=i.offset)==null?void 0:y[m])||0)-(T?x.crossAxis:0);g<O?g=O:g>M&&(g=M)}return{[h]:v,[m]:g}}}},bp=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var r,s;const{placement:o,rects:a,platform:i,elements:c}=n,{apply:f=()=>{},...u}=He(e,n),d=await Gt(n,u),m=Ge(o),h=At(o),v=nt(o)==="y",{width:g,height:p}=a.floating;let x,w;m==="top"||m==="bottom"?(x=m,w=h===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(w=m,x=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,b=g-d.left-d.right,T=tt(p-d[x],y),O=tt(g-d[w],b),M=!n.middlewareData.shift;let _=T,S=O;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(S=b),(s=n.middlewareData.shift)!=null&&s.enabled.y&&(_=y),M&&!h){const k=be(d.left,0),N=be(d.right,0),C=be(d.top,0),I=be(d.bottom,0);v?S=g-2*(k!==0||N!==0?k+N:be(d.left,d.right)):_=p-2*(C!==0||I!==0?C+I:be(d.top,d.bottom))}await f({...n,availableWidth:S,availableHeight:_});const D=await i.getDimensions(c.floating);return g!==D.width||p!==D.height?{reset:{rects:!0}}:{}}}};function Bn(){return typeof window<"u"}function _t(e){return oi(e)?(e.nodeName||"").toLowerCase():"#document"}function we(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Be(e){var n;return(n=(oi(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function oi(e){return Bn()?e instanceof Node||e instanceof we(e).Node:!1}function De(e){return Bn()?e instanceof Element||e instanceof we(e).Element:!1}function $e(e){return Bn()?e instanceof HTMLElement||e instanceof we(e).HTMLElement:!1}function io(e){return!Bn()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof we(e).ShadowRoot}function nn(e){const{overflow:n,overflowX:r,overflowY:s,display:o}=Re(e);return/auto|scroll|overlay|hidden|clip/.test(n+s+r)&&!["inline","contents"].includes(o)}function yp(e){return["table","td","th"].includes(_t(e))}function Wn(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function ms(e){const n=ps(),r=De(e)?Re(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function wp(e){let n=rt(e);for(;$e(n)&&!Tt(n);){if(ms(n))return n;if(Wn(n))return null;n=rt(n)}return null}function ps(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tt(e){return["html","body","#document"].includes(_t(e))}function Re(e){return we(e).getComputedStyle(e)}function Un(e){return De(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rt(e){if(_t(e)==="html")return e;const n=e.assignedSlot||e.parentNode||io(e)&&e.host||Be(e);return io(n)?n.host:n}function ai(e){const n=rt(e);return Tt(n)?e.ownerDocument?e.ownerDocument.body:e.body:$e(n)&&nn(n)?n:ai(n)}function Yt(e,n,r){var s;n===void 0&&(n=[]),r===void 0&&(r=!0);const o=ai(e),a=o===((s=e.ownerDocument)==null?void 0:s.body),i=we(o);if(a){const c=_r(i);return n.concat(i,i.visualViewport||[],nn(o)?o:[],c&&r?Yt(c):[])}return n.concat(o,Yt(o,[],r))}function _r(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ii(e){const n=Re(e);let r=parseFloat(n.width)||0,s=parseFloat(n.height)||0;const o=$e(e),a=o?e.offsetWidth:r,i=o?e.offsetHeight:s,c=Tn(r)!==a||Tn(s)!==i;return c&&(r=a,s=i),{width:r,height:s,$:c}}function hs(e){return De(e)?e:e.contextElement}function Nt(e){const n=hs(e);if(!$e(n))return Le(1);const r=n.getBoundingClientRect(),{width:s,height:o,$:a}=ii(n);let i=(a?Tn(r.width):r.width)/s,c=(a?Tn(r.height):r.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const jp=Le(0);function ci(e){const n=we(e);return!ps()||!n.visualViewport?jp:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Np(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==we(e)?!1:n}function mt(e,n,r,s){n===void 0&&(n=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=hs(e);let i=Le(1);n&&(s?De(s)&&(i=Nt(s)):i=Nt(e));const c=Np(a,r,s)?ci(a):Le(0);let f=(o.left+c.x)/i.x,u=(o.top+c.y)/i.y,d=o.width/i.x,m=o.height/i.y;if(a){const h=we(a),v=s&&De(s)?we(s):s;let g=h,p=_r(g);for(;p&&s&&v!==g;){const x=Nt(p),w=p.getBoundingClientRect(),y=Re(p),b=w.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,T=w.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;f*=x.x,u*=x.y,d*=x.x,m*=x.y,f+=b,u+=T,g=we(p),p=_r(g)}}return Rn({width:d,height:m,x:f,y:u})}function xs(e,n){const r=Un(e).scrollLeft;return n?n.left+r:mt(Be(e)).left+r}function li(e,n,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=s.left+n.scrollLeft-(r?0:xs(e,s)),a=s.top+n.scrollTop;return{x:o,y:a}}function Cp(e){let{elements:n,rect:r,offsetParent:s,strategy:o}=e;const a=o==="fixed",i=Be(s),c=n?Wn(n.floating):!1;if(s===i||c&&a)return r;let f={scrollLeft:0,scrollTop:0},u=Le(1);const d=Le(0),m=$e(s);if((m||!m&&!a)&&((_t(s)!=="body"||nn(i))&&(f=Un(s)),$e(s))){const v=mt(s);u=Nt(s),d.x=v.x+s.clientLeft,d.y=v.y+s.clientTop}const h=i&&!m&&!a?li(i,f,!0):Le(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-f.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-f.scrollTop*u.y+d.y+h.y}}function Sp(e){return Array.from(e.getClientRects())}function Ep(e){const n=Be(e),r=Un(e),s=e.ownerDocument.body,o=be(n.scrollWidth,n.clientWidth,s.scrollWidth,s.clientWidth),a=be(n.scrollHeight,n.clientHeight,s.scrollHeight,s.clientHeight);let i=-r.scrollLeft+xs(e);const c=-r.scrollTop;return Re(s).direction==="rtl"&&(i+=be(n.clientWidth,s.clientWidth)-o),{width:o,height:a,x:i,y:c}}function Ip(e,n){const r=we(e),s=Be(e),o=r.visualViewport;let a=s.clientWidth,i=s.clientHeight,c=0,f=0;if(o){a=o.width,i=o.height;const u=ps();(!u||u&&n==="fixed")&&(c=o.offsetLeft,f=o.offsetTop)}return{width:a,height:i,x:c,y:f}}function Tp(e,n){const r=mt(e,!0,n==="fixed"),s=r.top+e.clientTop,o=r.left+e.clientLeft,a=$e(e)?Nt(e):Le(1),i=e.clientWidth*a.x,c=e.clientHeight*a.y,f=o*a.x,u=s*a.y;return{width:i,height:c,x:f,y:u}}function co(e,n,r){let s;if(n==="viewport")s=Ip(e,r);else if(n==="document")s=Ep(Be(e));else if(De(n))s=Tp(n,r);else{const o=ci(e);s={x:n.x-o.x,y:n.y-o.y,width:n.width,height:n.height}}return Rn(s)}function di(e,n){const r=rt(e);return r===n||!De(r)||Tt(r)?!1:Re(r).position==="fixed"||di(r,n)}function Dp(e,n){const r=n.get(e);if(r)return r;let s=Yt(e,[],!1).filter(c=>De(c)&&_t(c)!=="body"),o=null;const a=Re(e).position==="fixed";let i=a?rt(e):e;for(;De(i)&&!Tt(i);){const c=Re(i),f=ms(i);!f&&c.position==="fixed"&&(o=null),(a?!f&&!o:!f&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||nn(i)&&!f&&di(e,i))?s=s.filter(d=>d!==i):o=c,i=rt(i)}return n.set(e,s),s}function Rp(e){let{element:n,boundary:r,rootBoundary:s,strategy:o}=e;const i=[...r==="clippingAncestors"?Wn(n)?[]:Dp(n,this._c):[].concat(r),s],c=i[0],f=i.reduce((u,d)=>{const m=co(n,d,o);return u.top=be(m.top,u.top),u.right=tt(m.right,u.right),u.bottom=tt(m.bottom,u.bottom),u.left=be(m.left,u.left),u},co(n,c,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Pp(e){const{width:n,height:r}=ii(e);return{width:n,height:r}}function Ap(e,n,r){const s=$e(n),o=Be(n),a=r==="fixed",i=mt(e,!0,a,n);let c={scrollLeft:0,scrollTop:0};const f=Le(0);if(s||!s&&!a)if((_t(n)!=="body"||nn(o))&&(c=Un(n)),s){const h=mt(n,!0,a,n);f.x=h.x+n.clientLeft,f.y=h.y+n.clientTop}else o&&(f.x=xs(o));const u=o&&!s&&!a?li(o,c):Le(0),d=i.left+c.scrollLeft-f.x-u.x,m=i.top+c.scrollTop-f.y-u.y;return{x:d,y:m,width:i.width,height:i.height}}function pr(e){return Re(e).position==="static"}function lo(e,n){if(!$e(e)||Re(e).position==="fixed")return null;if(n)return n(e);let r=e.offsetParent;return Be(e)===r&&(r=r.ownerDocument.body),r}function ui(e,n){const r=we(e);if(Wn(e))return r;if(!$e(e)){let o=rt(e);for(;o&&!Tt(o);){if(De(o)&&!pr(o))return o;o=rt(o)}return r}let s=lo(e,n);for(;s&&yp(s)&&pr(s);)s=lo(s,n);return s&&Tt(s)&&pr(s)&&!ms(s)?r:s||wp(e)||r}const _p=async function(e){const n=this.getOffsetParent||ui,r=this.getDimensions,s=await r(e.floating);return{reference:Ap(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Op(e){return Re(e).direction==="rtl"}const kp={convertOffsetParentRelativeRectToViewportRelativeRect:Cp,getDocumentElement:Be,getClippingRect:Rp,getOffsetParent:ui,getElementRects:_p,getClientRects:Sp,getDimensions:Pp,getScale:Nt,isElement:De,isRTL:Op};function fi(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function Mp(e,n){let r=null,s;const o=Be(e);function a(){var c;clearTimeout(s),(c=r)==null||c.disconnect(),r=null}function i(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),a();const u=e.getBoundingClientRect(),{left:d,top:m,width:h,height:v}=u;if(c||n(),!h||!v)return;const g=pn(m),p=pn(o.clientWidth-(d+h)),x=pn(o.clientHeight-(m+v)),w=pn(d),b={rootMargin:-g+"px "+-p+"px "+-x+"px "+-w+"px",threshold:be(0,tt(1,f))||1};let T=!0;function O(M){const _=M[0].intersectionRatio;if(_!==f){if(!T)return i();_?i(!1,_):s=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!fi(u,e.getBoundingClientRect())&&i(),T=!1}try{r=new IntersectionObserver(O,{...b,root:o.ownerDocument})}catch{r=new IntersectionObserver(O,b)}r.observe(e)}return i(!0),a}function Lp(e,n,r,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,u=hs(e),d=o||a?[...u?Yt(u):[],...Yt(n)]:[];d.forEach(w=>{o&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const m=u&&c?Mp(u,r):null;let h=-1,v=null;i&&(v=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&v&&(v.unobserve(n),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(n)})),r()}),u&&!f&&v.observe(u),v.observe(n));let g,p=f?mt(e):null;f&&x();function x(){const w=mt(e);p&&!fi(p,w)&&r(),p=w,g=requestAnimationFrame(x)}return r(),()=>{var w;d.forEach(y=>{o&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),m==null||m(),(w=v)==null||w.disconnect(),v=null,f&&cancelAnimationFrame(g)}}const Fp=xp,zp=vp,$p=mp,Bp=bp,Wp=pp,uo=fp,Up=gp,Vp=(e,n,r)=>{const s=new Map,o={platform:kp,...r},a={...o.platform,_c:s};return up(e,n,{...o,platform:a})};var yn=typeof document<"u"?l.useLayoutEffect:l.useEffect;function Pn(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,s,o;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==n.length)return!1;for(s=r;s--!==0;)if(!Pn(e[s],n[s]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){const a=o[s];if(!(a==="_owner"&&e.$$typeof)&&!Pn(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function mi(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fo(e,n){const r=mi(e);return Math.round(n*r)/r}function hr(e){const n=l.useRef(e);return yn(()=>{n.current=e}),n}function qp(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:i}={},transform:c=!0,whileElementsMounted:f,open:u}=e,[d,m]=l.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[h,v]=l.useState(s);Pn(h,s)||v(s);const[g,p]=l.useState(null),[x,w]=l.useState(null),y=l.useCallback(E=>{E!==M.current&&(M.current=E,p(E))},[]),b=l.useCallback(E=>{E!==_.current&&(_.current=E,w(E))},[]),T=a||g,O=i||x,M=l.useRef(null),_=l.useRef(null),S=l.useRef(d),D=f!=null,k=hr(f),N=hr(o),C=hr(u),I=l.useCallback(()=>{if(!M.current||!_.current)return;const E={placement:n,strategy:r,middleware:h};N.current&&(E.platform=N.current),Vp(M.current,_.current,E).then(L=>{const J={...L,isPositioned:C.current!==!1};R.current&&!Pn(S.current,J)&&(S.current=J,Kt.flushSync(()=>{m(J)}))})},[h,n,r,N,C]);yn(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,m(E=>({...E,isPositioned:!1})))},[u]);const R=l.useRef(!1);yn(()=>(R.current=!0,()=>{R.current=!1}),[]),yn(()=>{if(T&&(M.current=T),O&&(_.current=O),T&&O){if(k.current)return k.current(T,O,I);I()}},[T,O,I,k,D]);const j=l.useMemo(()=>({reference:M,floating:_,setReference:y,setFloating:b}),[y,b]),A=l.useMemo(()=>({reference:T,floating:O}),[T,O]),P=l.useMemo(()=>{const E={position:r,left:0,top:0};if(!A.floating)return E;const L=fo(A.floating,d.x),J=fo(A.floating,d.y);return c?{...E,transform:"translate("+L+"px, "+J+"px)",...mi(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:J}},[r,c,A.floating,d.x,d.y]);return l.useMemo(()=>({...d,update:I,refs:j,elements:A,floatingStyles:P}),[d,I,j,A,P])}const Hp=e=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:o}=typeof e=="function"?e(r):e;return s&&n(s)?s.current!=null?uo({element:s.current,padding:o}).fn(r):{}:s?uo({element:s,padding:o}).fn(r):{}}}},Gp=(e,n)=>({...Fp(e),options:[e,n]}),Yp=(e,n)=>({...zp(e),options:[e,n]}),Kp=(e,n)=>({...Up(e),options:[e,n]}),Xp=(e,n)=>({...$p(e),options:[e,n]}),Zp=(e,n)=>({...Bp(e),options:[e,n]}),Jp=(e,n)=>({...Wp(e),options:[e,n]}),Qp=(e,n)=>({...Hp(e),options:[e,n]});var eh="Arrow",pi=l.forwardRef((e,n)=>{const{children:r,width:s=10,height:o=5,...a}=e;return t.jsx(K.svg,{...a,ref:n,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});pi.displayName=eh;var th=pi;function hi(e){const[n,r]=l.useState(void 0);return pe(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let i,c;if("borderBoxSize"in a){const f=a.borderBoxSize,u=Array.isArray(f)?f[0]:f;i=u.inlineSize,c=u.blockSize}else i=e.offsetWidth,c=e.offsetHeight;r({width:i,height:c})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),n}var vs="Popper",[xi,vi]=ot(vs),[nh,gi]=xi(vs),bi=e=>{const{__scopePopper:n,children:r}=e,[s,o]=l.useState(null);return t.jsx(nh,{scope:n,anchor:s,onAnchorChange:o,children:r})};bi.displayName=vs;var yi="PopperAnchor",wi=l.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:s,...o}=e,a=gi(yi,r),i=l.useRef(null),c=se(n,i);return l.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||i.current)}),s?null:t.jsx(K.div,{...o,ref:c})});wi.displayName=yi;var gs="PopperContent",[rh,sh]=xi(gs),ji=l.forwardRef((e,n)=>{var U,ne,me,Q,X,Z;const{__scopePopper:r,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:g,...p}=e,x=gi(gs,r),[w,y]=l.useState(null),b=se(n,ve=>y(ve)),[T,O]=l.useState(null),M=hi(T),_=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,D=s+(a!=="center"?"-"+a:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],C=N.length>0,I={padding:k,boundary:N.filter(ah),altBoundary:C},{refs:R,floatingStyles:j,placement:A,isPositioned:P,middlewareData:E}=qp({strategy:"fixed",placement:D,whileElementsMounted:(...ve)=>Lp(...ve,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[Gp({mainAxis:o+S,alignmentAxis:i}),f&&Yp({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Kp():void 0,...I}),f&&Xp({...I}),Zp({...I,apply:({elements:ve,rects:_e,availableWidth:kt,availableHeight:Mt})=>{const{width:Lt,height:kc}=_e.reference,sn=ve.floating.style;sn.setProperty("--radix-popper-available-width",`${kt}px`),sn.setProperty("--radix-popper-available-height",`${Mt}px`),sn.setProperty("--radix-popper-anchor-width",`${Lt}px`),sn.setProperty("--radix-popper-anchor-height",`${kc}px`)}}),T&&Qp({element:T,padding:c}),ih({arrowWidth:_,arrowHeight:S}),h&&Jp({strategy:"referenceHidden",...I})]}),[L,J]=Si(A),te=xe(g);pe(()=>{P&&(te==null||te())},[P,te]);const We=(U=E.arrow)==null?void 0:U.x,Ae=(ne=E.arrow)==null?void 0:ne.y,Ne=((me=E.arrow)==null?void 0:me.centerOffset)!==0,[xt,ct]=l.useState();return pe(()=>{w&&ct(window.getComputedStyle(w).zIndex)},[w]),t.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:P?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xt,"--radix-popper-transform-origin":[(Q=E.transformOrigin)==null?void 0:Q.x,(X=E.transformOrigin)==null?void 0:X.y].join(" "),...((Z=E.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(rh,{scope:r,placedSide:L,onArrowChange:O,arrowX:We,arrowY:Ae,shouldHideArrow:Ne,children:t.jsx(K.div,{"data-side":L,"data-align":J,...p,ref:b,style:{...p.style,animation:P?void 0:"none"}})})})});ji.displayName=gs;var Ni="PopperArrow",oh={top:"bottom",right:"left",bottom:"top",left:"right"},Ci=l.forwardRef(function(n,r){const{__scopePopper:s,...o}=n,a=sh(Ni,s),i=oh[a.placedSide];return t.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:t.jsx(th,{...o,ref:r,style:{...o.style,display:"block"}})})});Ci.displayName=Ni;function ah(e){return e!==null}var ih=e=>({name:"transformOrigin",options:e,fn(n){var x,w,y;const{placement:r,rects:s,middlewareData:o}=n,i=((x=o.arrow)==null?void 0:x.centerOffset)!==0,c=i?0:e.arrowWidth,f=i?0:e.arrowHeight,[u,d]=Si(r),m={start:"0%",center:"50%",end:"100%"}[d],h=(((w=o.arrow)==null?void 0:w.x)??0)+c/2,v=(((y=o.arrow)==null?void 0:y.y)??0)+f/2;let g="",p="";return u==="bottom"?(g=i?m:`${h}px`,p=`${-f}px`):u==="top"?(g=i?m:`${h}px`,p=`${s.floating.height+f}px`):u==="right"?(g=`${-f}px`,p=i?m:`${v}px`):u==="left"&&(g=`${s.floating.width+f}px`,p=i?m:`${v}px`),{data:{x:g,y:p}}}});function Si(e){const[n,r="center"]=e.split("-");return[n,r]}var ch=bi,lh=wi,dh=ji,uh=Ci;function Ei(e){const n=l.useRef({value:e,previous:e});return l.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var fh=[" ","Enter","ArrowUp","ArrowDown"],mh=[" ","Enter"],rn="Select",[Vn,qn,ph]=qr(rn),[Ot,Cx]=ot(rn,[ph,vi]),Hn=vi(),[hh,at]=Ot(rn),[xh,vh]=Ot(rn),Ii=e=>{const{__scopeSelect:n,children:r,open:s,defaultOpen:o,onOpenChange:a,value:i,defaultValue:c,onValueChange:f,dir:u,name:d,autoComplete:m,disabled:h,required:v,form:g}=e,p=Hn(n),[x,w]=l.useState(null),[y,b]=l.useState(null),[T,O]=l.useState(!1),M=ls(u),[_=!1,S]=ut({prop:s,defaultProp:o,onChange:a}),[D,k]=ut({prop:i,defaultProp:c,onChange:f}),N=l.useRef(null),C=x?g||!!x.closest("form"):!0,[I,R]=l.useState(new Set),j=Array.from(I).map(A=>A.props.value).join(";");return t.jsx(ch,{...p,children:t.jsxs(hh,{required:v,scope:n,trigger:x,onTriggerChange:w,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:T,onValueNodeHasChildrenChange:O,contentId:Qe(),value:D,onValueChange:k,open:_,onOpenChange:S,dir:M,triggerPointerDownPosRef:N,disabled:h,children:[t.jsx(Vn.Provider,{scope:n,children:t.jsx(xh,{scope:e.__scopeSelect,onNativeOptionAdd:l.useCallback(A=>{R(P=>new Set(P).add(A))},[]),onNativeOptionRemove:l.useCallback(A=>{R(P=>{const E=new Set(P);return E.delete(A),E})},[]),children:r})}),C?t.jsxs(Ji,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:m,value:D,onChange:A=>k(A.target.value),disabled:h,form:g,children:[D===void 0?t.jsx("option",{value:""}):null,Array.from(I)]},j):null]})})};Ii.displayName=rn;var Ti="SelectTrigger",Di=l.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:s=!1,...o}=e,a=Hn(r),i=at(Ti,r),c=i.disabled||s,f=se(n,i.onTriggerChange),u=qn(r),d=l.useRef("touch"),[m,h,v]=Qi(p=>{const x=u().filter(b=>!b.disabled),w=x.find(b=>b.value===i.value),y=ec(x,p,w);y!==void 0&&i.onValueChange(y.value)}),g=p=>{c||(i.onOpenChange(!0),v()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return t.jsx(lh,{asChild:!0,...a,children:t.jsx(K.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Zi(i.value)?"":void 0,...o,ref:f,onClick:W(o.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:W(o.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:W(o.onKeyDown,p=>{const x=m.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&fh.includes(p.key)&&(g(),p.preventDefault())})})})});Di.displayName=Ti;var Ri="SelectValue",Pi=l.forwardRef((e,n)=>{const{__scopeSelect:r,className:s,style:o,children:a,placeholder:i="",...c}=e,f=at(Ri,r),{onValueNodeHasChildrenChange:u}=f,d=a!==void 0,m=se(n,f.onValueNodeChange);return pe(()=>{u(d)},[u,d]),t.jsx(K.span,{...c,ref:m,style:{pointerEvents:"none"},children:Zi(f.value)?t.jsx(t.Fragment,{children:i}):a})});Pi.displayName=Ri;var gh="SelectIcon",Ai=l.forwardRef((e,n)=>{const{__scopeSelect:r,children:s,...o}=e;return t.jsx(K.span,{"aria-hidden":!0,...o,ref:n,children:s||"▼"})});Ai.displayName=gh;var bh="SelectPortal",_i=e=>t.jsx(On,{asChild:!0,...e});_i.displayName=bh;var pt="SelectContent",Oi=l.forwardRef((e,n)=>{const r=at(pt,e.__scopeSelect),[s,o]=l.useState();if(pe(()=>{o(new DocumentFragment)},[]),!r.open){const a=s;return a?Kt.createPortal(t.jsx(ki,{scope:e.__scopeSelect,children:t.jsx(Vn.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),a):null}return t.jsx(Mi,{...e,ref:n})});Oi.displayName=pt;var Ce=10,[ki,it]=Ot(pt),yh="SelectContentImpl",wh=Et("SelectContent.RemoveScroll"),Mi=l.forwardRef((e,n)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:c,sideOffset:f,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:h,collisionPadding:v,sticky:g,hideWhenDetached:p,avoidCollisions:x,...w}=e,y=at(pt,r),[b,T]=l.useState(null),[O,M]=l.useState(null),_=se(n,U=>T(U)),[S,D]=l.useState(null),[k,N]=l.useState(null),C=qn(r),[I,R]=l.useState(!1),j=l.useRef(!1);l.useEffect(()=>{if(b)return _a(b)},[b]),Ca();const A=l.useCallback(U=>{const[ne,...me]=C().map(Z=>Z.ref.current),[Q]=me.slice(-1),X=document.activeElement;for(const Z of U)if(Z===X||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===ne&&O&&(O.scrollTop=0),Z===Q&&O&&(O.scrollTop=O.scrollHeight),Z==null||Z.focus(),document.activeElement!==X))return},[C,O]),P=l.useCallback(()=>A([S,b]),[A,S,b]);l.useEffect(()=>{I&&P()},[I,P]);const{onOpenChange:E,triggerPointerDownPosRef:L}=y;l.useEffect(()=>{if(b){let U={x:0,y:0};const ne=Q=>{var X,Z;U={x:Math.abs(Math.round(Q.pageX)-(((X=L.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((Z=L.current)==null?void 0:Z.y)??0))}},me=Q=>{U.x<=10&&U.y<=10?Q.preventDefault():b.contains(Q.target)||E(!1),document.removeEventListener("pointermove",ne),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",me,{capture:!0})}}},[b,E,L]),l.useEffect(()=>{const U=()=>E(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[E]);const[J,te]=Qi(U=>{const ne=C().filter(X=>!X.disabled),me=ne.find(X=>X.ref.current===document.activeElement),Q=ec(ne,U,me);Q&&setTimeout(()=>Q.ref.current.focus())}),We=l.useCallback((U,ne,me)=>{const Q=!j.current&&!me;(y.value!==void 0&&y.value===ne||Q)&&(D(U),Q&&(j.current=!0))},[y.value]),Ae=l.useCallback(()=>b==null?void 0:b.focus(),[b]),Ne=l.useCallback((U,ne,me)=>{const Q=!j.current&&!me;(y.value!==void 0&&y.value===ne||Q)&&N(U)},[y.value]),xt=s==="popper"?Or:Li,ct=xt===Or?{side:c,sideOffset:f,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:h,collisionPadding:v,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return t.jsx(ki,{scope:r,content:b,viewport:O,onViewportChange:M,itemRefCallback:We,selectedItem:S,onItemLeave:Ae,itemTextRefCallback:Ne,focusSelectedItem:P,selectedItemText:k,position:s,isPositioned:I,searchRef:J,children:t.jsx(ss,{as:wh,allowPinchZoom:!0,children:t.jsx(rs,{asChild:!0,trapped:y.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:W(o,U=>{var ne;(ne=y.trigger)==null||ne.focus({preventScroll:!0}),U.preventDefault()}),children:t.jsx(_n,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:t.jsx(xt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:U=>U.preventDefault(),...w,...ct,onPlaced:()=>R(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:W(w.onKeyDown,U=>{const ne=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!ne&&U.key.length===1&&te(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let Q=C().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(U.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const X=U.target,Z=Q.indexOf(X);Q=Q.slice(Z+1)}setTimeout(()=>A(Q)),U.preventDefault()}})})})})})})});Mi.displayName=yh;var jh="SelectItemAlignedPosition",Li=l.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:s,...o}=e,a=at(pt,r),i=it(pt,r),[c,f]=l.useState(null),[u,d]=l.useState(null),m=se(n,_=>d(_)),h=qn(r),v=l.useRef(!1),g=l.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:w,focusSelectedItem:y}=i,b=l.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&u&&p&&x&&w){const _=a.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),k=w.getBoundingClientRect();if(a.dir!=="rtl"){const X=k.left-S.left,Z=D.left-X,ve=_.left-Z,_e=_.width+ve,kt=Math.max(_e,S.width),Mt=window.innerWidth-Ce,Lt=ro(Z,[Ce,Math.max(Ce,Mt-kt)]);c.style.minWidth=_e+"px",c.style.left=Lt+"px"}else{const X=S.right-k.right,Z=window.innerWidth-D.right-X,ve=window.innerWidth-_.right-Z,_e=_.width+ve,kt=Math.max(_e,S.width),Mt=window.innerWidth-Ce,Lt=ro(Z,[Ce,Math.max(Ce,Mt-kt)]);c.style.minWidth=_e+"px",c.style.right=Lt+"px"}const N=h(),C=window.innerHeight-Ce*2,I=p.scrollHeight,R=window.getComputedStyle(u),j=parseInt(R.borderTopWidth,10),A=parseInt(R.paddingTop,10),P=parseInt(R.borderBottomWidth,10),E=parseInt(R.paddingBottom,10),L=j+A+I+E+P,J=Math.min(x.offsetHeight*5,L),te=window.getComputedStyle(p),We=parseInt(te.paddingTop,10),Ae=parseInt(te.paddingBottom,10),Ne=_.top+_.height/2-Ce,xt=C-Ne,ct=x.offsetHeight/2,U=x.offsetTop+ct,ne=j+A+U,me=L-ne;if(ne<=Ne){const X=N.length>0&&x===N[N.length-1].ref.current;c.style.bottom="0px";const Z=u.clientHeight-p.offsetTop-p.offsetHeight,ve=Math.max(xt,ct+(X?Ae:0)+Z+P),_e=ne+ve;c.style.height=_e+"px"}else{const X=N.length>0&&x===N[0].ref.current;c.style.top="0px";const ve=Math.max(Ne,j+p.offsetTop+(X?We:0)+ct)+me;c.style.height=ve+"px",p.scrollTop=ne-Ne+p.offsetTop}c.style.margin=`${Ce}px 0`,c.style.minHeight=J+"px",c.style.maxHeight=C+"px",s==null||s(),requestAnimationFrame(()=>v.current=!0)}},[h,a.trigger,a.valueNode,c,u,p,x,w,a.dir,s]);pe(()=>b(),[b]);const[T,O]=l.useState();pe(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const M=l.useCallback(_=>{_&&g.current===!0&&(b(),y==null||y(),g.current=!1)},[b,y]);return t.jsx(Ch,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:M,children:t.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:t.jsx(K.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Li.displayName=jh;var Nh="SelectPopperPosition",Or=l.forwardRef((e,n)=>{const{__scopeSelect:r,align:s="start",collisionPadding:o=Ce,...a}=e,i=Hn(r);return t.jsx(dh,{...i,...a,ref:n,align:s,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Or.displayName=Nh;var[Ch,bs]=Ot(pt,{}),kr="SelectViewport",Fi=l.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:s,...o}=e,a=it(kr,r),i=bs(kr,r),c=se(n,a.onViewportChange),f=l.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),t.jsx(Vn.Slot,{scope:r,children:t.jsx(K.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:W(o.onScroll,u=>{const d=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&m){const v=Math.abs(f.current-d.scrollTop);if(v>0){const g=window.innerHeight-Ce*2,p=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),w=Math.max(p,x);if(w<g){const y=w+v,b=Math.min(g,y),T=y-b;m.style.height=b+"px",m.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,m.style.justifyContent="flex-end")}}}f.current=d.scrollTop})})})]})});Fi.displayName=kr;var zi="SelectGroup",[Sh,Eh]=Ot(zi),Ih=l.forwardRef((e,n)=>{const{__scopeSelect:r,...s}=e,o=Qe();return t.jsx(Sh,{scope:r,id:o,children:t.jsx(K.div,{role:"group","aria-labelledby":o,...s,ref:n})})});Ih.displayName=zi;var $i="SelectLabel",Bi=l.forwardRef((e,n)=>{const{__scopeSelect:r,...s}=e,o=Eh($i,r);return t.jsx(K.div,{id:o.id,...s,ref:n})});Bi.displayName=$i;var An="SelectItem",[Th,Wi]=Ot(An),Ui=l.forwardRef((e,n)=>{const{__scopeSelect:r,value:s,disabled:o=!1,textValue:a,...i}=e,c=at(An,r),f=it(An,r),u=c.value===s,[d,m]=l.useState(a??""),[h,v]=l.useState(!1),g=se(n,y=>{var b;return(b=f.itemRefCallback)==null?void 0:b.call(f,y,s,o)}),p=Qe(),x=l.useRef("touch"),w=()=>{o||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(Th,{scope:r,value:s,disabled:o,textId:p,isSelected:u,onItemTextChange:l.useCallback(y=>{m(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:t.jsx(Vn.ItemSlot,{scope:r,value:s,disabled:o,textValue:d,children:t.jsx(K.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:g,onFocus:W(i.onFocus,()=>v(!0)),onBlur:W(i.onBlur,()=>v(!1)),onClick:W(i.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:W(i.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:W(i.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:W(i.onPointerMove,y=>{var b;x.current=y.pointerType,o?(b=f.onItemLeave)==null||b.call(f):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:W(i.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=f.onItemLeave)==null||b.call(f))}),onKeyDown:W(i.onKeyDown,y=>{var T;((T=f.searchRef)==null?void 0:T.current)!==""&&y.key===" "||(mh.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});Ui.displayName=An;var Bt="SelectItemText",Vi=l.forwardRef((e,n)=>{const{__scopeSelect:r,className:s,style:o,...a}=e,i=at(Bt,r),c=it(Bt,r),f=Wi(Bt,r),u=vh(Bt,r),[d,m]=l.useState(null),h=se(n,w=>m(w),f.onItemTextChange,w=>{var y;return(y=c.itemTextRefCallback)==null?void 0:y.call(c,w,f.value,f.disabled)}),v=d==null?void 0:d.textContent,g=l.useMemo(()=>t.jsx("option",{value:f.value,disabled:f.disabled,children:v},f.value),[f.disabled,f.value,v]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return pe(()=>(p(g),()=>x(g)),[p,x,g]),t.jsxs(t.Fragment,{children:[t.jsx(K.span,{id:f.textId,...a,ref:h}),f.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Kt.createPortal(a.children,i.valueNode):null]})});Vi.displayName=Bt;var qi="SelectItemIndicator",Hi=l.forwardRef((e,n)=>{const{__scopeSelect:r,...s}=e;return Wi(qi,r).isSelected?t.jsx(K.span,{"aria-hidden":!0,...s,ref:n}):null});Hi.displayName=qi;var Mr="SelectScrollUpButton",Gi=l.forwardRef((e,n)=>{const r=it(Mr,e.__scopeSelect),s=bs(Mr,e.__scopeSelect),[o,a]=l.useState(!1),i=se(n,s.onScrollButtonChange);return pe(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=f.scrollTop>0;a(u)};const f=r.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),o?t.jsx(Ki,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=r;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});Gi.displayName=Mr;var Lr="SelectScrollDownButton",Yi=l.forwardRef((e,n)=>{const r=it(Lr,e.__scopeSelect),s=bs(Lr,e.__scopeSelect),[o,a]=l.useState(!1),i=se(n,s.onScrollButtonChange);return pe(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=f.scrollHeight-f.clientHeight,d=Math.ceil(f.scrollTop)<u;a(d)};const f=r.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),o?t.jsx(Ki,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=r;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});Yi.displayName=Lr;var Ki=l.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:s,...o}=e,a=it("SelectScrollButton",r),i=l.useRef(null),c=qn(r),f=l.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return l.useEffect(()=>()=>f(),[f]),pe(()=>{var d;const u=c().find(m=>m.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[c]),t.jsx(K.div,{"aria-hidden":!0,...o,ref:n,style:{flexShrink:0,...o.style},onPointerDown:W(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:W(o.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:W(o.onPointerLeave,()=>{f()})})}),Dh="SelectSeparator",Xi=l.forwardRef((e,n)=>{const{__scopeSelect:r,...s}=e;return t.jsx(K.div,{"aria-hidden":!0,...s,ref:n})});Xi.displayName=Dh;var Fr="SelectArrow",Rh=l.forwardRef((e,n)=>{const{__scopeSelect:r,...s}=e,o=Hn(r),a=at(Fr,r),i=it(Fr,r);return a.open&&i.position==="popper"?t.jsx(uh,{...o,...s,ref:n}):null});Rh.displayName=Fr;function Zi(e){return e===""||e===void 0}var Ji=l.forwardRef((e,n)=>{const{value:r,...s}=e,o=l.useRef(null),a=se(n,o),i=Ei(r);return l.useEffect(()=>{const c=o.current,f=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(f,"value").set;if(i!==r&&d){const m=new Event("change",{bubbles:!0});d.call(c,r),c.dispatchEvent(m)}},[i,r]),t.jsx(kn,{asChild:!0,children:t.jsx("select",{...s,ref:a,defaultValue:r})})});Ji.displayName="BubbleSelect";function Qi(e){const n=xe(e),r=l.useRef(""),s=l.useRef(0),o=l.useCallback(i=>{const c=r.current+i;n(c),function f(u){r.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>f(""),1e3))}(c)},[n]),a=l.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,o,a]}function ec(e,n,r){const o=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,a=r?e.indexOf(r):-1;let i=Ph(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==r));const f=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function Ph(e,n){return e.map((r,s)=>e[(n+s)%e.length])}var Ah=Ii,tc=Di,_h=Pi,Oh=Ai,kh=_i,nc=Oi,Mh=Fi,rc=Bi,sc=Ui,Lh=Vi,Fh=Hi,oc=Gi,ac=Yi,ic=Xi;const ce=Ah,le=_h,oe=l.forwardRef(({className:e,children:n,...r},s)=>t.jsxs(tc,{ref:s,className:$("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[n,t.jsx(Oh,{asChild:!0,children:t.jsx(No,{className:"h-4 w-4 opacity-50"})})]}));oe.displayName=tc.displayName;const cc=l.forwardRef(({className:e,...n},r)=>t.jsx(oc,{ref:r,className:$("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(rl,{className:"h-4 w-4"})}));cc.displayName=oc.displayName;const lc=l.forwardRef(({className:e,...n},r)=>t.jsx(ac,{ref:r,className:$("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(No,{className:"h-4 w-4"})}));lc.displayName=ac.displayName;const ae=l.forwardRef(({className:e,children:n,position:r="popper",...s},o)=>t.jsx(kh,{children:t.jsxs(nc,{ref:o,className:$("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[t.jsx(cc,{}),t.jsx(Mh,{className:$("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),t.jsx(lc,{})]})}));ae.displayName=nc.displayName;const zh=l.forwardRef(({className:e,...n},r)=>t.jsx(rc,{ref:r,className:$("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n}));zh.displayName=rc.displayName;const V=l.forwardRef(({className:e,children:n,...r},s)=>t.jsxs(sc,{ref:s,className:$("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Fh,{children:t.jsx(sl,{className:"h-4 w-4"})})}),t.jsx(Lh,{children:n})]}));V.displayName=sc.displayName;const $h=l.forwardRef(({className:e,...n},r)=>t.jsx(ic,{ref:r,className:$("-mx-1 my-1 h-px bg-muted",e),...n}));$h.displayName=ic.displayName;const Bh=()=>{const[e,n]=l.useState([]),[r,s]=l.useState([]),[o,a]=l.useState([]),[i,c]=l.useState([]),[f,u]=l.useState(""),[d,m]=l.useState("all"),[h,v]=l.useState(!1),[g,p]=l.useState(!1),[x,w]=l.useState(null),{toast:y}=st(),[b,T]=l.useState({clienteId:"",tipoServicioId:"",equipoId:"",fecha:"",hora:"",estado:"Programado",prioridad:"Media",observaciones:""});l.useEffect(()=>{O()},[]);const O=()=>{n(z.getServicios()),s(z.getClientes()),a(z.getTiposServicio()),c(z.getEquipos())},M=()=>{T({clienteId:"",tipoServicioId:"",equipoId:"",fecha:"",hora:"",estado:"Programado",prioridad:"Media",observaciones:""})},_=()=>{if(!b.clienteId||!b.tipoServicioId||!b.equipoId||!b.fecha||!b.hora){y({title:"Error",description:"Por favor complete todos los campos obligatorios",variant:"destructive"});return}const j=r.find(E=>E.id===b.clienteId);if(!j)return;const A={id:Date.now().toString(),clienteId:b.clienteId,tipoServicioId:b.tipoServicioId,equipoId:b.equipoId,fecha:b.fecha,hora:b.hora,estado:b.estado,direccion:j.direccion,observaciones:b.observaciones,prioridad:b.prioridad,fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()},P=[...e,A];n(P),z.saveServicios(P),y({title:"Éxito",description:"Servicio creado correctamente"}),M(),v(!1)},S=()=>{if(!x||!b.clienteId||!b.tipoServicioId||!b.equipoId||!b.fecha||!b.hora){y({title:"Error",description:"Por favor complete todos los campos obligatorios",variant:"destructive"});return}const j=r.find(E=>E.id===b.clienteId);if(!j)return;const A={...x,clienteId:b.clienteId,tipoServicioId:b.tipoServicioId,equipoId:b.equipoId,fecha:b.fecha,hora:b.hora,estado:b.estado,direccion:j.direccion,observaciones:b.observaciones,prioridad:b.prioridad,fechaActualizacion:new Date().toISOString()},P=e.map(E=>E.id===x.id?A:E);n(P),z.saveServicios(P),y({title:"Éxito",description:"Servicio actualizado correctamente"}),M(),p(!1),w(null)},D=j=>{if(confirm("¿Está seguro de que desea eliminar este servicio?")){const A=e.filter(P=>P.id!==j);n(A),z.saveServicios(A),y({title:"Éxito",description:"Servicio eliminado correctamente"})}},k=j=>{w(j),T({clienteId:j.clienteId,tipoServicioId:j.tipoServicioId,equipoId:j.equipoId,fecha:j.fecha,hora:j.hora,estado:j.estado,prioridad:j.prioridad,observaciones:j.observaciones||""}),p(!0)},N=j=>{const A=r.find(P=>P.id===j);return A?A.nombre:"Cliente no encontrado"},C=j=>{const A=o.find(P=>P.id===j);return A?{nombre:A.nombre,precio:A.precio}:{nombre:"Tipo no encontrado",precio:0}},R=e.filter(j=>{var E;const A=N(j.clienteId).toLowerCase().includes(f.toLowerCase())||C(j.tipoServicioId).nombre.toLowerCase().includes(f.toLowerCase())||((E=j.observaciones)==null?void 0:E.toLowerCase().includes(f.toLowerCase())),P=d==="all"||j.estado===d;return A&&P}).sort((j,A)=>{const P=new Date(`${j.fecha} ${j.hora}`),E=new Date(`${A.fecha} ${A.hora}`);return P.getTime()-E.getTime()});return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Servicios"}),t.jsx("p",{className:"text-gray-600",children:"Gestión de servicios de limpieza de campanas"})]}),t.jsxs(ze,{open:h,onOpenChange:v,children:[t.jsx(tn,{asChild:!0,children:t.jsxs(F,{onClick:()=>M(),children:[t.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Nuevo Servicio"]})}),t.jsxs(Ee,{className:"max-w-md",children:[t.jsx(Ie,{children:t.jsx(Te,{children:"Crear Nuevo Servicio"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Cliente *"}),t.jsxs(ce,{value:b.clienteId,onValueChange:j=>T({...b,clienteId:j}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar cliente"})}),t.jsx(ae,{children:r.map(j=>t.jsx(V,{value:j.id,children:j.nombre},j.id))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Tipo de Servicio *"}),t.jsxs(ce,{value:b.tipoServicioId,onValueChange:j=>T({...b,tipoServicioId:j}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar tipo"})}),t.jsx(ae,{children:o.map(j=>t.jsxs(V,{value:j.id,children:[j.nombre," - ",de(j.precio)]},j.id))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Equipo *"}),t.jsxs(ce,{value:b.equipoId,onValueChange:j=>T({...b,equipoId:j}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar equipo"})}),t.jsx(ae,{children:i.filter(j=>j.activo).map(j=>t.jsxs(V,{value:j.id,children:[j.nombre," - ",j.lider]},j.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Fecha *"}),t.jsx(q,{type:"date",value:b.fecha,onChange:j=>T({...b,fecha:j.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Hora *"}),t.jsx(q,{type:"time",value:b.hora,onChange:j=>T({...b,hora:j.target.value})})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Estado"}),t.jsxs(ce,{value:b.estado,onValueChange:j=>T({...b,estado:j}),children:[t.jsx(oe,{children:t.jsx(le,{})}),t.jsxs(ae,{children:[t.jsx(V,{value:"Programado",children:"Programado"}),t.jsx(V,{value:"En Curso",children:"En Curso"}),t.jsx(V,{value:"Realizado",children:"Realizado"}),t.jsx(V,{value:"Cancelado",children:"Cancelado"}),t.jsx(V,{value:"Pendiente",children:"Pendiente"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Prioridad"}),t.jsxs(ce,{value:b.prioridad,onValueChange:j=>T({...b,prioridad:j}),children:[t.jsx(oe,{children:t.jsx(le,{})}),t.jsxs(ae,{children:[t.jsx(V,{value:"Alta",children:"Alta"}),t.jsx(V,{value:"Media",children:"Media"}),t.jsx(V,{value:"Baja",children:"Baja"}),t.jsx(V,{value:"Urgente",children:"Urgente"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Observaciones"}),t.jsx(It,{value:b.observaciones,onChange:j=>T({...b,observaciones:j.target.value}),placeholder:"Observaciones adicionales..."})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(F,{onClick:_,className:"flex-1",children:"Crear Servicio"}),t.jsx(F,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"})]})]})]})]})]}),t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Zt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(q,{placeholder:"Buscar servicios...",value:f,onChange:j=>u(j.target.value),className:"pl-10"})]}),t.jsxs(ce,{value:d,onValueChange:m,children:[t.jsxs(oe,{className:"w-48",children:[t.jsx(ol,{className:"w-4 h-4 mr-2"}),t.jsx(le,{})]}),t.jsxs(ae,{children:[t.jsx(V,{value:"all",children:"Todos los estados"}),t.jsx(V,{value:"Programado",children:"Programado"}),t.jsx(V,{value:"En Curso",children:"En Curso"}),t.jsx(V,{value:"Realizado",children:"Realizado"}),t.jsx(V,{value:"Cancelado",children:"Cancelado"}),t.jsx(V,{value:"Pendiente",children:"Pendiente"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(j=>{const A=r.find(L=>L.id===j.clienteId),P=C(j.tipoServicioId),E=i.find(L=>L.id===j.equipoId);return t.jsxs(H,{className:"hover:shadow-lg transition-shadow",children:[t.jsxs(ue,{className:"pb-3",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx(fe,{className:"text-lg",children:A==null?void 0:A.nombre}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>k(j),children:t.jsx(Ct,{className:"w-4 h-4"})}),t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>D(j.id),children:t.jsx(St,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(je,{className:Ff(j.estado),children:j.estado}),t.jsx(je,{className:zf(j.prioridad),children:j.prioridad})]})]}),t.jsxs(Y,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(qt,{className:"w-4 h-4"}),t.jsxs("span",{children:[wt(j.fecha)," a las ",j.hora]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(et,{className:"w-4 h-4"}),t.jsx("span",{children:P.nombre})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Co,{className:"w-4 h-4"}),t.jsxs("span",{children:[E==null?void 0:E.nombre," (",E==null?void 0:E.lider,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(jo,{className:"w-4 h-4"}),t.jsx("span",{className:"truncate",children:j.direccion})]}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[t.jsx("span",{className:"text-lg font-semibold text-green-600",children:de(P.precio)}),t.jsxs("span",{className:"text-xs text-gray-500",children:["ID: ",j.id]})]}),j.observaciones&&t.jsx("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:j.observaciones})]})]},j.id)})}),R.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(qt,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No hay servicios"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:f||d!=="all"?"No se encontraron servicios con los filtros aplicados.":"Comience creando un nuevo servicio."})]}),t.jsx(ze,{open:g,onOpenChange:p,children:t.jsxs(Ee,{className:"max-w-md",children:[t.jsx(Ie,{children:t.jsx(Te,{children:"Editar Servicio"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Cliente *"}),t.jsxs(ce,{value:b.clienteId,onValueChange:j=>T({...b,clienteId:j}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar cliente"})}),t.jsx(ae,{children:r.map(j=>t.jsx(V,{value:j.id,children:j.nombre},j.id))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Tipo de Servicio *"}),t.jsxs(ce,{value:b.tipoServicioId,onValueChange:j=>T({...b,tipoServicioId:j}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar tipo"})}),t.jsx(ae,{children:o.map(j=>t.jsxs(V,{value:j.id,children:[j.nombre," - ",de(j.precio)]},j.id))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Equipo *"}),t.jsxs(ce,{value:b.equipoId,onValueChange:j=>T({...b,equipoId:j}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar equipo"})}),t.jsx(ae,{children:i.filter(j=>j.activo).map(j=>t.jsxs(V,{value:j.id,children:[j.nombre," - ",j.lider]},j.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Fecha *"}),t.jsx(q,{type:"date",value:b.fecha,onChange:j=>T({...b,fecha:j.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Hora *"}),t.jsx(q,{type:"time",value:b.hora,onChange:j=>T({...b,hora:j.target.value})})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Estado"}),t.jsxs(ce,{value:b.estado,onValueChange:j=>T({...b,estado:j}),children:[t.jsx(oe,{children:t.jsx(le,{})}),t.jsxs(ae,{children:[t.jsx(V,{value:"Programado",children:"Programado"}),t.jsx(V,{value:"En Curso",children:"En Curso"}),t.jsx(V,{value:"Realizado",children:"Realizado"}),t.jsx(V,{value:"Cancelado",children:"Cancelado"}),t.jsx(V,{value:"Pendiente",children:"Pendiente"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Prioridad"}),t.jsxs(ce,{value:b.prioridad,onValueChange:j=>T({...b,prioridad:j}),children:[t.jsx(oe,{children:t.jsx(le,{})}),t.jsxs(ae,{children:[t.jsx(V,{value:"Alta",children:"Alta"}),t.jsx(V,{value:"Media",children:"Media"}),t.jsx(V,{value:"Baja",children:"Baja"}),t.jsx(V,{value:"Urgente",children:"Urgente"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Observaciones"}),t.jsx(It,{value:b.observaciones,onChange:j=>T({...b,observaciones:j.target.value}),placeholder:"Observaciones adicionales..."})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(F,{onClick:S,className:"flex-1",children:"Guardar Cambios"}),t.jsx(F,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"})]})]})]})})]})};var ys="Switch",[Wh,Sx]=ot(ys),[Uh,Vh]=Wh(ys),dc=l.forwardRef((e,n)=>{const{__scopeSwitch:r,name:s,checked:o,defaultChecked:a,required:i,disabled:c,value:f="on",onCheckedChange:u,form:d,...m}=e,[h,v]=l.useState(null),g=se(n,b=>v(b)),p=l.useRef(!1),x=h?d||!!h.closest("form"):!0,[w=!1,y]=ut({prop:o,defaultProp:a,onChange:u});return t.jsxs(Uh,{scope:r,checked:w,disabled:c,children:[t.jsx(K.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":mc(w),"data-disabled":c?"":void 0,disabled:c,value:f,...m,ref:g,onClick:W(e.onClick,b=>{y(T=>!T),x&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),x&&t.jsx(qh,{control:h,bubbles:!p.current,name:s,value:f,checked:w,required:i,disabled:c,form:d,style:{transform:"translateX(-100%)"}})]})});dc.displayName=ys;var uc="SwitchThumb",fc=l.forwardRef((e,n)=>{const{__scopeSwitch:r,...s}=e,o=Vh(uc,r);return t.jsx(K.span,{"data-state":mc(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:n})});fc.displayName=uc;var qh=e=>{const{control:n,checked:r,bubbles:s=!0,...o}=e,a=l.useRef(null),i=Ei(r),c=hi(n);return l.useEffect(()=>{const f=a.current,u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&m){const h=new Event("click",{bubbles:s});m.call(f,r),f.dispatchEvent(h)}},[i,r,s]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mc(e){return e?"checked":"unchecked"}var pc=dc,Hh=fc;const wn=l.forwardRef(({className:e,...n},r)=>t.jsx(pc,{className:$("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=unchecked]:bg-zinc-200 dark:focus-visible:ring-zinc-300 dark:focus-visible:ring-offset-zinc-950 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=unchecked]:bg-zinc-800",e),...n,ref:r,children:t.jsx(Hh,{className:$("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 dark:bg-zinc-950")})}));wn.displayName=pc.displayName;const Gh=()=>{const[e,n]=l.useState([]),[r,s]=l.useState(""),[o,a]=l.useState(!1),[i,c]=l.useState(!1),[f,u]=l.useState(null),{toast:d}=st(),[m,h]=l.useState({nombre:"",lider:"",telefono:"",email:"",especialidad:"",activo:!0}),v=["Limpieza de Campanas","Mantenimiento de Ductos","Inspección y Desengrase","Emergencias","Limpieza Industrial","Mantenimiento Preventivo"];l.useEffect(()=>{g()},[]);const g=()=>{n(z.getEquipos())},p=()=>{h({nombre:"",lider:"",telefono:"",email:"",especialidad:"",activo:!0})},x=()=>m.nombre.trim()?m.lider.trim()?m.telefono.trim()?!m.email.trim()||!m.email.includes("@")?(d({title:"Error",description:"Debe ingresar un email válido",variant:"destructive"}),!1):m.especialidad?!0:(d({title:"Error",description:"La especialidad es obligatoria",variant:"destructive"}),!1):(d({title:"Error",description:"El teléfono es obligatorio",variant:"destructive"}),!1):(d({title:"Error",description:"El líder del equipo es obligatorio",variant:"destructive"}),!1):(d({title:"Error",description:"El nombre del equipo es obligatorio",variant:"destructive"}),!1),w=()=>{if(!x())return;const S={id:Date.now().toString(),nombre:m.nombre.trim(),lider:m.lider.trim(),telefono:Ir(m.telefono),email:m.email.trim().toLowerCase(),especialidad:m.especialidad,activo:m.activo,fechaCreacion:new Date().toISOString()},D=[...e,S];n(D),z.saveEquipos(D),d({title:"Éxito",description:"Equipo creado correctamente"}),p(),a(!1)},y=()=>{if(!f||!x())return;const S={...f,nombre:m.nombre.trim(),lider:m.lider.trim(),telefono:Ir(m.telefono),email:m.email.trim().toLowerCase(),especialidad:m.especialidad,activo:m.activo},D=e.map(k=>k.id===f.id?S:k);n(D),z.saveEquipos(D),d({title:"Éxito",description:"Equipo actualizado correctamente"}),p(),c(!1),u(null)},b=S=>{if(z.getServicios().some(N=>N.equipoId===S)){d({title:"Error",description:"No se puede eliminar el equipo porque tiene servicios asignados",variant:"destructive"});return}if(confirm("¿Está seguro de que desea eliminar este equipo?")){const N=e.filter(C=>C.id!==S);n(N),z.saveEquipos(N),d({title:"Éxito",description:"Equipo eliminado correctamente"})}},T=S=>{const D=e.map(N=>N.id===S?{...N,activo:!N.activo}:N);n(D),z.saveEquipos(D);const k=e.find(N=>N.id===S);d({title:"Estado actualizado",description:`Equipo ${k!=null&&k.activo?"desactivado":"activado"} correctamente`})},O=S=>{u(S),h({nombre:S.nombre,lider:S.lider,telefono:S.telefono,email:S.email,especialidad:S.especialidad,activo:S.activo}),c(!0)},M=e.filter(S=>S.nombre.toLowerCase().includes(r.toLowerCase())||S.lider.toLowerCase().includes(r.toLowerCase())||S.especialidad.toLowerCase().includes(r.toLowerCase())),_=S=>z.getServicios().filter(k=>k.equipoId===S).length;return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Equipos de Trabajo"}),t.jsx("p",{className:"text-gray-600",children:"Gestión de equipos de limpieza de campanas"})]}),t.jsxs(ze,{open:o,onOpenChange:a,children:[t.jsx(tn,{asChild:!0,children:t.jsxs(F,{onClick:()=>p(),children:[t.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Nuevo Equipo"]})}),t.jsxs(Ee,{className:"max-w-md",children:[t.jsx(Ie,{children:t.jsx(Te,{children:"Crear Nuevo Equipo"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nombre del Equipo *"}),t.jsx(q,{value:m.nombre,onChange:S=>h({...m,nombre:S.target.value}),placeholder:"Ej: Equipo Alpha"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Líder del Equipo *"}),t.jsx(q,{value:m.lider,onChange:S=>h({...m,lider:S.target.value}),placeholder:"Nombre completo del líder"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Teléfono *"}),t.jsx(q,{value:m.telefono,onChange:S=>h({...m,telefono:S.target.value}),placeholder:"+5411-4567-8901"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Email *"}),t.jsx(q,{type:"email",value:m.email,onChange:S=>h({...m,email:S.target.value}),placeholder:"equipo@pulcro.com.ar"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Especialidad *"}),t.jsxs(ce,{value:m.especialidad,onValueChange:S=>h({...m,especialidad:S}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar especialidad"})}),t.jsx(ae,{children:v.map(S=>t.jsx(V,{value:S,children:S},S))})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(wn,{checked:m.activo,onCheckedChange:S=>h({...m,activo:S})}),t.jsx("label",{className:"text-sm font-medium",children:"Equipo activo"})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(F,{onClick:w,className:"flex-1",children:"Crear Equipo"}),t.jsx(F,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"})]})]})]})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Zt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(q,{placeholder:"Buscar equipos...",value:r,onChange:S=>s(S.target.value),className:"pl-10"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:e.length}),t.jsx("p",{className:"text-sm text-gray-600",children:"Total Equipos"})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(al,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:e.filter(S=>S.activo).length}),t.jsx("p",{className:"text-sm text-gray-600",children:"Equipos Activos"})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:new Set(e.map(S=>S.especialidad)).size}),t.jsx("p",{className:"text-sm text-gray-600",children:"Especialidades"})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:e.filter(S=>!S.activo).length}),t.jsx("p",{className:"text-sm text-gray-600",children:"Equipos Inactivos"})]})]})})})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(S=>{const D=_(S.id);return t.jsxs(H,{className:`hover:shadow-lg transition-shadow ${S.activo?"":"opacity-75"}`,children:[t.jsx(ue,{className:"pb-3",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs(fe,{className:"text-lg flex items-center gap-2",children:[S.nombre,S.activo?t.jsx(je,{className:"bg-green-100 text-green-800",children:"Activo"}):t.jsx(je,{className:"bg-gray-100 text-gray-800",children:"Inactivo"})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.especialidad})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>O(S),children:t.jsx(Ct,{className:"w-4 h-4"})}),t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>b(S.id),children:t.jsx(St,{className:"w-4 h-4"})})]})]})}),t.jsxs(Y,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Je,{className:"w-4 h-4"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Líder:"})," ",S.lider]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(yo,{className:"w-4 h-4"}),t.jsx("span",{children:S.telefono})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(wo,{className:"w-4 h-4"}),t.jsx("span",{className:"truncate",children:S.email})]}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Servicios: "}),t.jsx("span",{className:"font-semibold text-blue-600",children:D})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Activo:"}),t.jsx(wn,{checked:S.activo,onCheckedChange:()=>T(S.id)})]})]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Creado: ",new Date(S.fechaCreacion).toLocaleDateString("es-AR")]})]})]},S.id)})}),M.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Je,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No hay equipos"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r?"No se encontraron equipos que coincidan con la búsqueda.":"Comience creando un nuevo equipo de trabajo."})]}),t.jsx(ze,{open:i,onOpenChange:c,children:t.jsxs(Ee,{className:"max-w-md",children:[t.jsx(Ie,{children:t.jsx(Te,{children:"Editar Equipo"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nombre del Equipo *"}),t.jsx(q,{value:m.nombre,onChange:S=>h({...m,nombre:S.target.value}),placeholder:"Ej: Equipo Alpha"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Líder del Equipo *"}),t.jsx(q,{value:m.lider,onChange:S=>h({...m,lider:S.target.value}),placeholder:"Nombre completo del líder"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Teléfono *"}),t.jsx(q,{value:m.telefono,onChange:S=>h({...m,telefono:S.target.value}),placeholder:"+5411-4567-8901"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Email *"}),t.jsx(q,{type:"email",value:m.email,onChange:S=>h({...m,email:S.target.value}),placeholder:"equipo@pulcro.com.ar"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Especialidad *"}),t.jsxs(ce,{value:m.especialidad,onValueChange:S=>h({...m,especialidad:S}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar especialidad"})}),t.jsx(ae,{children:v.map(S=>t.jsx(V,{value:S,children:S},S))})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(wn,{checked:m.activo,onCheckedChange:S=>h({...m,activo:S})}),t.jsx("label",{className:"text-sm font-medium",children:"Equipo activo"})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(F,{onClick:y,className:"flex-1",children:"Guardar Cambios"}),t.jsx(F,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"})]})]})]})})]})},Yh=()=>{const[e,n]=l.useState([]),[r,s]=l.useState(""),[o,a]=l.useState(!1),[i,c]=l.useState(!1),[f,u]=l.useState(null),{toast:d}=st(),[m,h]=l.useState({nombre:"",precio:"",descripcion:"",tiempoEstimado:"",frecuencia:"",categoria:""}),v=["Mensual","Bimensual","Trimestral","Semestral","Anual","Bajo demanda"],g=["Básico","Completo","Mantenimiento","Inspección","Especializado","Urgente"];l.useEffect(()=>{p()},[]);const p=()=>{n(z.getTiposServicio())},x=()=>{h({nombre:"",precio:"",descripcion:"",tiempoEstimado:"",frecuencia:"",categoria:""})},w=()=>{if(!m.nombre.trim())return d({title:"Error",description:"El nombre del servicio es obligatorio",variant:"destructive"}),!1;const N=parseFloat(m.precio);if(isNaN(N)||N<=0)return d({title:"Error",description:"Debe ingresar un precio válido mayor a 0",variant:"destructive"}),!1;if(!m.descripcion.trim())return d({title:"Error",description:"La descripción es obligatoria",variant:"destructive"}),!1;const C=parseInt(m.tiempoEstimado);return isNaN(C)||C<=0?(d({title:"Error",description:"Debe ingresar un tiempo estimado válido (en minutos)",variant:"destructive"}),!1):m.frecuencia?m.categoria?!0:(d({title:"Error",description:"La categoría es obligatoria",variant:"destructive"}),!1):(d({title:"Error",description:"La frecuencia es obligatoria",variant:"destructive"}),!1)},y=()=>{if(!w())return;const N={id:Date.now().toString(),nombre:m.nombre.trim(),precio:parseFloat(m.precio),descripcion:m.descripcion.trim(),tiempoEstimado:parseInt(m.tiempoEstimado),frecuencia:m.frecuencia,categoria:m.categoria,fechaCreacion:new Date().toISOString()},C=[...e,N];n(C),z.saveTiposServicio(C),d({title:"Éxito",description:"Tipo de servicio creado correctamente"}),x(),a(!1)},b=()=>{if(!f||!w())return;const N={...f,nombre:m.nombre.trim(),precio:parseFloat(m.precio),descripcion:m.descripcion.trim(),tiempoEstimado:parseInt(m.tiempoEstimado),frecuencia:m.frecuencia,categoria:m.categoria},C=e.map(I=>I.id===f.id?N:I);n(C),z.saveTiposServicio(C),d({title:"Éxito",description:"Tipo de servicio actualizado correctamente"}),x(),c(!1),u(null)},T=N=>{if(z.getServicios().some(R=>R.tipoServicioId===N)){d({title:"Error",description:"No se puede eliminar el tipo de servicio porque está siendo usado en servicios existentes",variant:"destructive"});return}if(confirm("¿Está seguro de que desea eliminar este tipo de servicio?")){const R=e.filter(j=>j.id!==N);n(R),z.saveTiposServicio(R),d({title:"Éxito",description:"Tipo de servicio eliminado correctamente"})}},O=N=>{u(N),h({nombre:N.nombre,precio:N.precio.toString(),descripcion:N.descripcion,tiempoEstimado:N.tiempoEstimado.toString(),frecuencia:N.frecuencia,categoria:N.categoria}),c(!0)},M=e.filter(N=>N.nombre.toLowerCase().includes(r.toLowerCase())||N.descripcion.toLowerCase().includes(r.toLowerCase())||N.categoria.toLowerCase().includes(r.toLowerCase())),_=N=>z.getServicios().filter(I=>I.tipoServicioId===N).length,S=N=>({Básico:"bg-blue-100 text-blue-800",Completo:"bg-green-100 text-green-800",Mantenimiento:"bg-yellow-100 text-yellow-800",Inspección:"bg-purple-100 text-purple-800",Especializado:"bg-red-100 text-red-800",Urgente:"bg-orange-100 text-orange-800"})[N]||"bg-gray-100 text-gray-800",D=e.reduce((N,C)=>N+_(C.id),0),k=e.length>0?e.reduce((N,C)=>N+C.precio,0)/e.length:0;return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tipos de Servicio"}),t.jsx("p",{className:"text-gray-600",children:"Gestión de tipos de servicios y precios"})]}),t.jsxs(ze,{open:o,onOpenChange:a,children:[t.jsx(tn,{asChild:!0,children:t.jsxs(F,{onClick:()=>x(),children:[t.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Nuevo Tipo"]})}),t.jsxs(Ee,{className:"max-w-md",children:[t.jsx(Ie,{children:t.jsx(Te,{children:"Crear Nuevo Tipo de Servicio"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nombre del Servicio *"}),t.jsx(q,{value:m.nombre,onChange:N=>h({...m,nombre:N.target.value}),placeholder:"Ej: Limpieza Básica de Campana"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Precio (ARS) *"}),t.jsx(q,{type:"number",min:"0",step:"100",value:m.precio,onChange:N=>h({...m,precio:N.target.value}),placeholder:"15000"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Descripción *"}),t.jsx(It,{value:m.descripcion,onChange:N=>h({...m,descripcion:N.target.value}),placeholder:"Descripción detallada del servicio...",rows:3})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Tiempo Estimado (minutos) *"}),t.jsx(q,{type:"number",min:"1",value:m.tiempoEstimado,onChange:N=>h({...m,tiempoEstimado:N.target.value}),placeholder:"120"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Frecuencia Recomendada *"}),t.jsxs(ce,{value:m.frecuencia,onValueChange:N=>h({...m,frecuencia:N}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar frecuencia"})}),t.jsx(ae,{children:v.map(N=>t.jsx(V,{value:N,children:N},N))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Categoría *"}),t.jsxs(ce,{value:m.categoria,onValueChange:N=>h({...m,categoria:N}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar categoría"})}),t.jsx(ae,{children:g.map(N=>t.jsx(V,{value:N,children:N},N))})]})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(F,{onClick:y,className:"flex-1",children:"Crear Tipo"}),t.jsx(F,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"})]})]})]})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Zt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(q,{placeholder:"Buscar tipos de servicio...",value:r,onChange:N=>s(N.target.value),className:"pl-10"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:e.length}),t.jsx("p",{className:"text-sm text-gray-600",children:"Tipos de Servicio"})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Cn,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:de(k)}),t.jsx("p",{className:"text-sm text-gray-600",children:"Precio Promedio"})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Is,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:new Set(e.map(N=>N.categoria)).size}),t.jsx("p",{className:"text-sm text-gray-600",children:"Categorías"})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yr,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:D}),t.jsx("p",{className:"text-sm text-gray-600",children:"Servicios Activos"})]})]})})})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(N=>{const C=_(N.id);return t.jsxs(H,{className:"hover:shadow-lg transition-shadow",children:[t.jsx(ue,{className:"pb-3",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(fe,{className:"text-lg",children:N.nombre}),t.jsx(je,{className:S(N.categoria),children:N.categoria})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>O(N),children:t.jsx(Ct,{className:"w-4 h-4"})}),t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>T(N.id),children:t.jsx(St,{className:"w-4 h-4"})})]})]})}),t.jsxs(Y,{className:"space-y-3",children:[t.jsx("div",{className:"text-sm text-gray-600",children:N.descripcion}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(yr,{className:"w-4 h-4"}),t.jsxs("span",{children:["Duración: ",$f(N.tiempoEstimado)]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Is,{className:"w-4 h-4"}),t.jsxs("span",{children:["Frecuencia: ",N.frecuencia]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[t.jsx("span",{className:"text-2xl font-bold text-green-600",children:de(N.precio)}),t.jsxs("div",{className:"text-sm text-gray-500",children:[C," servicio",C!==1?"s":""]})]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Creado: ",new Date(N.fechaCreacion).toLocaleDateString("es-AR")]})]})]},N.id)})}),M.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(et,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No hay tipos de servicio"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r?"No se encontraron tipos de servicio que coincidan con la búsqueda.":"Comience creando un nuevo tipo de servicio."})]}),t.jsx(ze,{open:i,onOpenChange:c,children:t.jsxs(Ee,{className:"max-w-md",children:[t.jsx(Ie,{children:t.jsx(Te,{children:"Editar Tipo de Servicio"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nombre del Servicio *"}),t.jsx(q,{value:m.nombre,onChange:N=>h({...m,nombre:N.target.value}),placeholder:"Ej: Limpieza Básica de Campana"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Precio (ARS) *"}),t.jsx(q,{type:"number",min:"0",step:"100",value:m.precio,onChange:N=>h({...m,precio:N.target.value}),placeholder:"15000"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Descripción *"}),t.jsx(It,{value:m.descripcion,onChange:N=>h({...m,descripcion:N.target.value}),placeholder:"Descripción detallada del servicio...",rows:3})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Tiempo Estimado (minutos) *"}),t.jsx(q,{type:"number",min:"1",value:m.tiempoEstimado,onChange:N=>h({...m,tiempoEstimado:N.target.value}),placeholder:"120"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Frecuencia Recomendada *"}),t.jsxs(ce,{value:m.frecuencia,onValueChange:N=>h({...m,frecuencia:N}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar frecuencia"})}),t.jsx(ae,{children:v.map(N=>t.jsx(V,{value:N,children:N},N))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Categoría *"}),t.jsxs(ce,{value:m.categoria,onValueChange:N=>h({...m,categoria:N}),children:[t.jsx(oe,{children:t.jsx(le,{placeholder:"Seleccionar categoría"})}),t.jsx(ae,{children:g.map(N=>t.jsx(V,{value:N,children:N},N))})]})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(F,{onClick:b,className:"flex-1",children:"Guardar Cambios"}),t.jsx(F,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"})]})]})]})})]})},Kh=()=>{const[e,n]=l.useState([]),[r,s]=l.useState(""),[o,a]=l.useState(!1),[i,c]=l.useState(!1),[f,u]=l.useState(null),[d,m]=l.useState(!1),[h,v]=l.useState(!1),{toast:g}=st(),[p,x]=l.useState({username:"",password:"",nombre:"",email:"",nivel:"user"});l.useEffect(()=>{w()},[]);const w=()=>{n(z.getUsers())},y=()=>{x({username:"",password:"",nombre:"",email:"",nivel:"user"}),m(!1),v(!1)},b=(I=!1)=>p.username.trim()?p.nombre.trim()?!p.email.trim()||!p.email.includes("@")?(g({title:"Error",description:"Debe ingresar un email válido",variant:"destructive"}),!1):!I&&!p.password.trim()?(g({title:"Error",description:"La contraseña es obligatoria",variant:"destructive"}),!1):p.password&&p.password.length<4?(g({title:"Error",description:"La contraseña debe tener al menos 4 caracteres",variant:"destructive"}),!1):e.find(A=>A.username.toLowerCase()===p.username.toLowerCase()&&(!I||A.id!==(f==null?void 0:f.id)))?(g({title:"Error",description:"Ya existe un usuario con ese nombre de usuario",variant:"destructive"}),!1):e.find(A=>A.email.toLowerCase()===p.email.toLowerCase()&&(!I||A.id!==(f==null?void 0:f.id)))?(g({title:"Error",description:"Ya existe un usuario con ese email",variant:"destructive"}),!1):!0:(g({title:"Error",description:"El nombre completo es obligatorio",variant:"destructive"}),!1):(g({title:"Error",description:"El nombre de usuario es obligatorio",variant:"destructive"}),!1),T=()=>{if(!b())return;const I={id:Date.now().toString(),username:p.username.trim(),password:p.password,nombre:p.nombre.trim(),email:p.email.trim().toLowerCase(),nivel:p.nivel,fechaCreacion:new Date().toISOString()},R=[...e,I];n(R),z.saveUsers(R),g({title:"Éxito",description:"Usuario creado correctamente"}),y(),a(!1)},O=()=>{if(!f||!b(!0))return;const I={...f,username:p.username.trim(),nombre:p.nombre.trim(),email:p.email.trim().toLowerCase(),nivel:p.nivel,...p.password&&{password:p.password}},R=e.map(A=>A.id===f.id?I:A);n(R),z.saveUsers(R);const j=z.getCurrentUser();j&&j.id===f.id&&z.setCurrentUser(I),g({title:"Éxito",description:"Usuario actualizado correctamente"}),y(),c(!1),u(null)},M=I=>{const R=z.getCurrentUser();if(R&&R.id===I){g({title:"Error",description:"No puede eliminar su propio usuario",variant:"destructive"});return}const j=e.find(A=>A.id===I);if((j==null?void 0:j.username)==="admin"){g({title:"Error",description:"No se puede eliminar el usuario administrador principal",variant:"destructive"});return}if(confirm("¿Está seguro de que desea eliminar este usuario?")){const A=e.filter(P=>P.id!==I);n(A),z.saveUsers(A),g({title:"Éxito",description:"Usuario eliminado correctamente"})}},_=I=>{u(I),x({username:I.username,password:"",nombre:I.nombre,email:I.email,nivel:I.nivel}),c(!0)},S=e.filter(I=>I.nombre.toLowerCase().includes(r.toLowerCase())||I.username.toLowerCase().includes(r.toLowerCase())||I.email.toLowerCase().includes(r.toLowerCase())),D=z.getCurrentUser();if(!((D==null?void 0:D.nivel)==="admin"))return t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Xn,{className:"mx-auto h-12 w-12 text-red-400"}),t.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"Acceso Denegado"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Solo los administradores pueden gestionar usuarios."})]})});const N=e.filter(I=>I.nivel==="admin").length,C=e.filter(I=>I.nivel==="user").length;return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestión de Usuarios"}),t.jsx("p",{className:"text-gray-600",children:"Administración de usuarios del sistema"})]}),t.jsxs(ze,{open:o,onOpenChange:a,children:[t.jsx(tn,{asChild:!0,children:t.jsxs(F,{onClick:()=>y(),children:[t.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Nuevo Usuario"]})}),t.jsxs(Ee,{className:"max-w-md",children:[t.jsx(Ie,{children:t.jsx(Te,{children:"Crear Nuevo Usuario"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nombre de Usuario *"}),t.jsx(q,{value:p.username,onChange:I=>x({...p,username:I.target.value}),placeholder:"nombre_usuario"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Contraseña *"}),t.jsxs("div",{className:"relative",children:[t.jsx(q,{type:d?"text":"password",value:p.password,onChange:I=>x({...p,password:I.target.value}),placeholder:"Contraseña"}),t.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>m(!d),children:d?t.jsx(Ts,{className:"h-4 w-4"}):t.jsx(Ds,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nombre Completo *"}),t.jsx(q,{value:p.nombre,onChange:I=>x({...p,nombre:I.target.value}),placeholder:"Nombre y apellido"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Email *"}),t.jsx(q,{type:"email",value:p.email,onChange:I=>x({...p,email:I.target.value}),placeholder:"usuario@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nivel de Acceso *"}),t.jsxs(ce,{value:p.nivel,onValueChange:I=>x({...p,nivel:I}),children:[t.jsx(oe,{children:t.jsx(le,{})}),t.jsxs(ae,{children:[t.jsx(V,{value:"admin",children:"Administrador"}),t.jsx(V,{value:"user",children:"Usuario"})]})]})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(F,{onClick:T,className:"flex-1",children:"Crear Usuario"}),t.jsx(F,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"})]})]})]})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Zt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(q,{placeholder:"Buscar usuarios...",value:r,onChange:I=>s(I.target.value),className:"pl-10"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Je,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:e.length}),t.jsx("p",{className:"text-sm text-gray-600",children:"Total Usuarios"})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Xn,{className:"h-5 w-5 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:N}),t.jsx("p",{className:"text-sm text-gray-600",children:"Administradores"})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Co,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:C}),t.jsx("p",{className:"text-sm text-gray-600",children:"Usuarios"})]})]})})})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(I=>{const R=(D==null?void 0:D.id)===I.id;return t.jsxs(H,{className:`hover:shadow-lg transition-shadow ${R?"ring-2 ring-blue-500":""}`,children:[t.jsx(ue,{className:"pb-3",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs(fe,{className:"text-lg flex items-center gap-2",children:[I.nombre,R&&t.jsx(je,{variant:"outline",className:"text-xs",children:"Usted"})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["@",I.username]}),t.jsx(je,{className:I.nivel==="admin"?"bg-red-100 text-red-800":"bg-green-100 text-green-800",children:I.nivel==="admin"?"Administrador":"Usuario"})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>_(I),children:t.jsx(Ct,{className:"w-4 h-4"})}),I.username!=="admin"&&!R&&t.jsx(F,{variant:"ghost",size:"sm",onClick:()=>M(I.id),children:t.jsx(St,{className:"w-4 h-4"})})]})]})}),t.jsxs(Y,{className:"space-y-3",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("strong",{children:"Email:"})," ",I.email]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Creado: ",wt(I.fechaCreacion)]}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:["ID: ",I.id]}),I.nivel==="admin"&&t.jsx(Xn,{className:"w-4 h-4 text-red-500"})]})]})]},I.id)})}),S.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Je,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No hay usuarios"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r?"No se encontraron usuarios que coincidan con la búsqueda.":"Comience creando un nuevo usuario."})]}),t.jsx(ze,{open:i,onOpenChange:c,children:t.jsxs(Ee,{className:"max-w-md",children:[t.jsx(Ie,{children:t.jsx(Te,{children:"Editar Usuario"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nombre de Usuario *"}),t.jsx(q,{value:p.username,onChange:I=>x({...p,username:I.target.value}),placeholder:"nombre_usuario"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nueva Contraseña (opcional)"}),t.jsxs("div",{className:"relative",children:[t.jsx(q,{type:h?"text":"password",value:p.password,onChange:I=>x({...p,password:I.target.value}),placeholder:"Dejar vacío para mantener actual"}),t.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>v(!h),children:h?t.jsx(Ts,{className:"h-4 w-4"}):t.jsx(Ds,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nombre Completo *"}),t.jsx(q,{value:p.nombre,onChange:I=>x({...p,nombre:I.target.value}),placeholder:"Nombre y apellido"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Email *"}),t.jsx(q,{type:"email",value:p.email,onChange:I=>x({...p,email:I.target.value}),placeholder:"usuario@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nivel de Acceso *"}),t.jsxs(ce,{value:p.nivel,onValueChange:I=>x({...p,nivel:I}),disabled:(f==null?void 0:f.username)==="admin",children:[t.jsx(oe,{children:t.jsx(le,{})}),t.jsxs(ae,{children:[t.jsx(V,{value:"admin",children:"Administrador"}),t.jsx(V,{value:"user",children:"Usuario"})]})]}),(f==null?void 0:f.username)==="admin"&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No se puede cambiar el nivel del administrador principal"})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(F,{onClick:O,className:"flex-1",children:"Guardar Cambios"}),t.jsx(F,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"})]})]})]})})]})};var xr="rovingFocusGroup.onEntryFocus",Xh={bubbles:!1,cancelable:!0},Gn="RovingFocusGroup",[zr,hc,Zh]=qr(Gn),[Jh,xc]=ot(Gn,[Zh]),[Qh,ex]=Jh(Gn),vc=l.forwardRef((e,n)=>t.jsx(zr.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(zr.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(tx,{...e,ref:n})})}));vc.displayName=Gn;var tx=l.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:o=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...m}=e,h=l.useRef(null),v=se(n,h),g=ls(a),[p=null,x]=ut({prop:i,defaultProp:c,onChange:f}),[w,y]=l.useState(!1),b=xe(u),T=hc(r),O=l.useRef(!1),[M,_]=l.useState(0);return l.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(xr,b),()=>S.removeEventListener(xr,b)},[b]),t.jsx(Qh,{scope:r,orientation:s,dir:g,loop:o,currentTabStopId:p,onItemFocus:l.useCallback(S=>x(S),[x]),onItemShiftTab:l.useCallback(()=>y(!0),[]),onFocusableItemAdd:l.useCallback(()=>_(S=>S+1),[]),onFocusableItemRemove:l.useCallback(()=>_(S=>S-1),[]),children:t.jsx(K.div,{tabIndex:w||M===0?-1:0,"data-orientation":s,...m,ref:v,style:{outline:"none",...e.style},onMouseDown:W(e.onMouseDown,()=>{O.current=!0}),onFocus:W(e.onFocus,S=>{const D=!O.current;if(S.target===S.currentTarget&&D&&!w){const k=new CustomEvent(xr,Xh);if(S.currentTarget.dispatchEvent(k),!k.defaultPrevented){const N=T().filter(A=>A.focusable),C=N.find(A=>A.active),I=N.find(A=>A.id===p),j=[C,I,...N].filter(Boolean).map(A=>A.ref.current);yc(j,d)}}O.current=!1}),onBlur:W(e.onBlur,()=>y(!1))})})}),gc="RovingFocusGroupItem",bc=l.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:o=!1,tabStopId:a,...i}=e,c=Qe(),f=a||c,u=ex(gc,r),d=u.currentTabStopId===f,m=hc(r),{onFocusableItemAdd:h,onFocusableItemRemove:v}=u;return l.useEffect(()=>{if(s)return h(),()=>v()},[s,h,v]),t.jsx(zr.ItemSlot,{scope:r,id:f,focusable:s,active:o,children:t.jsx(K.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:n,onMouseDown:W(e.onMouseDown,g=>{s?u.onItemFocus(f):g.preventDefault()}),onFocus:W(e.onFocus,()=>u.onItemFocus(f)),onKeyDown:W(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=sx(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=m().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")w.reverse();else if(p==="prev"||p==="next"){p==="prev"&&w.reverse();const y=w.indexOf(g.currentTarget);w=u.loop?ox(w,y+1):w.slice(y+1)}setTimeout(()=>yc(w))}})})})});bc.displayName=gc;var nx={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rx(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sx(e,n,r){const s=rx(e.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return nx[s]}function yc(e,n=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:n}),document.activeElement!==r))return}function ox(e,n){return e.map((r,s)=>e[(n+s)%e.length])}var ax=vc,ix=bc,ws="Tabs",[cx,Ex]=ot(ws,[xc]),wc=xc(),[lx,js]=cx(ws),jc=l.forwardRef((e,n)=>{const{__scopeTabs:r,value:s,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:c,activationMode:f="automatic",...u}=e,d=ls(c),[m,h]=ut({prop:s,onChange:o,defaultProp:a});return t.jsx(lx,{scope:r,baseId:Qe(),value:m,onValueChange:h,orientation:i,dir:d,activationMode:f,children:t.jsx(K.div,{dir:d,"data-orientation":i,...u,ref:n})})});jc.displayName=ws;var Nc="TabsList",Cc=l.forwardRef((e,n)=>{const{__scopeTabs:r,loop:s=!0,...o}=e,a=js(Nc,r),i=wc(r);return t.jsx(ax,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:s,children:t.jsx(K.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:n})})});Cc.displayName=Nc;var Sc="TabsTrigger",Ec=l.forwardRef((e,n)=>{const{__scopeTabs:r,value:s,disabled:o=!1,...a}=e,i=js(Sc,r),c=wc(r),f=Dc(i.baseId,s),u=Rc(i.baseId,s),d=s===i.value;return t.jsx(ix,{asChild:!0,...c,focusable:!o,active:d,children:t.jsx(K.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...a,ref:n,onMouseDown:W(e.onMouseDown,m=>{!o&&m.button===0&&m.ctrlKey===!1?i.onValueChange(s):m.preventDefault()}),onKeyDown:W(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(s)}),onFocus:W(e.onFocus,()=>{const m=i.activationMode!=="manual";!d&&!o&&m&&i.onValueChange(s)})})})});Ec.displayName=Sc;var Ic="TabsContent",Tc=l.forwardRef((e,n)=>{const{__scopeTabs:r,value:s,forceMount:o,children:a,...i}=e,c=js(Ic,r),f=Dc(c.baseId,s),u=Rc(c.baseId,s),d=s===c.value,m=l.useRef(d);return l.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),t.jsx(Rt,{present:o||d,children:({present:h})=>t.jsx(K.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":f,hidden:!h,id:u,tabIndex:0,...i,ref:n,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&a})})});Tc.displayName=Ic;function Dc(e,n){return`${e}-trigger-${n}`}function Rc(e,n){return`${e}-content-${n}`}var dx=jc,Pc=Cc,Ac=Ec,_c=Tc;const ux=dx,Oc=l.forwardRef(({className:e,...n},r)=>t.jsx(Pc,{ref:r,className:$("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",e),...n}));Oc.displayName=Pc.displayName;const jn=l.forwardRef(({className:e,...n},r)=>t.jsx(Ac,{ref:r,className:$("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",e),...n}));jn.displayName=Ac.displayName;const Nn=l.forwardRef(({className:e,...n},r)=>t.jsx(_c,{ref:r,className:$("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",e),...n}));Nn.displayName=_c.displayName;const fx=()=>{const[e,n]=l.useState([]),[r,s]=l.useState([]),[o,a]=l.useState([]),[i,c]=l.useState([]),[f,u]=l.useState(""),[d,m]=l.useState(""),[h,v]=l.useState("all"),[g,p]=l.useState(""),{toast:x}=st();l.useEffect(()=>{w();const D=new Date,k=new Date(D.getFullYear(),D.getMonth(),1),N=new Date(D.getFullYear(),D.getMonth()+1,0);u(k.toISOString().split("T")[0]),m(N.toISOString().split("T")[0]),p(D.toISOString().split("T")[0])},[]);const w=()=>{n(z.getServicios()),s(z.getClientes()),a(z.getTiposServicio()),c(z.getEquipos())},y=()=>e.filter(D=>{const k=new Date(D.fecha),N=f?new Date(f):new Date("1900-01-01"),C=d?new Date(d):new Date("2100-12-31");return k>=N&&k<=C&&(h==="all"||D.equipoId===h)}),b=()=>{const D=y(),k={total:0,realizados:0,pendientes:0,cancelados:0,serviciosRealizados:0,serviciosPendientes:0,serviciosCancelados:0,totalServicios:D.length};return D.forEach(N=>{const C=o.find(R=>R.id===N.tipoServicioId),I=(C==null?void 0:C.precio)||0;switch(k.total+=I,N.estado){case"Realizado":k.realizados+=I,k.serviciosRealizados++;break;case"Programado":case"En Curso":case"Pendiente":k.pendientes+=I,k.serviciosPendientes++;break;case"Cancelado":k.cancelados+=I,k.serviciosCancelados++;break}}),k},T=()=>{const D=y(),k={};return D.forEach(N=>{const C=i.find(j=>j.id===N.equipoId),I=o.find(j=>j.id===N.tipoServicioId),R=C?C.nombre:"Equipo no encontrado";k[N.equipoId]||(k[N.equipoId]={count:0,ingresos:0,equipo:R}),k[N.equipoId].count++,N.estado==="Realizado"&&(k[N.equipoId].ingresos+=(I==null?void 0:I.precio)||0)}),Object.entries(k).map(([N,C])=>({equipoId:N,...C}))},O=()=>{if(!g){x({title:"Error",description:"Seleccione una fecha para la hoja de ruta",variant:"destructive"});return}const D=e.filter(C=>C.fecha===g);if(D.length===0){x({title:"Sin servicios",description:"No hay servicios programados para la fecha seleccionada",variant:"destructive"});return}const k=D.reduce((C,I)=>{const R=I.equipoId;return C[R]||(C[R]=[]),C[R].push(I),C},{});let N=`🗓️ *HOJA DE RUTA - ${wt(g)}*

`;Object.entries(k).forEach(([C,I])=>{const R=i.find(A=>A.id===C),j=I.sort((A,P)=>A.hora.localeCompare(P.hora));N+=`👥 *EQUIPO: ${(R==null?void 0:R.nombre)||"Equipo no encontrado"}*
`,N+=`📞 *Líder: ${R==null?void 0:R.lider} - ${R==null?void 0:R.telefono}*

`,j.forEach((A,P)=>{const E=r.find(J=>J.id===A.clienteId),L=o.find(J=>J.id===A.tipoServicioId);N+=`📍 *Servicio ${P+1}*
`,N+=`⏰ *Hora:* ${A.hora}
`,N+=`🏢 *Cliente:* ${(E==null?void 0:E.nombre)||"Cliente no encontrado"}
`,N+=`📍 *Dirección:* ${A.direccion}
`,N+=`🔧 *Servicio:* ${(L==null?void 0:L.nombre)||"Tipo no encontrado"}
`,N+=`📞 *Contacto:* ${E==null?void 0:E.contacto} - ${E==null?void 0:E.telefono}
`,A.observaciones&&(N+=`📝 *Obs:* ${A.observaciones}
`),N+=`
`}),N+=`📊 *Servicios del equipo: ${j.length}*

`,N+=`═══════════════════════

`}),N+=`📊 *TOTAL SERVICIOS: ${D.length}*`,navigator.clipboard.writeText(N).then(()=>{x({title:"Éxito",description:"Hoja de ruta copiada al portapapeles"})}).catch(()=>{x({title:"Error",description:"No se pudo copiar al portapapeles",variant:"destructive"})})},M=()=>{const D=y();if(D.length===0){x({title:"Sin datos",description:"No hay servicios para exportar en el período seleccionado",variant:"destructive"});return}const N=[["Fecha","Hora","Cliente","Tipo de Servicio","Equipo","Estado","Precio","Dirección","Contacto","Teléfono","Observaciones"].join(","),...D.map(j=>{const A=r.find(L=>L.id===j.clienteId),P=o.find(L=>L.id===j.tipoServicioId),E=i.find(L=>L.id===j.equipoId);return[wt(j.fecha),j.hora,`"${(A==null?void 0:A.nombre)||"N/A"}"`,`"${(P==null?void 0:P.nombre)||"N/A"}"`,`"${(E==null?void 0:E.nombre)||"N/A"}"`,j.estado,(P==null?void 0:P.precio)||0,`"${j.direccion}"`,`"${(A==null?void 0:A.contacto)||"N/A"}"`,`"${(A==null?void 0:A.telefono)||"N/A"}"`,`"${j.observaciones||""}"`].join(",")})].join(`
`),C=new Blob([N],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),R=URL.createObjectURL(C);I.setAttribute("href",R),I.setAttribute("download",`reporte_servicios_${f}_${d}.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I),x({title:"Éxito",description:"Reporte exportado correctamente"})},_=b(),S=T();return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reportes y Análisis"}),t.jsx("p",{className:"text-gray-600",children:"Análisis de ganancias, hojas de ruta y reportes"})]})}),t.jsxs(ux,{defaultValue:"ganancias",className:"space-y-6",children:[t.jsxs(Oc,{className:"grid w-full grid-cols-3",children:[t.jsx(jn,{value:"ganancias",children:"Análisis de Ganancias"}),t.jsx(jn,{value:"equipos",children:"Reportes por Equipo"}),t.jsx(jn,{value:"rutas",children:"Hojas de Ruta"})]}),t.jsxs(Nn,{value:"ganancias",className:"space-y-6",children:[t.jsxs(H,{children:[t.jsx(ue,{children:t.jsx(fe,{className:"text-lg",children:"Filtros de Período"})}),t.jsx(Y,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Fecha Inicio"}),t.jsx(q,{type:"date",value:f,onChange:D=>u(D.target.value)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Fecha Fin"}),t.jsx(q,{type:"date",value:d,onChange:D=>m(D.target.value)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Equipo"}),t.jsxs(ce,{value:h,onValueChange:v,children:[t.jsx(oe,{children:t.jsx(le,{})}),t.jsxs(ae,{children:[t.jsx(V,{value:"all",children:"Todos los equipos"}),i.map(D=>t.jsx(V,{value:D.id,children:D.nombre},D.id))]})]})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs(F,{onClick:M,className:"w-full",children:[t.jsx(bo,{className:"w-4 h-4 mr-2"}),"Exportar Excel"]})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Cn,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:de(_.total)}),t.jsx("p",{className:"text-sm text-gray-600",children:"Facturación Total"})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(go,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:de(_.realizados)}),t.jsx("p",{className:"text-sm text-gray-600",children:"Ingresos Confirmados"})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(qt,{className:"h-5 w-5 text-yellow-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:de(_.pendientes)}),t.jsx("p",{className:"text-sm text-gray-600",children:"Ingresos Pendientes"})]})]})})}),t.jsx(H,{children:t.jsx(Y,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(il,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:_.totalServicios}),t.jsx("p",{className:"text-sm text-gray-600",children:"Total Servicios"})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs(H,{children:[t.jsx(ue,{children:t.jsx(fe,{className:"text-lg text-green-600",children:"Servicios Realizados"})}),t.jsx(Y,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Cantidad:"}),t.jsx("span",{className:"font-semibold",children:_.serviciosRealizados})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Ingresos:"}),t.jsx("span",{className:"font-semibold text-green-600",children:de(_.realizados)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Promedio:"}),t.jsx("span",{className:"font-semibold",children:de(_.serviciosRealizados>0?_.realizados/_.serviciosRealizados:0)})]})]})})]}),t.jsxs(H,{children:[t.jsx(ue,{children:t.jsx(fe,{className:"text-lg text-yellow-600",children:"Servicios Pendientes"})}),t.jsx(Y,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Cantidad:"}),t.jsx("span",{className:"font-semibold",children:_.serviciosPendientes})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Ingresos Est.:"}),t.jsx("span",{className:"font-semibold text-yellow-600",children:de(_.pendientes)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Promedio:"}),t.jsx("span",{className:"font-semibold",children:de(_.serviciosPendientes>0?_.pendientes/_.serviciosPendientes:0)})]})]})})]}),t.jsxs(H,{children:[t.jsx(ue,{children:t.jsx(fe,{className:"text-lg text-red-600",children:"Servicios Cancelados"})}),t.jsx(Y,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Cantidad:"}),t.jsx("span",{className:"font-semibold",children:_.serviciosCancelados})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Pérdidas:"}),t.jsx("span",{className:"font-semibold text-red-600",children:de(_.cancelados)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Promedio:"}),t.jsx("span",{className:"font-semibold",children:de(_.serviciosCancelados>0?_.cancelados/_.serviciosCancelados:0)})]})]})})]})]})]}),t.jsx(Nn,{value:"equipos",className:"space-y-6",children:t.jsxs(H,{children:[t.jsx(ue,{children:t.jsx(fe,{className:"text-lg",children:"Rendimiento por Equipo"})}),t.jsx(Y,{children:t.jsxs("div",{className:"space-y-4",children:[S.map(D=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold",children:D.equipo}),t.jsxs("p",{className:"text-sm text-gray-600",children:[D.count," servicio",D.count!==1?"s":""," en el período"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-lg font-bold text-green-600",children:de(D.ingresos)}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Prom: ",de(D.count>0?D.ingresos/D.count:0)]})]})]},D.equipoId)),S.length===0&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay datos para el período seleccionado"})]})})]})}),t.jsxs(Nn,{value:"rutas",className:"space-y-6",children:[t.jsxs(H,{children:[t.jsx(ue,{children:t.jsx(fe,{className:"text-lg",children:"Generar Hoja de Ruta para WhatsApp"})}),t.jsx(Y,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Fecha para Hoja de Ruta"}),t.jsx(q,{type:"date",value:g,onChange:D=>p(D.target.value)})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs(F,{onClick:O,className:"w-full",children:[t.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Generar y Copiar Hoja de Ruta"]})})]}),g&&t.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Vista Previa de Servicios del Día:"}),t.jsxs("div",{className:"space-y-2",children:[e.filter(D=>D.fecha===g).sort((D,k)=>D.hora.localeCompare(k.hora)).map(D=>{const k=r.find(C=>C.id===D.clienteId),N=o.find(C=>C.id===D.tipoServicioId);return t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{children:[D.hora," - ",k==null?void 0:k.nombre," (",N==null?void 0:N.nombre,")"]}),t.jsx(je,{children:D.estado})]},D.id)}),e.filter(D=>D.fecha===g).length===0&&t.jsx("p",{className:"text-gray-500",children:"No hay servicios programados para esta fecha"})]})]})]})})]}),t.jsxs(H,{children:[t.jsx(ue,{children:t.jsx(fe,{className:"text-lg",children:"Mensajes Individuales para WhatsApp"})}),t.jsx(Y,{children:t.jsx("div",{className:"space-y-4",children:e.filter(D=>D.fecha>=new Date().toISOString().split("T")[0]).slice(0,5).map(D=>{const k=r.find(R=>R.id===D.clienteId),N=o.find(R=>R.id===D.tipoServicioId),C=i.find(R=>R.id===D.equipoId);if(!k||!N)return null;const I=Bf(D,k,N,C);return t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("h4",{className:"font-semibold",children:[k.nombre," - ",wt(D.fecha)]}),t.jsxs(F,{size:"sm",onClick:()=>{navigator.clipboard.writeText(I),x({title:"Copiado",description:"Mensaje copiado al portapapeles"})},children:[t.jsx(Sn,{className:"w-4 h-4 mr-1"}),"Copiar"]})]}),t.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded whitespace-pre-line",children:I})]},D.id)})})})]})]})]})]})},mo=[{name:"Dashboard",href:"/dashboard",icon:cl,description:"Panel principal"},{name:"Clientes",href:"/clientes",icon:Je,description:"Gestión de clientes"},{name:"Servicios",href:"/servicios",icon:qt,description:"Programación de servicios"},{name:"Equipos",href:"/equipos",icon:ll,description:"Equipos de trabajo"},{name:"Tipos de Servicio",href:"/tipos-servicio",icon:et,description:"Catálogo de servicios"},{name:"Reportes",href:"/reportes",icon:dl,description:"Informes y reportes"}],mx=[{name:"Usuarios",href:"/usuarios",icon:ul,description:"Gestión de usuarios"}],px=({children:e})=>{const[n,r]=l.useState(!1),{user:s,logout:o,isAdmin:a}=Dt(),i=$c(),c=u=>i.pathname===u,f=a()?[...mo,...mx]:mo;return t.jsxs("div",{className:"flex h-screen bg-gray-100",children:[n&&t.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>r(!1),children:t.jsx("div",{className:"fixed inset-0 bg-gray-600 opacity-75"})}),t.jsx("div",{className:`
        fixed z-50 h-full w-64 bg-blue-900 transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0
        ${n?"translate-x-0":"-translate-x-full"}
      `,children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center justify-between h-16 px-4 bg-blue-800",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center mr-3",children:t.jsx(et,{className:"w-5 h-5 text-blue-800"})}),t.jsx("h1",{className:"text-xl font-bold text-white",children:"PULCRO"})]}),t.jsx("button",{onClick:()=>r(!1),className:"lg:hidden text-white hover:text-gray-200",children:t.jsx($r,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"px-4 py-4 bg-blue-800 border-b border-blue-700",children:t.jsxs("div",{className:"text-white",children:[t.jsx("p",{className:"text-sm font-medium",children:(s==null?void 0:s.nombre)||(s==null?void 0:s.username)}),t.jsx("p",{className:"text-xs text-blue-200 capitalize",children:s==null?void 0:s.nivel})]})}),t.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:f.map(u=>{const d=u.icon,m=c(u.href);return t.jsxs(vr,{to:u.href,className:`
                    group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors
                    ${m?"bg-blue-800 text-white":"text-blue-100 hover:bg-blue-800 hover:text-white"}
                  `,onClick:()=>r(!1),children:[t.jsx(d,{className:"mr-3 h-5 w-5"}),t.jsxs("div",{children:[t.jsx("div",{children:u.name}),t.jsx("div",{className:"text-xs text-blue-200",children:u.description})]})]},u.name)})}),t.jsx("div",{className:"p-4 border-t border-blue-700",children:t.jsxs(F,{onClick:o,variant:"ghost",className:"w-full justify-start text-blue-100 hover:bg-blue-800 hover:text-white",children:[t.jsx(fl,{className:"mr-3 h-5 w-5"}),"Cerrar Sesión"]})})]})}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{onClick:()=>r(!0),className:"lg:hidden text-gray-500 hover:text-gray-700",children:t.jsx(ml,{className:"w-6 h-6"})}),t.jsxs("div",{className:"ml-4 lg:ml-0",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Sistema de Gestión de Servicios de Limpieza"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Gestión profesional de limpieza de campanas extractoras"})]})]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:(s==null?void 0:s.nombre)||(s==null?void 0:s.username)}),t.jsx("p",{className:"text-xs text-gray-500 capitalize",children:s==null?void 0:s.nivel})]})})]})}),t.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e})]})]})},hx=({children:e})=>{const{isAuthenticated:n}=Dt();return n?t.jsx(t.Fragment,{children:e}):t.jsx(Ut,{to:"/login",replace:!0})},xx=({children:e})=>{const{isAuthenticated:n,isAdmin:r}=Dt();return n?r()?t.jsx(t.Fragment,{children:e}):t.jsx(Ut,{to:"/dashboard",replace:!0}):t.jsx(Ut,{to:"/login",replace:!0})},vx=()=>{const{isAuthenticated:e}=Dt();return t.jsxs(Ns,{children:[t.jsx(Oe,{path:"/login",element:t.jsx(Qd,{})}),t.jsx(Oe,{path:"/*",element:t.jsx(hx,{children:t.jsx(px,{children:t.jsxs(Ns,{children:[t.jsx(Oe,{path:"/dashboard",element:t.jsx(Vf,{})}),t.jsx(Oe,{path:"/clientes",element:t.jsx(tp,{})}),t.jsx(Oe,{path:"/servicios",element:t.jsx(Bh,{})}),t.jsx(Oe,{path:"/equipos",element:t.jsx(Gh,{})}),t.jsx(Oe,{path:"/tipos-servicio",element:t.jsx(Yh,{})}),t.jsx(Oe,{path:"/reportes",element:t.jsx(fx,{})}),t.jsx(Oe,{path:"/usuarios",element:t.jsx(xx,{children:t.jsx(Kh,{})})}),t.jsx(Oe,{path:"/",element:t.jsx(Ut,{to:"/dashboard",replace:!0})})]})})})})]})};function gx(){return t.jsx(So,{children:t.jsx(yl,{children:t.jsx(Bc,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(vx,{}),t.jsx(Kd,{})]})})})})}vl.createRoot(document.getElementById("root")).render(t.jsx(l.StrictMode,{children:t.jsx(So,{children:t.jsx(gx,{})})}));
